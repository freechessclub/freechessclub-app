/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={547:(e,t)=>{"use strict";t.q=function(e){var t,n,o,r,A,i;return A=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,0<(1>=arguments.length?0:arguments.length-1)?(t=(r=1>=arguments.length?void 0:arguments[1]).callback,o=function(){var e;for(n in e=[],r)i=r[n],"callback"!==n&&e.push(" "+n+"='"+i+"'");return e}().join(""),e.replace(A,(function(e,n,r){return""+n+(("function"==typeof t?t(r):void 0)||"<a href='"+r+"'"+o+">"+r+"</a>")}))):e.replace(A,"$1<a href='$2'>$2</a>")}},437:(e,t,n)=>{var o,r=function(e){var t="b",n="w",o=-1,r="p",A="k",i="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",s=["1-0","0-1","1/2-1/2","*"],a={b:[16,32,17,15],w:[-16,-32,-17,-15]},l={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},c=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],u=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],p={p:0,n:1,b:2,r:3,q:4,k:5},h={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},g={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},d={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},m={w:[{square:d.a1,flag:g.QSIDE_CASTLE},{square:d.h1,flag:g.KSIDE_CASTLE}],b:[{square:d.a8,flag:g.QSIDE_CASTLE},{square:d.h8,flag:g.KSIDE_CASTLE}]},f=new Array(128),v={w:o,b:o},b=n,w={w:0,b:0},y=o,k=0,C=1,E=[],M={},V={};function S(e){void 0===e&&(e=!1),f=new Array(128),v={w:o,b:o},b=n,w={w:0,b:0},y=o,k=0,C=1,E=[],e||(M={}),V={},Q(D())}function q(){for(var e=[],t={},n=function(e){e in V&&(t[e]=V[e])};E.length>0;)e.push(P());for(n(D());e.length>0;)z(e.pop()),n(D());V=t}function B(){I(i)}function I(e,r){void 0===r&&(r=!1);var A=e.split(/\s+/),i=A[0],s=0;if(!Y(e).valid)return!1;S(r);for(var a=0;a<i.length;a++){var l=i.charAt(a);if("/"===l)s+=8;else if(-1!=="0123456789".indexOf(l))s+=parseInt(l,10);else{var c=l<"a"?n:t;R({type:l.toLowerCase(),color:c},_(s)),s++}}return b=A[1],A[2].indexOf("K")>-1&&(w.w|=g.KSIDE_CASTLE),A[2].indexOf("Q")>-1&&(w.w|=g.QSIDE_CASTLE),A[2].indexOf("k")>-1&&(w.b|=g.KSIDE_CASTLE),A[2].indexOf("q")>-1&&(w.b|=g.QSIDE_CASTLE),y="-"===A[3]?o:d[A[3]],k=parseInt(A[4],10),C=parseInt(A[5],10),Q(D()),!0}function Y(e){var t=e.split(/\s+/);if(6!==t.length)return{valid:!1,error_number:1,error:"FEN string must contain six space-delimited fields."};if(isNaN(t[5])||parseInt(t[5],10)<=0)return{valid:!1,error_number:2,error:"6th field (move number) must be a positive integer."};if(isNaN(t[4])||parseInt(t[4],10)<0)return{valid:!1,error_number:3,error:"5th field (half move counter) must be a non-negative integer."};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{valid:!1,error_number:4,error:"4th field (en-passant square) is invalid."};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(t[2]))return{valid:!1,error_number:5,error:"3rd field (castling availability) is invalid."};if(!/^(w|b)$/.test(t[1]))return{valid:!1,error_number:6,error:"2nd field (side to move) is invalid."};var n=t[0].split("/");if(8!==n.length)return{valid:!1,error_number:7,error:"1st field (piece positions) does not contain 8 '/'-delimited rows."};for(var o=0;o<n.length;o++){for(var r=0,A=!1,i=0;i<n[o].length;i++)if(isNaN(n[o][i])){if(!/^[prnbqkPRNBQK]$/.test(n[o][i]))return{valid:!1,error_number:9,error:"1st field (piece positions) is invalid [invalid piece]."};r+=1,A=!1}else{if(A)return{valid:!1,error_number:8,error:"1st field (piece positions) is invalid [consecutive numbers]."};r+=parseInt(n[o][i],10),A=!0}if(8!==r)return{valid:!1,error_number:10,error:"1st field (piece positions) is invalid [row too large]."}}return"3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1]?{valid:!1,error_number:11,error:"Illegal en-passant square"}:{valid:!0,error_number:0,error:"No errors."}}function D(){for(var e=0,t="",r=d.a8;r<=d.h1;r++){if(null==f[r])e++;else{e>0&&(t+=e,e=0);var A=f[r].color,i=f[r].type;t+=A===n?i.toUpperCase():i.toLowerCase()}r+1&136&&(e>0&&(t+=e),r!==d.h1&&(t+="/"),e=0,r+=8)}var s="";w.w&g.KSIDE_CASTLE&&(s+="K"),w.w&g.QSIDE_CASTLE&&(s+="Q"),w.b&g.KSIDE_CASTLE&&(s+="k"),w.b&g.QSIDE_CASTLE&&(s+="q"),s=s||"-";var a=y===o?"-":_(y);return[t,b,s,a,k,C].join(" ")}function G(e){for(var t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(M[e[t]]=e[t+1]);return M}function Q(e){E.length>0||(e!==i?(M.SetUp="1",M.FEN=e):(delete M.SetUp,delete M.FEN))}function T(e){var t=f[d[e]];return t?{type:t.type,color:t.color}:null}function R(e,t){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(t in d))return!1;var n=d[t];return(e.type!=A||v[e.color]==o||v[e.color]==n)&&(f[n]={type:e.type,color:e.color},e.type===A&&(v[e.color]=n),Q(D()),!0)}function x(e,t,n,o,A){var i={color:b,from:t,to:n,flags:o,piece:e[t].type};return A&&(i.flags|=g.PROMOTION,i.promotion=A),e[n]?i.captured=e[n].type:o&g.EP_CAPTURE&&(i.captured=r),i}function N(e){function t(e,t,n,o,A){if(e[n].type!==r||0!==$(o)&&7!==$(o))t.push(x(e,n,o,A));else for(var i=["q","r","b","n"],s=0,a=i.length;s<a;s++)t.push(x(e,n,o,A,i[s]))}var n=[],o=b,i=ee(o),s={b:1,w:6},c=d.a8,u=d.h1,p=!1,h=void 0===e||!("legal"in e)||e.legal,m=void 0===e||!("piece"in e)||"string"!=typeof e.piece||e.piece.toLowerCase();if(void 0!==e&&"square"in e){if(!(e.square in d))return[];c=u=d[e.square],p=!0}for(var k=c;k<=u;k++)if(136&k)k+=7;else{var C=f[k];if(null!=C&&C.color===o)if(C.type!==r||!0!==m&&m!==r){if(!0===m||m===C.type)for(var E=0,M=l[C.type].length;E<M;E++){var V=l[C.type][E];for(S=k;!(136&(S+=V));){if(null!=f[S]){if(f[S].color===o)break;t(f,n,k,S,g.CAPTURE);break}if(t(f,n,k,S,g.NORMAL),"n"===C.type||"k"===C.type)break}}}else{var S=k+a[o][0];if(null==f[S]){t(f,n,k,S,g.NORMAL);S=k+a[o][1];s[o]===$(k)&&null==f[S]&&t(f,n,k,S,g.BIG_PAWN)}for(E=2;E<4;E++)136&(S=k+a[o][E])||(null!=f[S]&&f[S].color===i?t(f,n,k,S,g.CAPTURE):S===y&&t(f,n,k,y,g.EP_CAPTURE))}}if(!(!0!==m&&m!==A||p&&u!==v[o])){if(w[o]&g.KSIDE_CASTLE){var q=(B=v[o])+2;null!=f[B+1]||null!=f[q]||K(i,v[o])||K(i,B+1)||K(i,q)||t(f,n,v[o],q,g.KSIDE_CASTLE)}var B;if(w[o]&g.QSIDE_CASTLE)q=(B=v[o])-2,null!=f[B-1]||null!=f[B-2]||null!=f[B-3]||K(i,v[o])||K(i,B-1)||K(i,q)||t(f,n,v[o],q,g.QSIDE_CASTLE)}if(!h)return n;var I=[];for(k=0,M=n.length;k<M;k++)z(n[k]),F(o)||I.push(n[k]),P();return I}function U(e,t){var n="";if(e.flags&g.KSIDE_CASTLE)n="O-O";else if(e.flags&g.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==r){var o=function(e,t){for(var n=e.from,o=e.to,r=e.piece,A=0,i=0,s=0,a=0,l=t.length;a<l;a++){var c=t[a].from,u=t[a].to;r===t[a].piece&&n!==c&&o===u&&(A++,$(n)===$(c)&&i++,X(n)===X(c)&&s++)}return A>0?i>0&&s>0?_(n):s>0?_(n).charAt(1):_(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+o}e.flags&(g.CAPTURE|g.EP_CAPTURE)&&(e.piece===r&&(n+=_(e.from)[0]),n+="x"),n+=_(e.to),e.flags&g.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return z(e),J()&&(W()?n+="#":n+="+"),P(),n}function O(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function K(e,o){for(var A=d.a8;A<=d.h1;A++)if(136&A)A+=7;else if(null!=f[A]&&f[A].color===e){var i=f[A],s=A-o,a=s+119;if(c[a]&1<<p[i.type]){if(i.type===r){if(s>0){if(i.color===n)return!0}else if(i.color===t)return!0;continue}if("n"===i.type||"k"===i.type)return!0;for(var l=u[a],h=A+l,g=!1;h!==o;){if(null!=f[h]){g=!0;break}h+=l}if(!g)return!0}}return!1}function F(e){return K(ee(e),v[e])}function J(){return F(b)}function W(){return J()&&0===N().length}function L(){return!J()&&0===N().length}function j(){for(var e={},t=[],n=0,o=0,r=d.a8;r<=d.h1;r++)if(o=(o+1)%2,136&r)r+=7;else{var A=f[r];A&&(e[A.type]=A.type in e?e[A.type]+1:1,"b"===A.type&&t.push(o),n++)}if(2===n)return!0;if(3===n&&(1===e.b||1===e.n))return!0;if(n===e.b+2){var i=0,s=t.length;for(r=0;r<s;r++)i+=t[r];if(0===i||i===s)return!0}return!1}function Z(){for(var e=[],t={},n=!1;;){var o=P();if(!o)break;e.push(o)}for(;;){var r=D().split(" ").slice(0,4).join(" ");if(t[r]=r in t?t[r]+1:1,t[r]>=3&&(n=!0),!e.length)break;z(e.pop())}return n}function z(e){var n=b,i=ee(n);if(function(e){E.push({move:e,kings:{b:v.b,w:v.w},turn:b,castling:{b:w.b,w:w.w},ep_square:y,half_moves:k,move_number:C})}(e),f[e.to]=f[e.from],f[e.from]=null,e.flags&g.EP_CAPTURE&&(b===t?f[e.to-16]=null:f[e.to+16]=null),e.flags&g.PROMOTION&&(f[e.to]={type:e.promotion,color:n}),f[e.to].type===A){if(v[f[e.to].color]=e.to,e.flags&g.KSIDE_CASTLE){var s=e.to-1,a=e.to+1;f[s]=f[a],f[a]=null}else e.flags&g.QSIDE_CASTLE&&(s=e.to+1,a=e.to-2,f[s]=f[a],f[a]=null);w[n]=""}if(w[n])for(var l=0,c=m[n].length;l<c;l++)if(e.from===m[n][l].square&&w[n]&m[n][l].flag){w[n]^=m[n][l].flag;break}if(w[i])for(l=0,c=m[i].length;l<c;l++)if(e.to===m[i][l].square&&w[i]&m[i][l].flag){w[i]^=m[i][l].flag;break}y=e.flags&g.BIG_PAWN?"b"===b?e.to-16:e.to+16:o,e.piece===r||e.flags&(g.CAPTURE|g.EP_CAPTURE)?k=0:k++,b===t&&C++,b=ee(b)}function P(){var e=E.pop();if(null==e)return null;var n=e.move;v=e.kings,b=e.turn,w=e.castling,y=e.ep_square,k=e.half_moves,C=e.move_number;var o,A,i=b,s=ee(b);if(f[n.from]=f[n.to],f[n.from].type=n.piece,f[n.to]=null,n.flags&g.CAPTURE)f[n.to]={type:n.captured,color:s};else if(n.flags&g.EP_CAPTURE){var a;a=i===t?n.to-16:n.to+16,f[a]={type:r,color:s}}return n.flags&(g.KSIDE_CASTLE|g.QSIDE_CASTLE)&&(n.flags&g.KSIDE_CASTLE?(o=n.to+1,A=n.to-1):n.flags&g.QSIDE_CASTLE&&(o=n.to-2,A=n.to+1),f[o]=f[A],f[A]=null),n}function H(e,t){var n=O(e),o=!1;if(t)if(c=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/)){var i=c[1],s=c[2],a=c[3],l=c[4];1==s.length&&(o=!0)}else{var c;(c=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/))&&(i=c[1],s=c[2],a=c[3],l=c[4],1==s.length&&(o=!0))}for(var u=function(e){var t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return r}return"o"===(t=t.toLowerCase())?A:t}(n),p=N({legal:!0,piece:i||u}),h=0,g=p.length;h<g;h++){if(n===O(U(p[h],p)))return p[h];if(t&&c){if(!(i&&i.toLowerCase()!=p[h].piece||d[s]!=p[h].from||d[a]!=p[h].to||l&&l.toLowerCase()!=p[h].promotion))return p[h];if(o){var m=_(p[h].from);if(!(i&&i.toLowerCase()!=p[h].piece||d[a]!=p[h].to||s!=m[0]&&s!=m[1]||l&&l.toLowerCase()!=p[h].promotion))return p[h]}}}return null}function $(e){return e>>4}function X(e){return 15&e}function _(e){var t=X(e),n=$(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function ee(e){return e===n?t:n}function te(e){var t=ne(e);t.san=U(t,N({legal:!0})),t.to=_(t.to),t.from=_(t.from);var n="";for(var o in g)g[o]&t.flags&&(n+=h[o]);return t.flags=n,t}function ne(e){var t=e instanceof Array?[]:{};for(var n in e)t[n]="object"==typeof n?ne(e[n]):e[n];return t}function oe(e){return e.replace(/^\s+|\s+$/g,"")}function re(e){for(var t=N({legal:!1}),n=0,o=b,r=0,A=t.length;r<A;r++)z(t[r]),F(o)||(e-1>0?n+=re(e-1):n++),P();return n}return I(void 0===e?i:e),{WHITE:n,BLACK:t,PAWN:r,KNIGHT:"n",BISHOP:"b",ROOK:"r",QUEEN:"q",KING:A,SQUARES:function(){for(var e=[],t=d.a8;t<=d.h1;t++)136&t?t+=7:e.push(_(t));return e}(),FLAGS:h,load:function(e){return I(e)},reset:function(){return B()},moves:function(e){for(var t=N(e),n=[],o=0,r=t.length;o<r;o++)void 0!==e&&"verbose"in e&&e.verbose?n.push(te(t[o])):n.push(U(t[o],N({legal:!0})));return n},in_check:function(){return J()},in_checkmate:function(){return W()},in_stalemate:function(){return L()},in_draw:function(){return k>=100||L()||j()||Z()},insufficient_material:function(){return j()},in_threefold_repetition:function(){return Z()},game_over:function(){return k>=100||W()||L()||j()||Z()},validate_fen:function(e){return Y(e)},fen:function(){return D()},board:function(){for(var e=[],t=[],n=d.a8;n<=d.h1;n++)null==f[n]?t.push(null):t.push({type:f[n].type,color:f[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e},pgn:function(e){var t="object"==typeof e&&"string"==typeof e.newline_char?e.newline_char:"\n",n="object"==typeof e&&"number"==typeof e.max_width?e.max_width:0,o=[],r=!1;for(var A in M)o.push("["+A+' "'+M[A]+'"]'+t),r=!0;r&&E.length&&o.push(t);for(var i=function(e){var t=V[D()];return void 0!==t&&(e=`${e}${e.length>0?" ":""}{${t}}`),e},s=[];E.length>0;)s.push(P());var a=[],l="";for(0===s.length&&a.push(i(""));s.length>0;){l=i(l);var c=s.pop();E.length||"b"!==c.color?"w"===c.color&&(l.length&&a.push(l),l=C+"."):l=C+". ...",l=l+" "+U(c,N({legal:!0})),z(c)}if(l.length&&a.push(i(l)),void 0!==M.Result&&a.push(M.Result),0===n)return o.join("")+a.join(" ");var u=function(){return o.length>0&&" "===o[o.length-1]&&(o.pop(),!0)},p=function(e,r){for(var A of r.split(" "))if(A){if(e+A.length>n){for(;u();)e--;o.push(t),e=0}o.push(A),e+=A.length,o.push(" "),e++}return u()&&e--,e},h=0;for(A=0;A<a.length;A++)h+a[A].length>n&&a[A].includes("{")?h=p(h,a[A]):(h+a[A].length>n&&0!==A?(" "===o[o.length-1]&&o.pop(),o.push(t),h=0):0!==A&&(o.push(" "),h++),o.push(a[A]),h+=a[A].length);return o.join("")},load_pgn:function(e,t){var n=void 0!==t&&"sloppy"in t&&t.sloppy;function o(e){return e.replace(/\\/g,"\\")}var r="object"==typeof t&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",A=new RegExp("^(\\[((?:"+o(r)+")|.)*\\])(?:"+o(r)+"){2}"),i=A.test(e)?A.exec(e)[1]:"";B();var a=function(e,t){for(var n="object"==typeof t&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",r={},A=e.split(new RegExp(o(n))),i="",s="",a=0;a<A.length;a++)i=A[a].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),s=A[a].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),oe(i).length>0&&(r[i]=s);return r}(i,t);for(var l in a)G([l,a[l]]);if(!("1"!==a.SetUp||"FEN"in a&&I(a.FEN,!0)))return!1;for(var c=function(e){return`{${function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()})).join("")}((e=e.replace(new RegExp(o(r),"g")," ")).slice(1,e.length-1))}}`},u=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+e.match(/.{1,2}/g).join("%"))}(e.slice(1,e.length-1))},p=e.replace(i,"").replace(new RegExp(`({[^}]*})+?|;([^${o(r)}]*)`,"g"),(function(e,t,n){return void 0!==t?c(t):" "+c(`{${n.slice(1)}}`)})).replace(new RegExp(o(r),"g")," "),h=/(\([^\(\)]+\))+?/g;h.test(p);)p=p.replace(h,"");var g=oe(p=(p=(p=p.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));g=g.join(",").replace(/,,+/g,",").split(",");for(var d="",m="",f=0;f<g.length;f++){var v=u(g[f]);if(void 0===v)if(null==(d=H(g[f],n))){if(!(s.indexOf(g[f])>-1))return!1;m=g[f]}else m="",z(d);else V[D()]=v}return m&&Object.keys(M).length&&!M.Result&&G(["Result",m]),!0},header:function(){return G(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",t=d.a8;t<=d.h1;t++){if(0===X(t)&&(e+=" "+"87654321"[$(t)]+" |"),null==f[t])e+=" . ";else{var o=f[t].type;e+=" "+(f[t].color===n?o.toUpperCase():o.toLowerCase())+" "}t+1&136&&(e+="|\n",t+=8)}return(e+="   +------------------------+\n")+"     a  b  c  d  e  f  g  h\n"}()},turn:function(){return b},move:function(e,t){var n=void 0!==t&&"sloppy"in t&&t.sloppy,o=null;if("string"==typeof e)o=H(e,n);else if("object"==typeof e)for(var r=N(),A=0,i=r.length;A<i;A++)if(e.from===_(r[A].from)&&e.to===_(r[A].to)&&(!("promotion"in r[A])||e.promotion===r[A].promotion)){o=r[A];break}if(!o)return null;var s=te(o);return z(o),s},undo:function(){var e=P();return e?te(e):null},clear:function(){return S()},put:function(e,t){return R(e,t)},get:function(e){return T(e)},remove:function(e){return function(e){var t=T(e);return f[d[e]]=null,t&&t.type===A&&(v[t.color]=o),Q(D()),t}(e)},perft:function(e){return re(e)},square_color:function(e){if(e in d){var t=d[e];return($(t)+X(t))%2==0?"light":"dark"}return null},history:function(e){for(var t=[],n=[],o=(void 0!==e&&"verbose"in e&&e.verbose);E.length>0;)t.push(P());for(;t.length>0;){var r=t.pop();o?n.push(te(r)):n.push(U(r,N({legal:!0}))),z(r)}return n},get_comment:function(){return V[D()]},set_comment:function(e){V[D()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=V[D()];return delete V[D()],e},get_comments:function(){return q(),Object.keys(V).map((function(e){return{fen:e,comment:V[e]}}))},delete_comments:function(){return q(),Object.keys(V).map((function(e){var t=V[e];return delete V[e],{fen:e,comment:t}}))}}};t.Chess=r,void 0===(o=function(){return r}.call(t,n,t,e))||(e.exports=o)},811:function(e,t){var n,o,r;o=[],void 0===(r="function"==typeof(n=function(){})?n.apply(t,o):n)||(e.exports=r),o=[t],void 0===(r="function"==typeof(n=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.find=function(e){return e.match(n)||[]},e.load=function(){return new Promise((function(e){return o?e(o):r("https://api.github.com/emojis").then((function(e){return e.json()})).then((function(t){e(o=t)}))}))},e.all=A,e.exist=i,e.getUrl=s,e.parse=function(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r="",A=o.classNames?o.classNames.trim().split(/\s+/):"";return r+=e.replace(n,(function(e){var n=e.replace(/:/g,""),o=["gh-emoji","gh-emoji-"+n];return i(n)?(A&&o.push.apply(o,t(A)),'<img src="'+s(n)+'" class="'+o.join(" ")+'" alt="'+n+'" />'):e}))};var n=/(\:[\w\-\+]+\:)/g,o=null,r=window.fetch||function(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)return 200!==o.status?n(o.responseText):t({json:function(){return JSON.parse(o.responseText)}})},o.open("GET",e,!0),o.send()}))};function A(){return o}function i(e){var t=A();return null!=t&&!!t[e]}function s(e){var t=A();return null==t?null:t[e]}})?n.apply(t,o):n)||(e.exports=r)},160:(e,t,n)=>{"use strict";e.exports=n.p+"d1d181930ab97e9bfcee.wasm"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var A=t[o]={exports:{}};return e[o].call(A.exports,A,A.exports,n),A.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.u=e=>e+".bundle.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href;var o={};(()=>{"use strict";n.d(o,{Eq:()=>Zt,R:()=>zt,Vi:()=>Xt,Ce:()=>Vn,tu:()=>sn,wN:()=>un});var e=n(437),t=n.n(e);function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}const A=function e(t,n){function o(e,o,A){if("undefined"!=typeof document){"number"==typeof(A=r({},n,A)).expires&&(A.expires=new Date(Date.now()+864e5*A.expires)),A.expires&&(A.expires=A.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in A)A[s]&&(i+="; "+s,!0!==A[s]&&(i+="="+A[s].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+i}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var A=n[r].split("="),i=A.slice(1).join("=");try{var s=decodeURIComponent(A[0]);if(o[s]=t.read(i,s),e===s)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),i=["white","black"],s=["a","b","c","d","e","f","g","h"],a=["1","2","3","4","5","6","7","8"],l=[...a].reverse(),c=Array.prototype.concat(...s.map((e=>a.map((t=>e+t))))),u=e=>c[8*e[0]+e[1]],p=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],h=c.map(p),g=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},d=e=>"white"===e?"black":"white",m=(e,t)=>{const n=e[0]-t[0],o=e[1]-t[1];return n*n+o*o},f=(e,t)=>e.role===t.role&&e.color===t.color,v=e=>(t,n)=>[(n?t[0]:7-t[0])*e.width/8,(n?7-t[1]:t[1])*e.height/8],b=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},w=(e,t,n=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${n})`},y=(e,t)=>{e.style.visibility=t?"visible":"hidden"},k=e=>{var t;return e.clientX||0===e.clientX?[e.clientX,e.clientY]:(null===(t=e.targetTouches)||void 0===t?void 0:t[0])?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},C=e=>2===e.buttons||2===e.button,E=(e,t)=>{const n=document.createElement(e);return t&&(n.className=t),n};function M(e,t,n){const o=p(e);return t||(o[0]=7-o[0],o[1]=7-o[1]),[n.left+n.width*o[0]/8+n.width/16,n.top+n.height*(7-o[1])/8+n.height/16]}const V=(e,t)=>Math.abs(e-t),S=(e,t,n,o)=>{const r=V(e,n),A=V(t,o);return 1===r&&2===A||2===r&&1===A},q=(e,t,n,o)=>V(e,n)===V(t,o),B=(e,t,n,o)=>e===n||t===o,I=(e,t,n,o)=>q(e,t,n,o)||B(e,t,n,o);function Y(e,t,n){const o=e.get(t);if(!o)return[];const r=p(t),A=o.role,i="pawn"===A?(s=o.color,(e,t,n,o)=>V(e,n)<2&&("white"===s?o===t+1||t<=1&&o===t+2&&e===n:o===t-1||t>=6&&o===t-2&&e===n)):"knight"===A?S:"bishop"===A?q:"rook"===A?B:"queen"===A?I:((e,t,n)=>(o,r,A,i)=>V(o,A)<2&&V(r,i)<2||n&&r===i&&r===("white"===e?0:7)&&(4===o&&(2===A&&t.includes(0)||6===A&&t.includes(7))||t.includes(A)))(o.color,function(e,t){const n="white"===t?"1":"8",o=[];for(const[r,A]of e)r[1]===n&&A.color===t&&"rook"===A.role&&o.push(p(r)[0]);return o}(e,o.color),n);var s;return h.filter((e=>(r[0]!==e[0]||r[1]!==e[1])&&i(r[0],r[1],e[0],e[1]))).map(u)}function D(e,...t){e&&setTimeout((()=>e(...t)),1)}function G(e){e.premovable.current&&(e.premovable.current=void 0,D(e.premovable.events.unset))}function Q(e){const t=e.predroppable;t.current&&(t.current=void 0,D(t.events.unset))}function T(e,t,n){const o=e.pieces.get(t),r=e.pieces.get(n);if(t===n||!o)return!1;const A=r&&r.color!==o.color?r:void 0;return n===e.selected&&F(e),D(e.events.move,t,n,A),function(e,t,n){if(!e.autoCastle)return!1;const o=e.pieces.get(t);if(!o||"king"!==o.role)return!1;const r=p(t),A=p(n);if(0!==r[1]&&7!==r[1]||r[1]!==A[1])return!1;4!==r[0]||e.pieces.has(n)||(6===A[0]?n=u([7,A[1]]):2===A[0]&&(n=u([0,A[1]])));const i=e.pieces.get(n);return!(!i||i.color!==o.color||"rook"!==i.role||(e.pieces.delete(t),e.pieces.delete(n),r[0]<A[0]?(e.pieces.set(u([6,A[1]]),o),e.pieces.set(u([5,A[1]]),i)):(e.pieces.set(u([2,A[1]]),o),e.pieces.set(u([3,A[1]]),i)),0))}(e,t,n)||(e.pieces.set(n,o),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,D(e.events.change),A||!0}function R(e,t,n,o){if(e.pieces.has(n)){if(!o)return!1;e.pieces.delete(n)}return D(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,D(e.events.change),e.movable.dests=void 0,e.turnColor=d(e.turnColor),!0}function x(e,t,n){const o=T(e,t,n);return o&&(e.movable.dests=void 0,e.turnColor=d(e.turnColor),e.animation.current=void 0),o}function N(e,t,n){if(W(e,t,n)){const o=x(e,t,n);if(o){const r=e.hold.stop();F(e);const A={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:r};return!0!==o&&(A.captured=o),D(e.movable.events.after,t,n,A),!0}}else if(j(e,t,n))return function(e,t,n,o){Q(e),e.premovable.current=[t,n],D(e.premovable.events.set,t,n,o)}(e,t,n,{ctrlKey:e.stats.ctrlKey}),F(e),!0;return F(e),!1}function U(e,t,n,o){const r=e.pieces.get(t);r&&(function(e,t,n){const o=e.pieces.get(t);return!(!o||t!==n&&e.pieces.has(n)||"both"!==e.movable.color&&(e.movable.color!==o.color||e.turnColor!==o.color))}(e,t,n)||o)?(e.pieces.delete(t),R(e,r,n,o),D(e.movable.events.afterNewPiece,r.role,n,{premove:!1,predrop:!1})):r&&function(e,t,n){const o=e.pieces.get(t),r=e.pieces.get(n);return!!o&&(!r||r.color!==e.movable.color)&&e.predroppable.enabled&&("pawn"!==o.role||"1"!==n[1]&&"8"!==n[1])&&e.movable.color===o.color&&e.turnColor!==o.color}(e,t,n)?function(e,t,n){G(e),e.predroppable.current={role:t,key:n},D(e.predroppable.events.set,t,n)}(e,r.role,n):(G(e),Q(e)),e.pieces.delete(t),F(e)}function O(e,t,n){if(D(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled)return F(e),void e.hold.cancel();if((e.selectable.enabled||n)&&e.selected!==t&&N(e,e.selected,t))return void(e.stats.dragged=!1)}(e.selectable.enabled||e.draggable.enabled)&&(J(e,t)||L(e,t))&&(K(e,t),e.hold.start())}function K(e,t){e.selected=t,L(e,t)?e.premovable.dests=Y(e.pieces,t,e.premovable.castle):e.premovable.dests=void 0}function F(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function J(e,t){const n=e.pieces.get(t);return!!n&&("both"===e.movable.color||e.movable.color===n.color&&e.turnColor===n.color)}const W=(e,t,n)=>{var o,r;return t!==n&&J(e,t)&&(e.movable.free||!!(null===(r=null===(o=e.movable.dests)||void 0===o?void 0:o.get(t))||void 0===r?void 0:r.includes(n)))};function L(e,t){const n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}const j=(e,t,n)=>t!==n&&L(e,t)&&Y(e.pieces,t,e.premovable.castle).includes(n);function Z(e){const t=e.premovable.current;if(!t)return!1;const n=t[0],o=t[1];let r=!1;if(W(e,n,o)){const t=x(e,n,o);if(t){const A={premove:!0};!0!==t&&(A.captured=t),D(e.movable.events.after,n,o,A),r=!0}}return G(e),r}function z(e){G(e),Q(e),F(e)}function P(e){e.movable.color=e.movable.dests=e.animation.current=void 0,z(e)}function H(e,t,n){let o=Math.floor(8*(e[0]-n.left)/n.width);t||(o=7-o);let r=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(r=7-r),o>=0&&o<8&&r>=0&&r<8?u([o,r]):void 0}const X=e=>"white"===e.orientation,_="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",ee={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},te={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function ne(e){"start"===e&&(e=_);const t=new Map;let n=7,o=0;for(const r of e)switch(r){case" ":case"[":return t;case"/":if(--n,n<0)return t;o=0;break;case"~":{const e=t.get(u([o-1,n]));e&&(e.promoted=!0);break}default:{const e=r.charCodeAt(0);if(e<57)o+=e-48;else{const e=r.toLowerCase();t.set(u([o,n]),{role:ee[e],color:r===e?"black":"white"}),++o}}}return t}function oe(e,t){t.animation&&(Ae(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function re(e,t){var n,o;if((null===(n=t.movable)||void 0===n?void 0:n.dests)&&(e.movable.dests=void 0),(null===(o=t.drawable)||void 0===o?void 0:o.autoShapes)&&(e.drawable.autoShapes=[]),Ae(e,t),t.fen&&(e.pieces=ne(t.fen),e.drawable.shapes=[]),"check"in t&&function(e,t){if(e.check=void 0,!0===t&&(t=e.turnColor),t)for(const[n,o]of e.pieces)"king"===o.role&&o.color===t&&(e.check=n)}(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&K(e,e.selected),oe(e,t),!e.movable.rookCastle&&e.movable.dests){const t="white"===e.movable.color?"1":"8",n="e"+t,o=e.movable.dests.get(n),r=e.pieces.get(n);if(!o||!r||"king"!==r.role)return;e.movable.dests.set(n,o.filter((e=>!(e==="a"+t&&o.includes("c"+t)||e==="h"+t&&o.includes("g"+t)))))}}function Ae(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)&&ie(e[n])&&ie(t[n])?Ae(e[n],t[n]):e[n]=t[n])}function ie(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}const se=(e,t)=>t.animation.enabled?function(e,t){const n=new Map(t.pieces),o=e(t),r=function(e,t){const n=new Map,o=[],r=new Map,A=[],i=[],s=new Map;let a,l,u;for(const[t,n]of e)s.set(t,le(t,n));for(const e of c)a=t.pieces.get(e),l=s.get(e),a?l?f(a,l.piece)||(A.push(l),i.push(le(e,a))):i.push(le(e,a)):l&&A.push(l);for(const e of i)l=ce(e,A.filter((t=>f(e.piece,t.piece)))),l&&(u=[l.pos[0]-e.pos[0],l.pos[1]-e.pos[1]],n.set(e.key,u.concat(u)),o.push(l.key));for(const e of A)o.includes(e.key)||r.set(e.key,e.piece);return{anims:n,fadings:r}}(n,t);if(r.anims.size||r.fadings.size){const e=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:r},e||ue(t,performance.now())}else t.dom.redraw();return o}(e,t):ae(e,t);function ae(e,t){const n=e(t);return t.dom.redraw(),n}const le=(e,t)=>({key:e,pos:p(e),piece:t}),ce=(e,t)=>t.sort(((t,n)=>m(e.pos,t.pos)-m(e.pos,n.pos)))[0];function ue(e,t){const n=e.animation.current;if(void 0===n)return void(e.dom.destroyed||e.dom.redrawNow());const o=1-(t-n.start)*n.frequency;if(o<=0)e.animation.current=void 0,e.dom.redrawNow();else{const t=pe(o);for(const e of n.plan.anims.values())e[2]=e[0]*t,e[3]=e[1]*t;e.dom.redrawNow(!0),requestAnimationFrame(((t=performance.now())=>ue(e,t)))}}const pe=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,he=["green","red","blue","yellow"];function ge(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?F(e):z(e);const n=k(t),o=H(n,X(e),e.dom.bounds());o&&(e.drawable.current={orig:o,pos:n,brush:be(t),snapToValidMove:e.drawable.defaultSnapToValidMove},de(e))}function de(e){requestAnimationFrame((()=>{const t=e.drawable.current;if(t){const n=H(t.pos,X(e),e.dom.bounds());n||(t.snapToValidMove=!1);const o=t.snapToValidMove?function(e,t,n,o){const r=p(e),A=h.filter((e=>I(r[0],r[1],e[0],e[1])||S(r[0],r[1],e[0],e[1]))),i=A.map((e=>M(u(e),n,o))).map((e=>m(t,e))),[,s]=i.reduce(((e,t,n)=>e[0]<t?e:[t,n]),[i[0],0]);return u(A[s])}(t.orig,t.pos,X(e),e.dom.bounds()):n;o!==t.mouseSq&&(t.mouseSq=o,t.dest=o!==t.orig?o:void 0,e.dom.redrawNow()),de(e)}}))}function me(e,t){e.drawable.current&&(e.drawable.current.pos=k(t))}function fe(e){const t=e.drawable.current;t&&(t.mouseSq&&function(e,t){const n=e=>e.orig===t.orig&&e.dest===t.dest,o=e.shapes.find(n);o&&(e.shapes=e.shapes.filter((e=>!n(e)))),o&&o.brush===t.brush||e.shapes.push(t),we(e)}(e.drawable,t),ve(e))}function ve(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function be(e){var t;const n=(e.shiftKey||e.ctrlKey)&&C(e),o=e.altKey||e.metaKey||(null===(t=e.getModifierState)||void 0===t?void 0:t.call(e,"AltGraph"));return he[(n?1:0)+(o?2:0)]}function we(e){e.onChange&&e.onChange(e.shapes)}function ye(e){requestAnimationFrame((()=>{var t;const n=e.draggable.current;if(!n)return;(null===(t=e.animation.current)||void 0===t?void 0:t.plan.anims.has(n.orig))&&(e.animation.current=void 0);const o=e.pieces.get(n.orig);if(o&&f(o,n.piece)){if(!n.started&&m(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if("function"==typeof n.element){const e=n.element();if(!e)return;e.cgDragging=!0,e.classList.add("dragging"),n.element=e}const t=e.dom.bounds();b(n.element,[n.pos[0]-t.left-t.width/16,n.pos[1]-t.top-t.height/16]),n.keyHasChanged||(n.keyHasChanged=n.orig!==H(n.pos,X(e),t))}}else Ee(e);ye(e)}))}function ke(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=k(t))}function Ce(e,t){const n=e.draggable.current;if(!n)return;if("touchend"===t.type&&!1!==t.cancelable&&t.preventDefault(),"touchend"===t.type&&n.originTarget!==t.target&&!n.newPiece)return void(e.draggable.current=void 0);G(e),Q(e);const o=H(k(t)||n.pos,X(e),e.dom.bounds());o&&n.started&&n.orig!==o?n.newPiece?U(e,n.orig,o,n.force):(e.stats.ctrlKey=t.ctrlKey,N(e,n.orig,o)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!o&&(e.pieces.delete(n.orig),D(e.events.change)),(n.orig!==n.previouslySelected&&!n.keyHasChanged||n.orig!==o&&o)&&e.selectable.enabled||F(e),Me(e),e.draggable.current=void 0,e.dom.redraw()}function Ee(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,F(e),Me(e),e.dom.redraw())}function Me(e){const t=e.dom.elements;t.ghost&&y(t.ghost,!1)}function Ve(e,t){let n=e.dom.elements.board.firstChild;for(;n;){if(n.cgKey===t&&"PIECE"===n.tagName)return n;n=n.nextSibling}}function Se(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function qe(e,t,n){const o=new Map,r=[];for(const t of e)o.set(t.hash,!1);let A,i=t.firstChild;for(;i;)A=i.getAttribute("cgHash"),o.has(A)?o.set(A,!0):r.push(i),i=i.nextSibling;for(const e of r)t.removeChild(e);for(const r of e)o.get(r.hash)||t.appendChild(n(r))}function Be(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ie({orig:e,dest:t,brush:n,piece:o,modifiers:r,customSvg:A},i,s,a){return[a.width,a.height,s,e,t,n,t&&(i.get(t)||0)>1,o&&Ye(o),r&&(l=r,""+(l.lineWidth||"")),A&&De(A)].filter((e=>e)).join(",");var l}function Ye(e){return[e.color,e.role,e.scale].filter((e=>e)).join(",")}function De(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)>>>0;return"custom-"+t.toString()}function Ge(e,{shape:t,current:n,hash:o},r,A,i){let s;const a=Re(p(t.orig),e.orientation);if(t.customSvg)s=function(e,t,n){const[o,r]=Oe(t,n),A=Te(Be("g"),{transform:`translate(${o},${r})`}),i=Te(Be("svg"),{width:1,height:1,viewBox:"0 0 100 100"});return A.appendChild(i),i.innerHTML=e,A}(t.customSvg,a,i);else if(t.dest){let o=r[t.brush];t.modifiers&&(o=xe(o,t.modifiers)),s=function(e,t,n,o,r,A){const i=function(e){return(e?20:10)/64}(r&&!o),s=Oe(t,A),a=Oe(n,A),l=a[0]-s[0],c=a[1]-s[1],u=Math.atan2(c,l),p=Math.cos(u)*i,h=Math.sin(u)*i;return Te(Be("line"),{stroke:e.color,"stroke-width":Ne(e,o),"stroke-linecap":"round","marker-end":"url(#arrowhead-"+e.key+")",opacity:Ue(e,o),x1:s[0],y1:s[1],x2:a[0]-p,y2:a[1]-h})}(o,a,Re(p(t.dest),e.orientation),n,(A.get(t.dest)||0)>1,i)}else s=function(e,t,n,o){const r=Oe(t,o),A=[3/64,4/64],i=(o.width+o.height)/(4*Math.max(o.width,o.height));return Te(Be("circle"),{stroke:e.color,"stroke-width":A[n?0:1],fill:"none",opacity:Ue(e,n),cx:r[0],cy:r[1],r:i-A[1]/2})}(r[t.brush],a,n,i);return s.setAttribute("cgHash",o),s}function Qe(e){const t=Te(Be("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return t.appendChild(Te(Be("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function Te(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.setAttribute(n,t[n]);return e}function Re(e,t){return"white"===t?e:[7-e[0],7-e[1]]}function xe(e,t){return{color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter((e=>e)).join("")}}function Ne(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function Ue(e,t){return(e.opacity||1)*(t?.9:1)}function Oe(e,t){const n=Math.min(1,t.width/t.height),o=Math.min(1,t.height/t.width);return[(e[0]-3.5)*n,(3.5-e[1])*o]}function Ke(e,t){const n=E("coords",t);let o;for(const t of e)o=E("coord"),o.textContent=t,n.appendChild(o);return n}function Fe(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}const Je=e=>t=>{e.draggable.current?Ee(e):e.drawable.current?ve(e):t.shiftKey||C(t)?e.drawable.enabled&&ge(e,t):e.viewOnly||(e.dropmode.active?function(e,t){if(!e.dropmode.active)return;G(e),Q(e);const n=e.dropmode.piece;if(n){e.pieces.set("a0",n);const o=k(t),r=o&&H(o,X(e),e.dom.bounds());r&&U(e,"a0",r)}e.dom.redraw()}(e,t):function(e,t){if(!t.isTrusted||void 0!==t.button&&0!==t.button)return;if(t.touches&&t.touches.length>1)return;const n=e.dom.bounds(),o=k(t),r=H(o,X(e),n);if(!r)return;const A=e.pieces.get(r),i=e.selected;var s;i||!e.drawable.enabled||!e.drawable.eraseOnClick&&A&&A.color===e.turnColor||(s=e).drawable.shapes.length&&(s.drawable.shapes=[],s.dom.redraw(),we(s.drawable)),!1!==t.cancelable&&(!t.touches||e.blockTouchScroll||A||i||function(e,t){const n=X(e),o=e.dom.bounds(),r=Math.pow(o.width/8,2);for(const A of e.pieces.keys()){const e=M(A,n,o);if(m(e,t)<=r)return!0}return!1}(e,o))&&t.preventDefault();const a=!!e.premovable.current,l=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&W(e,e.selected,r)?se((e=>O(e,r)),e):O(e,r);const c=e.selected===r,u=Ve(e,r);if(A&&u&&c&&function(e,t){const n=e.pieces.get(t);return!!n&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}(e,r)){e.draggable.current={orig:r,piece:A,origPos:o,pos:o,started:e.draggable.autoDistance&&e.stats.dragged,element:u,previouslySelected:i,originTarget:t.target,keyHasChanged:!1},u.cgDragging=!0,u.classList.add("dragging");const s=e.dom.elements.ghost;s&&(s.className=`ghost ${A.color} ${A.role}`,b(s,v(n)(p(r),X(e))),y(s,!0)),ye(e)}else a&&G(e),l&&Q(e);e.dom.redraw()}(e,t))},We=(e,t,n)=>o=>{e.drawable.current?e.drawable.enabled&&n(e,o):e.viewOnly||t(e,o)};function Le(e){var t,n;const o=e.dom.elements.wrap.getBoundingClientRect(),r=e.dom.elements.container,A=o.height/o.width,i=8*Math.floor(o.width*window.devicePixelRatio/8)/window.devicePixelRatio,s=i*A;r.style.width=i+"px",r.style.height=s+"px",e.dom.bounds.clear(),null===(t=e.addDimensionsCssVarsTo)||void 0===t||t.style.setProperty("--cg-width",i+"px"),null===(n=e.addDimensionsCssVarsTo)||void 0===n||n.style.setProperty("--cg-height",s+"px")}const je=e=>"PIECE"===e.tagName,Ze=e=>"SQUARE"===e.tagName;function ze(e,t){for(const n of t)e.dom.elements.board.removeChild(n)}function Pe(e,t){const n=e[1];return`${t?10-n:3+n}`}const He=e=>`${e.color} ${e.role}`;function $e(e,t,n){const o=e.get(t);o?e.set(t,`${o} ${n}`):e.set(t,n)}function Xe(e,t,n){const o=e.get(t);o?o.push(n):e.set(t,[n])}const _e=e=>{var t,n,o;return[e.orig,null===(t=e.piece)||void 0===t?void 0:t.role,null===(n=e.piece)||void 0===n?void 0:n.color,null===(o=e.piece)||void 0===o?void 0:o.scale].join(",")};function et(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame((()=>{e(),t=!1})))}}var tt=n(547),nt=n(811),ot={0:"Admins",1:"Help",2:"General",3:"Programming",4:"Guest Help",5:"Service Representatives",6:"Help (Interface & Timeseal)",7:"Online Tours",20:"Forming Team games",21:"Playing Team games",22:"Playing Team games",23:"Forming Simuls",30:"Books & Knowledge",31:"Computer Games",32:"Movies",33:"Ducks",34:"Sports",35:"Music",36:"Mathematics & Physics",37:"Philosophy",38:"Literature & Poetry",39:"Politics",40:"Religion",41:"Current Affairs",48:"Mamer Managers",49:"Mamer Tournament",50:"Chat",51:"Youth",52:"Old Timers",53:"Guest Chat",55:"Chess",56:"Beginner Chess",57:"Coaching",58:"Chess Books",60:"Chess Openings/Theory",61:"Chess Endgames",62:"Blindfold Chess",63:"Chess Advisors",64:"Computer Chess",65:"Special Events",66:"Examine",67:"Lectures",68:"Ex-Yugoslav",69:"Latin",70:"Finnish",71:"Scandinavian",72:"German",73:"Spanish",74:"Italian",75:"Russian",76:"Dutch",77:"French",78:"Greek",79:"Icelandic",80:"Chinese",81:"Turkish",82:"Portuguese",83:"Computer",84:"Macintosh/Apple",85:"Unix/Linux",86:"DOS/Windows 3.1/95/NT",87:"VMS",88:"Programming",90:"The STC BUNCH",91:"Suicide Chess",92:"Wild Chess",93:"Bughouse Chess",94:"Gambit",95:"Scholastic Chess",96:"College Chess",97:"Crazyhouse Chess",98:"Losers Chess",99:"Atomic Chess",100:"Trivia"},rt=!1,At=function(){function e(e){var t=this;if(this.unreadNum=0,this.autoscrollToggle="false"!==A.get("autoscroll"),this.notificationsToggle="false"!==A.get("notifications"),this.timestampToggle="false"!==A.get("timestamp"),this.emojisLoaded=!1,(0,nt.load)().then((function(){t.emojisLoaded=!0})),this.user=e,this.userRE=new RegExp("\\b"+e+"\\b","ig"),this.tabs={console:$("#content-console")},$(document).on("shown.bs.tab",'a[data-bs-toggle="tab"]',(function(e){var n=$(e.target);n.hasClass("tab-unviewed")&&(t.ignoreUnread(n.attr("id"))||(t.unreadNum--,0===t.unreadNum?$("#chat-unread-bubble").hide():$("#chat-unread-number").text(t.unreadNum)),n.removeClass("tab-unviewed"))})),$(document.body).on("click","#tabs .closeTab",(function(e){t.closeTab(e.target)})),!this.autoscrollToggle){var n="dropdown-icon fa fa-toggle-off";$("#autoscroll-toggle").html('<span id="autoscroll-toggle-icon" class="'+n+'" aria-hidden="false"></span>Auto-scroll OFF')}$("#autoscroll-toggle").on("click",(function(e){t.autoscrollToggle=!t.autoscrollToggle;var n="dropdown-icon fa fa-toggle-"+(t.autoscrollToggle?"on":"off");$("#autoscroll-toggle").html('<span id="autoscroll-toggle-icon" class="'+n+'" aria-hidden="false"></span>Auto-scroll '+(t.autoscrollToggle?"ON":"OFF")),A.set("autoscroll",String(t.autoscrollToggle),{expires:365})})),this.notificationsToggle||(n="dropdown-icon fa fa-bell-slash",$("#notifications-toggle").html('<span id="notifications-toggle-icon" class="'+n+'" aria-hidden="false"></span>Notifications OFF')),$("#notifications-toggle").on("click",(function(e){t.notificationsToggle=!t.notificationsToggle;var n="dropdown-icon fa fa-bell"+(t.notificationsToggle?"":"-slash");$("#notifications-toggle").html('<span id="notifications-toggle-icon" class="'+n+'" aria-hidden="false"></span>Notifications '+(t.notificationsToggle?"ON":"OFF")),A.set("notifications",String(t.notificationsToggle),{expires:365})}));var o='<span id="timestamp-toggle-icon" class="fa fa-clock-o dropdown-icon" aria-hidden="false"></span>';this.timestampToggle||$("#timestamp-toggle").html(o+"Timestamp OFF"),$("#timestamp-toggle").on("click",(function(e){t.timestampToggle=!t.timestampToggle,$("#timestamp-toggle").html(o+"Timestamp "+(t.timestampToggle?"ON":"OFF")),A.set("timestamp",String(t.timestampToggle),{expires:365})}))}return e.prototype.closeTab=function(e){var t=$(e).parent().attr("id").toLowerCase();$(e).parent().remove(),this.deleteTab(t),$("#tabs a:last").tab("show"),$("#content-"+t).remove()},e.prototype.setUser=function(e){if(this.user!==e){this.unreadNum=0;var t=this;$("#tabs .closeTab").each((function(e){t.closeTab($(this))}))}this.user=e},e.prototype.createTab=function(e,t){void 0===t&&(t=!1);var n=e.toLowerCase().replace(/\s/g,"-");if(!this.tabs.hasOwnProperty(n)){var o=e;void 0!==ot[e]&&(o=ot[e]),$('<li class="nav-item"><a class="text-sm-center nav-link" data-bs-toggle="tab" href="#content-'+n+'" id="'+n+'" role="tab">'+o+'<span class="btn btn-default btn-sm closeTab">Ã—</span></a></li>').appendTo("#tabs"),$('<div class="tab-pane chat-text" id="content-'+n+'" role="tabpanel"></div>').appendTo("#chat-tabContent");var r=$("#board").height();r?$(".chat-text").height(r-90):$("#content-"+n).height($("#chat-tabContent").height()),this.tabs[n]=$("#content-"+n)}return t&&$("#tabs a").filter((function(e){return $(this).attr("id")===n})).first().tab("show"),this.tabs[n]},e.prototype.deleteTab=function(e){delete this.tabs[e]},e.prototype.currentTab=function(){return $("ul#tabs a.active").attr("id")},e.prototype.addChannels=function(e){var t=this;$("#chan-dropdown-menu").empty(),e.forEach((function(e){var n=e;void 0!==ot[Number(e)]&&(n=ot[Number(e)]),$("#chan-dropdown-menu").append('<a class="dropdown-item noselect" id="ch-'+e+'">'+n+"</a>"),$("#ch-"+e).on("click",(function(n){n.preventDefault(),t.createTab(e,!0)}))}))},e.prototype.newMessage=function(e,t){var n=this.createTab(e),o="";if(void 0!==t.user){var r="";this.user===t.user&&(r=' class="mine"'),o="<strong"+r+">"+$("<span/>").text(t.user).html()+"</strong>: "}var A=t.message;this.emojisLoaded&&(A=(0,nt.parse)(A)),A=A.replace(this.userRE,'<strong class="mention">'+this.user+"</strong>"),A=(0,tt.q)(A,{target:"_blank",rel:"nofollow",callback:function(e){return/\.(gif|png|jpe?g)$/i.test(e)?'<a href="'+e+'" target="_blank" rel="nofollow"><img width="60" src="'+e+'"></a>':null}})+"</br>";var i="";this.timestampToggle&&(i='<span class="timestamp">['+(new Date).toLocaleTimeString()+"]</span> "),n.append(i+o+A);var s=$("#"+e.toLowerCase().replace(/\s/g,"-"));s.hasClass("active")?this.autoscrollToggle&&n.scrollTop(n[0].scrollHeight):"console"!==e&&(s.hasClass("tab-unviewed")||this.ignoreUnread(e)||(0===this.unreadNum&&$("#chat-unread-bubble").show(),this.unreadNum++,$("#chat-unread-number").text(this.unreadNum)),s.addClass("tab-unviewed"))},e.prototype.ignoreUnread=function(e){return/^\d+$/.test(e)||"ROBOadmin"===e||"adminBOT"===e},e.prototype.newNotification=function(e){if(this.notificationsToggle){var t=this.currentTab().toLowerCase().replace(/\s/g,"-"),n=this.tabs[t];e='<strong class="notification">'+e+"</strong>";var o="";this.timestampToggle&&(o='<span class="timestamp">['+(new Date).toLocaleTimeString()+"]</span> "),n.append(o+e+"</br>")}else this.newMessage("console",{message:e})},e}();$("#chat-maximize-btn").on("click",(function(){rt?(Vn()||$("#right-col").width("33.33333333%"),$("#chat-maximize-icon").removeClass("fa-toggle-right").addClass("fa-toggle-left"),$("#chat-maximize-btn").attr("data-bs-original-title","Maximize"),rt=!1):(Vn()||$("#right-col").width("100%"),$("#chat-maximize-icon").removeClass("fa-toggle-left").addClass("fa-toggle-right"),$("#chat-maximize-btn").attr("data-bs-original-title","Minimize"),rt=!0),$("#left-col").toggleClass("d-none"),$("#mid-col").toggleClass("d-none")})),$("#collapse-chat").on("hidden.bs.collapse",(function(){$("#collapse-chat").hasClass("collapse-init")||sn(),$("#collapse-chat").removeClass("collapse-init")})),$("#collapse-chat").on("shown.bs.collapse",(function(){Vn()&&$(document).scrollTop($("#right-panel-header").offset().top)})),$("#chat-toggle-btn").on("click",(function(e){$("#chat-toggle-btn").toggleClass("toggle-btn-selected")}));const it=At;function st(e){var t=Math.abs(Math.floor(Math.abs(e)/3600)),n=Math.abs(Math.floor(Math.abs(e)%3600/60)),o=Math.abs(Math.floor(Math.abs(e)%3600%60));return(e<0?"-":"")+(t>0?(t>=0&&t<10?"0":"")+t+":":"")+(n>=0&&n<10?"0":"")+n+":"+(o>=0&&o<10?"0":"")+o}const at=d3;var lt,ct=function(){function e(e){this.history=e,this.currMove=void 0,this._redraw=!0,this.numGraphMoves=0,"object"==typeof WebAssembly&&WebAssembly.validate(Uint8Array.of(0,97,115,109,1,0,0,0))?(new URL(n(160),n.b),this.stockfish=new Worker(new URL(n.p+n.u(264),n.b))):this.stockfish=new Worker(new URL(n.p+n.u(18),n.b)),this.uci("uci"),this.uci("ucinewgame"),this.uci("isready");var t=this;this.stockfish.onmessage=function(e){t.evaluate(e)}}return e.prototype.uci=function(e,t){return this.stockfish.postMessage(e,t)},e.prototype.terminate=function(){this.stockfish.terminate()},e.prototype.evaluate=function(e){var t=!1;if(this.currMove){if(!e&&this.currMove)return;if(e.data.startsWith("info")){for(var n=e.data.substring(5,e.data.length).trim().split(/\s+/),o="",r=0;r<n.length;r++){if("lowerbound"===n[r]||"upperbound"===n[r])return;if("depth"===n[r]&&"0"===n[r+1]&&(t=!0),"score"===n[r]){var A=+n[r+2],i=this.currMove.fen.split(/\s+/)[1];if(A>0&&"w"===i||A<0&&"b"===i)var s="+";else s=0==A?"=":"-";A=A<0?-A:A,"mate"===n[r+1]?("+"===s?s="":"="===s&&(s="w"===i?"-":""),o=s+"#"+A):o=s+(A/100).toFixed(2)}}this.currEval=o}else e.data.startsWith("bestmove")&&(t=!0);t&&(this.currMove.eval=this.currEval,this.currMove=void 0,this._redraw=!0)}if(this._redraw&&$("#eval-graph-container").html(""),0!==this.history.length()&&!this.currMove){for(var a=0,l=0,c=0;void 0!==a;){var u=this.history.get(a);this.currMove||void 0!==u.eval||(this.currMove=u,c=l),a=this.history.next(a),l++}if(l<this.numGraphMoves&&(this._redraw=!0,$("#eval-graph-container").html("")),this.currMove){this.uci("position fen "+this.currMove.fen);var p=$("#eval-graph-tab").is(":visible")?100:2e3;this.uci("go movetime "+p);var h=Math.round(100*c/l);$("#eval-progress .progress-bar").css("width",h+"%").text(h+"%").attr("aria-valuenow",h),l>c+10&&($("#eval-graph-container").hide(),$("#eval-progress").show())}else $("#eval-progress").hide(),this.drawGraph()}},e.prototype.redraw=function(){this._redraw=!0,this.evaluate()},e.prototype.drawGraph=function(){if($("#eval-graph-panel").is(":visible")){for(var e,t=[],n=this,o=0,r=0;void 0!==r;o++){r===this.history.index()&&(e=o);var A=this.history.get(r);if(A.eval.includes("#"))i=A.eval.includes("-")?-5:5;else{var i=+A.eval.replace(/[+=]/g,"");i>5?i=5:i<-5&&(i=-5)}t.push({evalStr:A.eval,y:i}),r=this.history.next(r)}var s=$("#eval-graph-container");s.show();var a=s.width()-18-6,l=s.height()-6-6,c=this.numGraphMoves=t.length,u=at.scaleLinear().domain([0,c-1]).range([0,a]),p=at.scaleLinear().domain([-5.5,5.5]).range([l,0]);if(this._redraw){var h=at.area().x((function(e,t){return u(t)})).y0(p(0)).y1((function(e){return p(e.y)})).curve(at.curveMonotoneX),g=at.line().x((function(e,t){return u(t)})).y((function(e){return p(e.y)})).curve(at.curveMonotoneX),d=at.select(s[0]).append("svg").attr("width","100%").attr("height","100%").style("cursor","pointer").on("mousemove",(function(){var e=at.pointer(event),n=e[0]-18,o=(e[1],function(e){return Math.abs(e-u.invert(n))}),r=at.scan(at.range(c),(function(e,t){return o(e)-o(t)}));f.attr("x",u(r)).style("opacity",1);var A=u.invert($("#hover-circle").attr("cx"));v.attr("cx",u(r)).attr("cy",p(t[r].y)).attr("title",t[r].evalStr).attr("data-bs-original-title",t[r].evalStr).style("opacity",1),A!==r&&($("#hover-circle").tooltip({container:"body",placement:"auto",trigger:"manual"}),$("#hover-circle").tooltip("show"),$(".tooltip").css("pointer-events","none"))})).on("mouseleave",(function(){f.style("opacity",0),v.style("opacity",0).attr("cx",-1),$("#hover-circle").tooltip("hide")})).on("click",(function(e){for(var o=at.pointer(e)[0]-18,r=function(e){return Math.abs(e-u.invert(o))},A=at.scan(at.range(c),(function(e,t){return r(e)-r(t)})),i=0,s=0;s<A;s++)i=n.history.next(i);Xt(i),i?b.attr("cx",u(A)).attr("cy",p(t[A].y)).style("opacity",1):b.style("opacity",0)})).append("g").attr("transform","translate(18,6)");d.append("g").attr("class","y-axis noselect").call(at.axisLeft(p).tickSize(-a,0,0)).select(".domain").remove();var m=d.append("defs");m.append("clipPath").attr("id","clip-above").append("rect").attr("x",0).attr("y",p(5)).attr("width",a).attr("height",l/2),m.append("clipPath").attr("id","clip-below").append("rect").attr("x",0).attr("y",p(0)).attr("width",a).attr("height",l/2),d.append("path").datum(t).attr("class","eval-area-above").attr("clip-path","url(#clip-above)").attr("d",h),d.append("path").datum(t).attr("class","eval-area-below").attr("clip-path","url(#clip-below)").attr("d",h),d.append("path").datum(t).attr("class","eval-line-above").attr("clip-path","url(#clip-above)").attr("d",g),d.append("path").datum(t).attr("class","eval-line-below").attr("clip-path","url(#clip-below)").attr("d",g);var f=d.append("g").append("rect").attr("stroke-width","1px").attr("width",".5px").attr("height",l).style("opacity",0),v=d.append("g").append("circle").attr("id","hover-circle").attr("class","eval-circle").attr("r",3).style("opacity",0),b=d.append("g").append("circle").attr("class","eval-circle").attr("id","select-circle").attr("r",4).style("opacity",0);this._redraw=!1}var w=$("#select-circle");w&&(e?w.attr("cx",u(e)).attr("cy",p(t[e].y)).css("opacity",1):w.css("opacity",0))}},e}(),ut=function(){function e(e,o){void 0===o&&(o=1);var r=this;this.numPVs=o,this.board=e,this.fen="","object"==typeof WebAssembly&&WebAssembly.validate(Uint8Array.of(0,97,115,109,1,0,0,0))?(new URL(n(160),n.b),this.stockfish=new Worker(new URL(n.p+n.u(266),n.b))):this.stockfish=new Worker(new URL(n.p+n.u(90),n.b)),this.stockfish.onmessage=function(e){if(e.data.startsWith("info")){for(var n=e.data.substring(5,e.data.length).trim().split(/\s+/),o=!1,A=[],i=void 0,s=!1,a=1,l=0;l<n.length;l++){if("lowerbound"===n[l]||"upperbound"===n[l])return;if("multipv"===n[l])if(1==(a=+n[l+1]))s=!0;else if(a>r.numPVs)return;if("score"===n[l]){var c=+n[l+2],u=r.fen.split(/\s+/)[1];if(c>0&&"w"===u||c<0&&"b"===u)var p="+";else p=0==c?"=":"-";c=c<0?-c:c,"mate"===n[l+1]?("+"===p?p="":"="===p&&(p="w"===u?"-":""),i=p+"#"+c):i=p+(c/100).toFixed(2)}else"pv"===n[l]?o=!0:o&&A.push(n[l])}if(A.length){for(var h=new(t())(r.fen),g=0,d=A;g<d.length;g++){var m=d[g];h.move({from:m.slice(0,2),to:m.slice(2,4),promotion:5==m.length?m.charAt(4):void 0})}var f=h.pgn(),v=f.indexOf("]",f.indexOf("]")+1),b="<b>("+i+")</b> "+(f=(f=v>=0?f.slice(v+2):f).replace(/\. /g,"."))+"<b/>";$("#engine-pvs li").eq(a-1).html(b),s&&r.board.setAutoShapes([{orig:A[0].slice(0,2),dest:A[0].slice(2,4),brush:"yellow"}])}else"#0"!==i&&"-#0"!==i||(b="<b>("+i+")</b>",$("#engine-pvs li").eq(0).html(b))}},this.uci("uci"),this.uci("setoption name MultiPV value "+this.numPVs),this.uci("ucinewgame"),this.uci("isready")}return e.prototype.terminate=function(){this.stockfish.terminate()},e.prototype.move=function(e){this.fen=e,this.uci("position fen "+e),this.uci("go infinite")},e.prototype.setNumPVs=function(e){void 0===e&&(e=1),this.numPVs=e,this.uci("setoption name MultiPV value "+this.numPVs)},e.prototype.uci=function(e,t){return this.stockfish.postMessage(e,t)},e}(),pt=(lt=function(e,t){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}lt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ht=-999,gt=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerCaptured={},t.oppCaptured={},t.chess=null,t.color="",t.history=null,t.bclock=null,t.wclock=null,t.watchers=null,t}return pt(t,e),t}(function(){function e(){}return e.prototype.isPlaying=function(){return 1===this.role||-1===this.role},e.prototype.isExamining=function(){return 2===this.role},e.prototype.isObserving=function(){return 0===this.role||-2===this.role},e}()));const dt=function(){function e(e,t){this.board=t,this.moves=[],this.id=-1,this._scratch=!1,$("#move-history").empty(),$("#collapse-history").on("hidden.bs.collapse",(function(){$("#history-toggle-icon").removeClass("fa-toggle-up").addClass("fa-toggle-down")})),$("#collapse-history").on("shown.bs.collapse",(function(){$("#history-toggle-icon").removeClass("fa-toggle-down").addClass("fa-toggle-up")})),this.add(void 0,e)}return e.prototype.reset=function(e){this.moves=[],this.id=-1,$("#move-history").empty(),this.add(void 0,e)},e.prototype.addPrev=function(e){for(var t=0;t<e.length;t++)this.moves[t]=e[t],e[t].move&&this.addTableItem(e[t].move.san,this.getPlyFromFEN(e[t].fen),!1,t)},e.prototype.add=function(e,t,n,o){if(n){if(this.moves[this.id].subvariation)for(;this.id<this.length()&&this.moves[this.id+1].subvariation;)this.remove(this.id+1);else this.removeSubvariation();this.id<this.length()&&!this.moves[this.id].subvariation&&this.id++}else for(;this.id<this.length();)this.remove(this.id+1);this.id++,this.moves.splice(this.id,0,{move:e,fen:t,subvariation:n}),e&&this.addTableItem(e.san,this.getPlyFromFEN(t),n,this.id,o)},e.prototype.scratch=function(e){return void 0!==e&&(this._scratch=e),this._scratch},e.prototype.highlightMove=function(){if($("#move-history a").each((function(){$(this).removeClass("selected")})),0!==this.id){var e=$("#move-history a").eq(this.id-1);e.addClass("selected"),this.scrollParentToChild($("#pills-game"),e.parent())}else $("#pills-game").scrollTop(0)},e.prototype.scrollParentToChild=function(e,t){e=e[0],t=t[0];var n=e.getBoundingClientRect(),o=e.clientHeight,r=(e.clientWidth,t.getBoundingClientRect());if(!(r.top>=n.top&&r.bottom<=n.top+o)){var A=r.top-n.top,i=r.bottom-n.bottom;Math.abs(A)<Math.abs(i)?e.scrollTop+=A:e.scrollTop+=i}},e.prototype.removeSubvariation=function(){for(var e=!1,t=this.length();t>0;t--)this.moves[t].subvariation&&(this.id===t&&(e=!0),this.remove(t));e&&this.display(this.id)},e.prototype.remove=function(e){this.id===e?this.id=this.prev(e):this.id>e&&this.id--,this.moves.splice(e,1),this.removeTableItem(e)},e.prototype.removeLast=function(){this.remove(this.length())},e.prototype.removeAll=function(){$("#move-history").empty(),this.id=0,this.moves=[{move:null,fen:this.board.getFen(),subvariation:!1}]},e.prototype.length=function(){return this.moves.length-1},e.prototype.display=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(this.id=e),this.id>=0&&this.id<this.moves.length&&un(t),this.highlightMove(),this.moves[this.id]},e.prototype.find=function(e){var t=this.id;do{if(this.moves[t].fen===e)return t;t=this.next(t)}while(void 0!==t);t=this.id;do{if(this.moves[t].fen===e)return t;t=this.prev(t)}while(void 0!==t);if(this.id<this.length()){if(this.moves[this.id+1].fen===e)return this.id+1;if(this.id+1<this.length()&&this.moves[this.id+2].fen===e)return this.id+2}},e.prototype.get=function(e){return void 0===e?this.moves[this.id]:this.moves[e]},e.prototype.index=function(){return this.id},e.prototype.ply=function(e){return void 0===e&&(e=this.id),this.getPlyFromFEN(this.moves[e].fen)},e.prototype.moveNo=function(e){return void 0===e&&(e=this.id),this.getMoveNoFromFEN(this.moves[e].fen)},e.prototype.getPlyFromFEN=function(e){var t=e.split(/\s+/)[1];return 2*+e.split(/\s+/).pop()-("w"===t?1:0)},e.prototype.getMoveNoFromFEN=function(e){return+e.split(/\s+/).pop()},e.prototype.getTurnColorFromFEN=function(e){return e.split(/\s+/)[1]},e.prototype.first=function(){return 0},e.prototype.beginning=function(){return this.display(this.first()),this.moves[this.id]},e.prototype.backward=function(){var e=this.prev();if(void 0!==e)return this.display(e),this.moves[e]},e.prototype.prev=function(e){if(void 0===e&&(e=this.id),0!==e){if(this.moves[e].subvariation)return this.getTurnColorFromFEN(this.moves[e].fen)===this.getTurnColorFromFEN(this.moves[e-1].fen)?e-2:e-1;for(var t=e-1;t>=0;t--)if(!this.moves[t].subvariation)return t}},e.prototype.forward=function(){var e=this.next();if(void 0!==e)return this.display(e,!0),this.moves[e]},e.prototype.next=function(e){if(void 0===e&&(e=this.id),e!==this.length())if(this.moves[e].subvariation){if(this.moves[e+1].subvariation)return e+1}else for(var t=e+1;t<=this.length();t++)if(!this.moves[t].subvariation)return t},e.prototype.last=function(){for(var e=this.length();e>=0;e--)if(!this.moves[e].subvariation)return e},e.prototype.end=function(){var e=this.last();if(void 0!==e)return this.display(e),this.moves[e]},e.prototype.undo=function(){this.id>0&&(this.id===this.length()&&this.display(this.prev()),this.moves.pop())},e.prototype.removeTableItem=function(e){var t=$("#move-history .selectable").eq(e-1);if(0!==t.next(".selectable").length||0!==t.prev(".selectable").length)t.html(""),t.removeClass("selectable");else{var n=t.parent().prev();if(0!==n.length)var o=n.children("td").last();var r=t.parent().next();if(0!==r.length)var A=r.children("td").first();!o||o.hasClass("selectable")||n.hasClass("subvariation")||!A||A.hasClass("selectable")||r.hasClass("subvariation")||(o.html(A.next().html()),o.attr("class",A.next().attr("class")),r.remove()),t.parent().remove()}},e.prototype.addTableItem=function(e,t,n,o,r){void 0===o&&(o=this.length());var A="";void 0!==r&&(A=" ("+r+")");var i=Math.floor(t/2),s='<a href="javascript:void(0);">'+e+"</a>"+A,a=$("#move-history .selectable").eq(o-2);if(0===a.length)$("#move-history").append('<tr><th scope="row">'+i+'</th><td class="selectable">'+s+"</td><td></td></tr>");else if(n&&!a.parent().hasClass("subvariation"))t%2==0?(a.parent().after('<tr class="subvariation"><th scope="row">'+i+'</th><td class="selectable">'+s+"</td><td></td></tr>"),o!==this.length()&&(a.parent().next().after('<tr><th scope="row">'+i+'</th><td></td><td class="selectable">'+a.next().html()+"</td></tr>"),a.next().html(""),a.next().removeClass("selectable"))):a.parent().after('<tr class="subvariation"><th scope="row">'+i+'</th><td></td><td class="selectable">'+s+"</td></tr>");else{var l=a.next();l.length?(l.html(s),l.addClass("selectable"),n&&l.parent().addClass("subvariation")):(a.parent().after('<tr><th scope="row">'+i+'</th><td class="selectable">'+s+"</td><td></td></tr>"),n&&a.parent().next().addClass("subvariation"))}},e}();var mt;!function(e){e[e.Unknown=0]="Unknown",e[e.Resign=1]="Resign",e[e.Disconnect=2]="Disconnect",e[e.Checkmate=3]="Checkmate",e[e.TimeForfeit=4]="TimeForfeit",e[e.Draw=5]="Draw",e[e.Adjourn=6]="Adjourn",e[e.Abort=7]="Abort"}(mt||(mt={}));const ft=function(){function e(e,t,n){this.loggedin=!1,this.session=e,this.user=void 0===t?"guest":t,this.pass=n}return e.prototype.style12ToFEN=function(e){for(var t="",n=0,o=0;o<8;o++)"-"===e[o]?(n++,7===o&&(t+=n)):(n>0&&(t+=n,n=0),t+=e[o]);return t},e.prototype.login=function(e){var t=null;if(null!=(t=e.match(/login:/)))return this.session.send(this.user),null;if("guest"===this.user||0===this.pass.length){if(null!=(t=e.match(/Press return to enter the server as/)))return this.session.send(""),null;if(null!=(t=e.match(/password:/))&&0===this.pass.length)return{command:2,control:e}}else if(null!=(t=e.match(/password:/)))return this.session.send(this.pass),null;return null!=(t=e.match(/\*\*\*\* Starting FICS session as ([a-zA-Z]+)(?:\(U\))? \*\*\*\*/))&&t.length>1?(this.loggedin=!0,[{command:1,control:t[1]},{message:e}]):null!=(t=e.match(/\*\*\*\* Invalid password! \*\*\*\*.*/))?{command:2,control:e}:void 0},e.prototype.getGameResult=function(e,t,n,o){switch(o=o.trim()){case"resigns":if(e===n)return[t,e,mt.Resign];if(t===n)return[e,t,mt.Resign];case"forfeits by disconnection":if(e===n)return[t,e,mt.Disconnect];if(t===n)return[e,t,mt.Disconnect];case"checkmated":if(e===n)return[t,e,mt.Checkmate];if(t===n)return[e,t,mt.Checkmate];case"forfeits on time":if(e===n)return[t,e,mt.TimeForfeit];if(t===n)return[e,t,mt.TimeForfeit];case"aborted on move 1":case"aborted by mutual agreement":return[e,t,mt.Abort];case"drawn by mutual agreement":case"drawn because both players ran out of time":case"drawn by repetition":case"drawn by the 50 move rule":case"drawn due to length":case"was drawn":case"player has mating material":case"drawn by adjudication":case"drawn by stalemate":return[e,t,mt.Draw];case"adjourned by mutual agreement":return[e,t,mt.Adjourn]}return null!=o.match(/ran out of time and ([a-zA-Z]+) has no material to mate/)?[e,t,mt.Draw]:[e,t,mt.Unknown]},e.prototype.ab2str=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))},e.prototype.splitMessage=function(e){var t=e.split(/\n/g);if(t.length>1){for(var n=[],o=0,r=t;o<r.length;o++){var A=r[o];A.length>0&&n.push(this._parse(A))}return n}},e.prototype.parse=function(e){return t=this,n=void 0,r=function(){var t;return function(e,t){var n,o,r,A,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return A={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function s(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,s[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(n){switch(n.label){case 0:return e instanceof ArrayBuffer?(t=this.ab2str(e),[3,3]):[3,1];case 1:return[4,e.text()];case 2:t=n.sent(),n.label=3;case 3:return[2,this._parse(t)]}}))},new((o=void 0)||(o=Promise))((function(e,A){function i(e){try{a(r.next(e))}catch(e){A(e)}}function s(e){try{a(r.throw(e))}catch(e){A(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,s)}a((r=r.apply(t,n||[])).next())}));var t,n,o,r},e.prototype._parse=function(e){var t=this;if(0===e.length)return null;if(""===(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\[G\]\0/g,(function(e,n,o){return t.session.send(String.fromCharCode.apply(String,[2,57])),""}))).replace(/\((?:told|kibitzed) .+\)/g,"")).replace(/\u0007/g,"")).replace(/\x00/g,"")).replace(/\\   /g,"")).replace(/\r/g,"")).replace(/fics%/g,"")).trim())||"\n"===e)return null;if(!this.loggedin)return this.login(e);var n=null;if(null!=(n=e.match(/<12>\s([rnbqkpRNBQKP\-]{8})\s([rnbqkpRNBQKP\-]{8})\s([rnbqkpRNBQKP\-]{8})\s([rnbqkpRNBQKP\-]{8})\s([rnbqkpRNBQKP\-]{8})\s([rnbqkpRNBQKP\-]{8})\s([rnbqkpRNBQKP\-]{8})\s([rnbqkpRNBQKP\-]{8})\s([BW\-])\s(\-?[0-7])\s([01])\s([01])\s([01])\s([01])\s([0-9]+)\s([0-9]+)\s([a-zA-Z]+)\s([a-zA-Z]+)\s(\-?[0-3])\s([0-9]+)\s([0-9]+)\s([0-9]+)\s([0-9]+)\s(\-?[0-9]+)\s(\-?[0-9]+)\s([0-9]+)\s(\S+)\s\(([0-9]+)\:([0-9]+)\)\s(\S+)\s([01])\s([0-9]+)\s([0-9]+)\s*/))&&n.length>=33){if(a=this.splitMessage(e))return a;for(var o="",r=1;r<8;r++)o+=this.style12ToFEN(n[r]),o+="/";o+=this.style12ToFEN(n[8]),o+=" "+n[9].toLowerCase();var A="";A+=1==+n[11]?"K":"",A+=1==+n[12]?"Q":"",A+=1==+n[13]?"k":"",o+=" "+(""==(A+=1==+n[14]?"q":"")?"-":A),o+=" "+(-1==+n[10]?"-":String.fromCharCode("a".charCodeAt(0)+ +n[10])+("W"===n[9]?"6":"3")),o+=" "+n[15],o+=" "+n[26];var i=n[27].match(/\S+\/(\S{2})-(\S{2})=?(\S?)/),s=void 0;return i?s={from:i[1],to:i[2],promotion:i[3],san:n[30]}:"O-O"!==n[30]&&"O-O-O"!==n[30]||(s={from:"e"+("W"===n[9]?"8":"1"),to:("O-O"===n[30]?"g":"c")+("W"===n[9]?"8":"1"),promotion:void 0,san:n[30]}),{fen:o,turn:n[9],id:+n[16],wname:n[17],bname:n[18],role:+n[19],time:+n[20],inc:+n[21],wstrength:+n[22],bstrength:+n[23],wtime:+n[24],btime:+n[25],moveNo:+n[26],moveVerbose:s,prevMoveTime:{minutes:n[28],seconds:n[29]},move:n[30],flip:"1"===n[31]}}if(null!=(n=e.match(/^\s*\{Game\s([0-9]+)\s\(([a-zA-Z]+)\svs\.\s([a-zA-Z]+)\)\sCreating.*\}.*/s))&&n.length>2)return{game_id:n[1],player_one:n[2],player_two:n[3]};if(null!=(n=e.match(/^[^\(\):]*(?:Game\s[0-9]+:.*)?\{Game\s([0-9]+)\s\(([a-zA-Z]+)\svs\.\s([a-zA-Z]+)\)\s([a-zA-Z]+)\s([a-zA-Z0-9\s]+)\}\s(?:[012/]+-[012/]+)?.*/s))&&n.length>4){var a;if(a=this.splitMessage(e))return a;var l=n[2],c=n[3],u=n[4],p=n[5],h=this.getGameResult(l,c,u,p),g=h[0],d=h[1],m=h[2];return{game_id:+n[1],winner:g,loser:d,reason:m,message:e}}return null!=(n=e.match(/^([a-zA-Z]+)(?:\([A-Z\*]+\))*\(([0-9]+)\):\s+([\s\S]*)/s))&&n.length>3?{channel:n[2],user:n[1],message:n[3].replace(/\n/g,"")}:null!=(n=e.match(/^([a-zA-Z]+)(?:[\(\[][A-Z0-9\*\-]+[\)\]])* (?:tells you|says):\s+([\s\S]*)/s))&&n.length>2?{user:n[1],message:n[2].replace(/\n/g,"")}:null!=(n=e.match(/^([a-zA-Z]+)(?:\([A-Z0-9\*\-]+\))*\[([0-9]+)\] (?:kibitzes|whispers):\s+([\s\S]*)/s))&&n.length>3?{channel:"Game "+n[2],user:n[1],message:n[3].replace(/\n/g,"")}:{message:e}},e}();var vt;!function(e){e[e.Control=0]="Control",e[e.ChannelTell=1]="ChannelTell",e[e.PrivateTell=2]="PrivateTell",e[e.GameMove=3]="GameMove",e[e.GameStart=4]="GameStart",e[e.GameEnd=5]="GameEnd",e[e.Unknown=6]="Unknown"}(vt||(vt={}));var bt=function(){function e(e,t,n){this.timesealHello="TIMESEAL2|freeseal|icsgo|",this.tsKey="Timestamp (FICS) v1.0 - programmed by Henrik Gram.",this.connected=!1,this.user="",this.onRecv=e,this.connect(t,n)}return e.prototype.getUser=function(){return this.user},e.prototype.setUser=function(e){this.connected=!0,this.user=e,$("#chat-status").html('<span class="fa fa-circle text-success" aria-hidden="false"></span> <span class="h6"> '+e+"</span>"),$("#chat-status").popover({animation:!0,content:"Connected as "+e+". Click here to connect as a different user!",placement:"top"}),$("#chat-status").popover("show"),setInterval((function(){return $("#chat-status").popover("dispose")}),3600)},e.prototype.isConnected=function(){return this.connected},e.prototype.connect=function(e,t){var n=this;$("#game-requests").empty(),$("#chat-status").html('<span class="spinner-grow spinner-grow-sm text-warning" role="status" aria-hidden="true"></span> Connecting...'),void 0!==e&&void 0!==t&&void 0!==t&&t.length>0&&btoa(t),this.websocket=new WebSocket("wss://www.freechess.org:5001");var o=new ft(this,e,t);this.websocket.onmessage=function(e){return t=n,r=void 0,i=function(){var t,n=this;return function(e,t){var n,o,r,A,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return A={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function s(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,s[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(r){switch(r.label){case 0:return[4,o.parse(e.data)];case 1:return t=r.sent(),Array.isArray(t)?t.map((function(e){return n.onRecv(e)})):this.onRecv(t),[2]}}))},new((A=void 0)||(A=Promise))((function(e,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof A?n:new A((function(e){e(n)}))).then(o,s)}a((i=i.apply(t,r||[])).next())}));var t,r,A,i};var r=this;this.websocket.onclose=function(e){r.reset(e)},this.websocket.onopen=function(){$("#chat-status").html('<span class="spinner-grow spinner-grow-sm text-warning" role="status" aria-hidden="true"></span> Connecting...'),n.send(n.timesealHello)}},e.prototype.disconnect=function(){$("#chat-status").html('<span class="spinner-grow spinner-grow-sm text-danger" role="status" aria-hidden="true"></span> Disconnecting...'),this.isConnected()&&this.websocket.close(),this.reset(void 0)},e.prototype.reset=function(e){$("#chat-status").html('<span class="fa fa-circle text-danger" aria-hidden="false"></span> Offline'),this.connected=!1,this.user="",zt(!0),Zt()},e.prototype.send=function(e){this.websocket.send(this.encode(e).buffer)},e.prototype.encode=function(e){for(var t=e.length,n=new Uint8Array(t+30),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);n[t]=24,t++;var r=(new Date).getTime(),A=Math.floor(r/1e3),i=(A%1e4*1e3+(r-1e3*A)).toString();for(o=0;o<i.length;o++)n[t+o]=i.charCodeAt(o);for(n[t+=i.length]=25,t++;t%12!=0;)n[t]=49,t++;for(var s=0;s<t;s+=12)n[s]^=n[s+11],n[s+11]^=n[s],n[s]^=n[s+11],n[s+2]^=n[s+9],n[s+9]^=n[s+2],n[s+2]^=n[s+9],n[s+4]^=n[s+7],n[s+7]^=n[s+4],n[s+4]^=n[s+7];for(s=0;s<t;s++){var a=this.tsKey.charCodeAt(s%50);n[s]=((128|n[s])^a)-32}return n[t]=128,n[++t]=10,t++,n.slice(0,t)},e}(),wt=new Audio("data:audio/mpeg;base64,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"),yt=new Audio("data:audio/mpeg;base64,SUQzAwAAAAAAH1RFTkMAAAAVIAAAU291bmQgR3JpbmRlciAzLjUuNgD/+5DIAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAACYAAB+kAA0NGBgYIiIrKys0NDQ7O0NDQ0xMTFVVW1tbYmJnZ2dvb294eH5+foWFhY6Ok5OTmZmioqKoqKixsba2tr29vcTEy8vL0dHR19fc3Nzi4ubm5urq6u7u8vLy9fX1+fn8/Pz//wAAAE5MQU1FMy45OHIDugAAAAAAAAAA9CAkCMBBAAHgAAAfpC8V+oYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/+5DIAAASRKk6daeAA7QppLc/YAAAABf46cUDUzHODqZj2ajxUjhMjTJDUJjfuzeuzctzZrTTnTJiS9cSYYGrDVi5kLIOPWJuIWGrBUA5A1AhgmguA9BCC4ELJ2XM0zrQ9Xv7//3u/fv1YrFY8ePHjyJHve99/FL3ve973u8eRAQBAEAfD+IwfB8HwfBAEAQdLg+D//+DgIAgCHwTPlwfB8EAQBAEDLAoEAoFIhFJgAAAAAABhbPSsbbgMQmFOqkxozwPUYKuhhGogAdxjoRP8bREGxGCXAmpgaJoQDgD0wY0lYNEZIADFZReowNoGoMBqAMzGoAMAIAlANED8wN/zeSHErYDWYikDCGNIDHCHgoF4izrUBhCHiBh5GgBjPG0Bj3JUOkmS0TSuBiIH+Bj6G6BiyESAKBwAoD5edV2XwMFQYQMEoTgMKYVgMLIYAMCANQMGgJ1o3drMjiokBEJQEABC6QWRBYUq7fbeKREojhQcmTI2Sv2/V9laknata6v27a3vcxMi8XkS6eYLA0L/5OriqoAAB3LLGiDDHHIMpP/+3DIBgIR8KUjXeeAAgoc5TWvGDw+w3D+qjoU9pM8olcyLBDTBTC0MKcKIwhwPDAFB0MRMboyhT0jWXMwOdY8gzFhXjBsAnMEMBxrCgAISDDgf41i7yksOsKJ9e8S7z+9qy2vB+/R7C1DzWa0P01m1ZoGcR8be7j2g4Nng8EhMGQfD5kRliJ59KkFFAUmiLEEETw29CqbPqACkltiABkSxpqZg9nkHaznsZvwfA0EKMACMldxfYoAEYCoGphSAQGS6ZMYOaK5kdhsmCKAuBgG3yiiAtEsKjIyDV8yjiR4Wkt9xSzC3Pg7U7hcHrVdvfSMkaAlFFhZ9E4Kqcwu9nRZ7a8/s+eC2ZrNambO3NYEkanG6mM3mUk0/nnrAAAADtt1rJBgZAHgoOMxFjnjcGgDPZD5MMQUMIgZ//twyA8DEFTFLa90w+JSHGSN/yRoFgyJgMHAFEYlGXR0GgzSHbB1Hd89GuZFBAJJBNhsFuVexapl6z1SzhBq0003UacbJdpPpcoyfi3QtHrpyrUzc52ld0k5l1N3U9yb29langqTSAgrCwGA5AYvN4omae2ifyZbZJb/XVoDQHGYKYFcGLQI8RibYWgAjjzCWAGMFsBEwJgYAIFuZFBgxobI3GQqcGZyBKZhyAnGD+A0YDQAqCz+ogRE1kqy0irKJNMhONDWkxA20jZk2jjZb82eTzGotwkzNEfRynKvqSmRTZTg1KZMko97J9DJEybvtTurnWaxLC0L1CFXiRetowwsGhDM/J97VtT6///2VQAAABLrtrEAYSIPZkROvGPW4iZBgYRhdgWmDECEYH4gZjokdmgqiuZIYf/7YMgVAg5w2SevbMiCApiktf8kKN5xjkde/FQjEAEre4ENxgIT/I6ShkdSoDlZIqv837yrffJMr6ggg4UYyzsr2qzYXOQUtoIQ6DbDXc3C/7yNyfjTHLcOuGt/tdkwpNvtbEgYIwE/GKDJIhqMlkGJqBuYBwdJipiKmSepWYTpZRjQgLGBuCSYQgHJgGgDp1w9LXoWipFnZQu10UafZYLztJsVnEJ4RopGqg5DqIoZjSq1LLOMvlLPc3Zn+LznG0aXqN3KO0rV50NIfDwbcGwqWngkb3rnfpRWZKQ+pEuqAAADjk92rRBh5OMGNrICZNAEBjgjCmQKnGZvKMhlrirGAWDad//7YMgSgg5UwyWvZMaBrp1k9e6YKERkKGmSdDKoKGonBZ2TmN9n8osrWLY4sgCyuCxNZhl/WK18HmSrIsib0DDs+d+ebOGM7fLqS62YSVJNaRUJqWQebPBnG8/1Os2Lr9//W3Lfttq0DXk5ON0My42TiM547Y9jVoxBDkMFkOAp5ZU+s1F8cGbWljTi2Hw+tYEYZadZWpFki8gKPRtMu8RbWiK8kEBeK2KRw5TeTXbllYYS0nrfazegzNmtdO0vUKSfogmcW+m88RItb/9K6gAAHBNv9rGgZ/OuRvuFPGN8ayavwEJ4UBmaiUSBVO58YW9sjAgm3f/SF2xRh4+7bEeS6/HuOP/7UMgbAoxUpyevcQLBrRuk9eyYmKgeWwojsXcEXyXENnTdzUJcOMIPexgPJKhwOHwqJJVsC3LPvVe0TRYsvdspUG7tGgYvL8R20DymHwIEYqZOhpomxGcEL4elZFuXQXIz9rSgm9Ozfs7GHJDXqiRyj8hEemEoJuVlGrttBFGMTpAumRFcjJhiOIJMxpr0z6dK8spRWhTOnVWV2aqbZ7l2Dt7xRczncAUfan8dAAAEutusiIBh3l8HUavWY5oHZgeAfmE0GyY/iWpkviLmESD/+2DIEYIN0M8rr2BmoeGeJPXumCgWchFsAqlJtu1vQGdXccg1O3zJg8Pg4cCeOQGbTBCDUA9jkitTzo6yvBSF5YELDnhFok9lcP/jiwEsXIlyJocHmnBZUhXss147NVFQ5rdtrWgYaoaZyjNTHyY5GZgLmMozGFzenln7GCYpGQQYGCwQGCIkmCYPlAGyOcAYIs9HWMtM/ZQNQprKMxIJk2lsDwmK7nGIBW53jnJmxC97pdWrZ3Qyzt2T14zSm5msUz0zaxpfzwj8rdvorx1xgrAB66hdib8kAAACm20khABg1jAGaD4caWxHRhBBAmBiBUYHgB5h+lhGrqTGdvych0dKkDn/+2DIFgIP0Mcnr2jGqb8YZPXupFgzbRWNBJWqJpkRBAiC6kUkIJgh0FqUaYiSVBR1L2iRhj9pevJbyi1bJWFWhun4app3BhS3lcITdygZ6azrJX711M+zuJHefbuR2K3dTe9dr6fdwq3f76xoCgJJg91tHGEHWYEYAqC79AkWDfD8zwCnDO8QjKgK3EGCV7b6TSROQNo0lJKMyWXYxNG3Ny67LD4y2TD5yk5EyZFY2gRaQOQesljTKvumEO3BXMhO56/1u0mHIhY0g8aXKoSxu2kcwioWauoAAAKXba2IgGDMFMYVEvxpNAwmGKBMYfAWYriCYxJkZz9GdFMGY9hIYABuDhH/+2DIFoIOiKMrr3TC4a2VZTXsmNjFgxZ0wc6MLN/LL7fno9/rI0XgJP/JFnEF5GMlcKQOLMbEXSbMnd85pEsCpFZoHkg2bPBAHhaBhSkzQYbMOC4WWUPuvOa9msSXbbayIGDuP2b4c1ZluAtmBWAYYO4dZiQlkmieZAY2Iaht6maqeCbmpX0leGKeMIbC9RdoP+S7vhuZcC0NYCpyjy+R2PhtkNxJSBXtyjIcuGZprafS8cCxhTLzIWeO4KVAKABas6Pqcp+7XQAABLftbYiAYRqpphTpvGaphgUYjM53TtV9jL0Fx4ZA4B1K1HE70+cvr/12xr0SmkRSty8yDwk0wlHR7s//+0DIHoINgLsrr3TBYaGZJLXsmJjfT7hllb+rnzOYY6DwrTCohUU17DbO6nASKMBsKHXsPB8PMepCWxe9jGC2nnUbK2pJtdrGgZwegZx4ExmLoSMaHighonkjAYhYD+kSyvHQeGJPDS3e/efSGZnvcQx08ckREEUdykQO3KuDIOtGJqXP0nWwMBmWk5qr+qgx3nbM7vnm4P8dFQJ8PBc+SaUGkRDRowrVFex1CgAAEW5JbY0AbP/7UMgEgAvcpSW14YABNQ7ldzwwAf3KJlnozmaWdoY1AF5gChXAYGAwGgCDADANadEV7yzD8v75gmZmhoebsE7HJaqo7rFdgyiIbZ6CZsqRVEHuYhgNWGBOGAGsVcfCS2yF6aAtCmxmzWgwAAAiAU45bLG0AAAAAAeKaEpgeg1ml+nQYI4JJlZCaGIoDyYEwC3g0ALMwQwANd53+/58zMiHDGZikLGuJDoEGstUQkMtzBE38G80bonVAAAAIKCcbkSSAAAAAACdsSAC06BihDD/+zDIC4AJRBcpueGAATiNJOc8MAD0DENkls8wrARAwBboXAt8wEABW0ZF0WjgVEYGix0NDhpkykVccEzYxiyDPTX7ty/+3/SAAIBV3/CAAAAfVai5lnhTmd+j0Zx4hp8hEyGe6EKYKgFngEDrgcElv/1vfPX4fDjW2ESpXmTsaq0EKgLhQGiMW5kp/931NZ///2M/frrVAAACbk//+2DIAoIPdMMhveMAAX4VJOnumEijrRBrQpkHpsVWZMRB5t8kLGK2DsYaIRhgLgDmAMASYCQCoCAKWtL5Dv/w7r1eRF3KtpF5rnJlCQ8uYRokYa4ekUJ2vHPdN6bl9rvd2tf08pJmJFnTpSSTnrTEDzwCsJggODQcc2hQGQhKXnPQ3QxZmR/Z7v7cp/9+2sZBhduYnKsFoYL4aJknJ7nZqKmJYKA4CWXETgk5HNuNaWyf27/flY6liErW6FviEPkxpHyoo+tfb04uCt7VsJl99VzUT4JuCZ8OknmzDi5Ea+mseRLCw6YnGff0KgAAS5N//9GgYrCzZ2rDXGNwHGDzumXuCGb/+2DIDIIN4MUnr3UgwZgVJPXsGIgAThghJMvPEwWISKGzuoRhsau2ZTTG3MHsg6knIIslBfvLHFtfrk13pVaXuxTNqug3Wd2K1QXjrMIS3cxvWrabSeISKyIQcbEKRc8oUvvGcYCndVsG61HJ9vbGQY3xVx40CmmGMAcYN4rJhxK0mDqA0D0LHfyUA6nIYecZv7T85dXnLBUwA6EkjbD0yFqOPe8L7ySRgkbjCSSSF9Nt66zw/tZ9AmfHiVgACIqeMigvCcCpFEldz3uSSGmP6AAAEpLbM2gAY3EdBtXDUmBAvmz/Qnb8oBjNhAqoXPJJIzKqG925DK/mGV6yueGxYZrUAiH/+0DIGgINHNknr3RhYXUb5LXtmFhshjDPshXAyYWE0wB1rmaRMQdeuSpWRYxT4ZjGaiH2OjGzSwWA7LaLjL2jZPY4qaUKUoJJOpuV3WWIAxsaGja0BsMD0UI1ChbDqWUMsBozGgROtlb6Vyt85n1nWSQ95yj21nfD2yi6uIKJriExTlMXeG5Z0Ncvjt4byv5BL5s20a58ZmGZJv3cqMveYUsfO9iVT9UAAGOTa7RogG27K+Z4xP/7UMgHAA4A0ye14wApJg7ldzwwASZmqkGmU4F6YC4GwUANQnMpiE5Ip2/e7j/u277bcUVmnYUmgKYiCGe8dOTj4MfkiL7tsUfbZyKT1j3uutNj0DK9NrKlW/y0U6Xuyrk7BN+4lnMP3zZlqvydzIok/+d26+7bAAARCCbdksrbIAAAAAMIEEkwfwqzm2QeRSN7oaMw2gFguBB4cBv4CAv/eGP/5z8qI59hihYwh8ycrCfFjER5uKUXOz3WGqE+vZUAABEu2yRskH8nM6ccCWb/+2DIB4AO5OcfveMAAY2ZZPa8YABjBBJmCWCwYD4DwCBWMBABMviyx9H+i2OXN6/v22UThLIhJInLJET51JiiCWrbU23NMh2RUcbXxqLrSjWLp7QBktZ6hy8Ltu047YuKqYPnMs9cFeywFrHl0Mddu2MFFn9jWynsX/ud9IACEbev+1jQNnN4QMKHMFsC4AAHioASgrhQDLqW/jaw//zn+PX4OWVhUOW+WOwyDd8HpoGLLPZAjb/atoc49NH72JGwUZ5P/yWzy1t8pNOb7li5hBxSyDDrbSjQshLYpOjG/qUAABtRuSW26xsBAAAAAwdAbjAMAfN5oqYwoAOThKKZMA4ABMb/+zDIEgAJqGstueMAAUePJTc8MADw4DL11/e/n93J/xvO4/bd3GWn2Ql93N2NdyAYXJgNJ0SOFBKSNjz/+oAABpNpyWS2tokgAAAA31iKjApA2MLZSMwzwVjg1LKMMsGQtD4GBJ2AgVfz7rn6ml18sCGEtRhMtsQ8GZLFYJVdYLwyPmaFpQxPQiN/////+rSqAAABZaictlrbIID/+0DIBYAJ9HcrueGAATOPJbcsYAAAAAObUkUwCgMzJ/LIMFMEc1hj/jFgAbQK8ZAE0LA7///2mtZKnYbl0jSUscMEECjIxirJQOnASAIk0QDClyaiwo6np0AAANhOSy22diIIAAAAAfNmygYvAYgbSl2gZhQgAeQ0SAZBw/AoCaBYMsDBUAOt0G23y8w8y0V2vPlaoqGncjOUU+twxNIgTt84Kt2e6gAK/lttaINoauI0GTqjTv/7YMgHgAycyyNd4YABqSQlNeMN/ZNVEAWZg7AfgIClMgHADO9GXJvZYfnjkG5PfqtZ0WLUFVFggYQOqGNwMgsrB3MIJoZBGPBUFMVBpG1OYEKAQ7EEBuMgxhlIFC7niqw5rR2ztQsmv982ABHHdddrESDU7FmMmQDIyOA/gEOO0hyX6lsjocsct48y6VUz03kov6mJ4peDiXKoyIO50bBjE/jYnhM8EHGd52dVBBCDHlMpbO3RTVd5wp0TkaET3zhHpPs843q+TP9LaZg7L+frmBH8CVUABi2zbbWIkGnQrGYX4j5mfgnmFCBOBgQ0JCRDNKenqWLFnDLO0FB3SeL92cMwRP/7QMgXgAyMtyu14YAhShOltzxgAGtgFVooZH1amuxmSumB2gOwo0NBx0Ah0HekWcaiBwHwSCLAuDyHIlBWmXLJeAxW0sO6Y+OzgAACUjkk112kqYAAAABrXicGJCCEbhJARg2AGmA0GeYLgJYkCj6F3gIA7XP/lffn6fu/WKb7j1hbs7IBkrkpy4dE2lEDJcrz6fO3iGdUV1p0Ni4AEJqTaWxkAHZcfmYlZwBhJgXGB2BUHADF//tgyAyATlzpI73jACmGmCT17Zgktn/yhmXff/8tf7OlOczALDCYBXYUcKIuopN2w8y0C6Nxz0MQQP6WHGImC0AqKnUZTIv1heWjFPOZkmMYi05rWutx1+pb9HFvF2ddlGRoYNf05zJw/dt02urMAA0G5brqbFZaZluAdnQIpmY4YkEgYGRRZc2sBQ7Lv+3d9/bdavElefWNbV1lBBJ9l4hH6jD2niLAZtaXJ5IjqSkaTMeSDfN3t/2p8W4WMihpI0VBSZ2RR7Npfqv3iR0hHOoAAqOS62xkAHFmGgY2ASIVwjqzKAY9QhEHJ0lzO/I35utE2BQ6rtg0KXY2uJBjIwIGygQV//swyBoACpi9J69gYKGNk6S1vJgggDBh0gYITCQ7K07PuX6AzIysUN1ikkRZoqr3W54t+s+oACRSXb7axsGzXZ5EmddxmHlkkVWHP64U670m/zbvcn2UnZevJN8dAwsomIFwavMqVwtFZmA5Cb3B+r/gjuw5nLM00eGVjXFQs5jkiYwBwG0XNmTd1ydTF11sNSYxiCdjG//0VQAE//tQyAEACnSdK69gwGFzGGR17JgQ45fttYiQaWRgQCF4FrJ8tOfkKUt6lvv+9mf1jlahjr5+oHKrSL79o3Cl+KQBvcsliq1npHVzOG65WucQBPFQPAqTZRCSTzawX+/GXq33fSLNQAAUknd7rWyDdAIJMqALARRiERNFpT6zR+qqWx/P/1v2edg/6kokgrlhkCSSW90t3IZ5YtC9TS35DVSEev7m87mtrna6cOw+zcNGGAreE7zS0jD4ukWPILlUHPaxagAAXLLdrIgAaxo9Zv/7UMgGAAzQ5yWvaMChaBUkteyYEEYAzHgJmdABAlHJgsDDCjazd+5Vo/f2XFZRz6Dp0iBchk4jx4mkiOsDq2lzM28Yaxf8FvKJTvO8jjKdJFJ2Y9Mw23nGq6jZfYq3W4KjE00RkglFaKzSmFJbOqAACajm32saBnLogGCIMeevBlHlnlAWdQydgUrdb/Z3I77/k5rf9f6T3f6NrI6BIlFYT5LbbnfcT6UV8wsRCmZaDL0TzgScBgRcTKiwaNCh8Pk6dHM3Chz/oqoAAFJu763/+1DIAwALAMEjr2TAgXGWpHXsoBStIG2cMiZB4sADrKEFanNhUgTLh/21vffW3/bKaSzTkcxMFCxIGaZKvJvQTI6XkNeR8nDTX5ty2Ncw3h49vcmEmma6gQjiY9AkoDKNH+y1H0PoAAbTjl2zYABqjk5mPUHOeC5phBAKdTLX6CEQgat9c1W33/3pjRktqKDFQfipb3QqManQtxKWaj0HW81Xw3S99dtV9VJYLAIa9zXLOL0puSfFmpRNvytQ9Q9sPKM1AAaQbu39rSBr/uBy//tAyAYACxzDI67owIE9lCS14Jk0qNZz2RiBpbJQFrUMhQSFI+P/8h9yvy3M6kOVWpxzkMRmyykzkfrcvEUis2uWiml22/Pc/Tv8Y2GX42d+3vLsuzRZjBa2/X7pt4t6t94ADYbEm2jIANQQYcxMQNBYDoWABXs6sWnZHXIPyr/QTJkI13Ikcy8d9hOVY5W+8+Wef2CvrzhtPeMVIZJJJAAoUCbo9E9G2Pc/9dCEat/6VQAGmAL/+0DIAgAKGK8lrgBsgTMc5HXSjXzf/bGge4xJzkpGJgmAgUiixJ3ZdLa1nL99ORj/R7DQCg0gkc2UwQsyUGGDBSIMQYJQUmfOkY+Z50gguOCYueDCgYLJAQq31KWe7HVfpAATTDsurZAB/uyhk+HBgoBJcZTVr0Oy6zlZtNYrfboyfVjibs1biJTmMrmUIWMDKCjJuHrcE+9m1mQJ2I2I381M/k7s2zfhbOb0oCqVAKAEAt20RP/7MMgDgAgcjyWuhGXhDA+kdeCY8AB9Kc6QFLTWcgl/CR//nUYW/JgRu5Qgx0GkMKAiECm7bBhU1UGdHiQREETRRDLNuLbLPzPR/oU0CCwAIADc3+siANF8NYGgDsyhmVVa2//O5fuYtH+ySyOLBbM2rdPUjXV8b+zBgeEJc2GggSChaaUqt0FYTNTpZIfdv/rWADTbjl20hAB9u//7QMgFAAqcvyOthMeg7o7ktbCM7AaAIgoKU1a9DrjQ6ILCdlsV6ykJmbcKhac9hxjGPlimkpiJ1gtEKNgaBJo188814jdfO+F9y5SbEigkAU2sf1ij+tyNUULxe76bUgBJACW7VogA4QaMsCS6TBXejMalrMX/+7ZaxnXPBSISgArmkQOoF4UgKJGEA6u83wdWyV0iyDIzO2P+qgAgAAJv9bEAc1B6gPf6ltY5Yr573p8okELj//sgyA0ABwCFJa6AZ0D8EOR1wIzgDAyMHIAL8kbZcsYJyZscIyKULCDzou0QglXp7H/rADJCEl/9jSB2ooAELISWdP7Kn9lR15f9q/Si9TqksGUmKvqdwMNXphUIwdEBHwyeiQ8PoFTGLPqd9lXt///rADQAEFurYAB/KqBkRnL/Uv/7EMgIAAYcaSWtgEjgtwGkdcSMBNqW2v6qV+XKieujpM4CHFA+9IRPjhR7XBbEK0ii2LFf0gEgACiW1oAA6+MwMQQ8mCrP5IF9IgmxVS3lLGvLFAYDixEMvHixG7QP6/93/JUBoAMQ//sgyAIAxsB7JaeEZeB0AaURoQgEXbRkANYnqeeq5hF/z+X+pG/swpHoVaRCzmJnakE0VCYiUKCwnGqEh0iPYKLFez9H/UoBsAAUHOPTophTP/r/ShwFDTwuEHyQdC7w1F0TCAQAABdttYgAcwnLB/+ZXQ4UW6578ZA4oocBUoHrFP/7EMgPAAU4BymtBGAgoI5kdTAM7AABy6zMJT4Uu6ZXpARAAAk2zQAAPQJ+J1JFJs/unlKlZlMsYIrHWcw+HREaPia9CtNKkdYAAAAC3axggANRk//0l0EQKEK4YcifYaosVrcpnYz///sQyA+DBEAFJaYEYCCJjyNMUAy4/d/pt1bQAAYGbvqhWyItJhW4QZ6OQub0I8Y1l+wkmuk6sgRW/VXbaQAD//qOzJVTpWpiq0KTs6w9W3jgBBds2QBf8bRb4RMEph6p2IAo5hPc8nz/+xDIFoICsAEoYARAIJWQpDQAjhQZ4oZ72sVLwi56m2s21hcIAAP//4a7s83/4K7YCAAf/9QshwsLNNqFm//6FiorTEFNRTMuOTguMlVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EMgigwGUASBgBGAgTQAOjACMBFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQyDwDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUQUcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/w=="),kt=new Audio("data:audio/mpeg;base64,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"),Ct=new Audio("data:audio/mpeg;base64,SUQzAwAAAAAAH1RFTkMAAAAVIAAAU291bmQgR3JpbmRlciAzLjUuNQD/+5RgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABIAABioAAYGBgYGIyMjIyMjRERERERdXV1dXV1tbW1tbYKCgoKCgpOTk5OTo6Ojo6OjsrKysrLAwMDAwMDPz8/Pz8/f39/f3+jo6Ojo6O7u7u7u8vLy8vLy9/f39/f7+/v7+/v//////wAAAENMQU1FMy45OHIDtAAAAAAAAAAA9CAkB5ONAAHWAAAYqBZ7dFkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/+zRAAAmQmgI2wSIYCBRgBukIIQECpAkRJKRgIFaA4mTAiAQABQpAHROAAxCFgAFiaTPT7//6QAAKqgAAGHIE/hYzUkIhwImqH/yaDxwFAAAQwBL5Rwfr5Amz72RzpRxQBloAerIF/Pu1BhMIvpqcH8EHBmiD6gfOuctkQAOKPfZZb7wq4/iRCwjB9WJ9/Hf/+8RADIADATLGU0kz8IAoiP1h5n9aEUcftZwAAz6pJHae8AAhyMVEgozuIyNuE50eUuEdm3VtwvCAEwLUQYmacQBMAC5PMufjCe6gOhuWUoYWJC4rByggLTIQAABNZhgQfe+HIYqkuUcH9ITbdclu2jJAOzGOM7jrvy7TSGuU8rjcSWo4EsjGEY5G+I0zN6HrpRsD10nDnvpWF8mYDoQsth4ra6QsW8ua2XM3xc2MTcTQhCRV5fy5nWwvzomb2ddlzkVmGw6MvIavJnBGuY5gIpsggEWenpjhE9vHrO0Prt8jPv/iPd677loCwGnFLdvd9ZCfPAkwrOWofshBLT0SEuoCpIsvRQdQdAe8CPjU34axSyFpUhb6GWUs+dmNdZ45LL3WV287jxdfEcLgLgij8uOmOiumOw9+32aqnol+XnlYNPIIKdSlL6K0LnQHstToVmL4WE0H/ZwhyDIkQ1YG6InhxHXbkwxPhRctWwaStMWs/LkQ69a44YhMGyueqyufhzGALVWB92MKsvtfzPv9wu3/sa3llSZ4RiWUmOWdfudTlenp6ax+6+qGV16fvO2BeUrC0H5d5y73OlAEQ3bd7JtrAPoCKWwgi6ICN9DyVtAaDkMAww50sTQtikOkKgUJoC1gCRODOO0O4GqPgE2NIgpPBzgwxNwyzzFcKAlp7QTrHGCQEIDUHIoDnYIR0lSL8LWGGON+rlUgSZC4hzjjEbRYB2AsE1GQUhJBY1QdRkiaG+XtnLAQEAvFU1jgHkdJfD6MEJ8ghNS+p9ya3ijJQnB6B/lzLmdasNBKF/S+1AnzrkrLd4l1ZFZ7McZ+nC6EIII6xPHYHm2ND487yl97zD+q4lnh36P//30VCAINAQdF4dBgeE4nJ5oIBBoQApr/+9RgCgAIznJV7nNgAJGLCv3MTAAWgV9OfbyACjIrqk+ysAFMCg5HNa7jmFwwblM5icDmcgjMcM1t87C3zEaMFkC8lsFYAqEmLECqziJ8P+dHBgh5MtBDCQESAVbn8hyMGSmoOlBCSI3F2WIWKsqfhmgOPBCgmahgMFSEnZY1tTXb40/cLsvn0MAMFlYqAA8OGgaKPKx2C6Sen70vi+G++YoJhcIKgw1YBBDrIFS6m7uamcPz1h+sOmNAi60BQkIF5QcRskDhGe3Vyyz/LWHP+3hznRYfVAPBiKbwIqKLDwQnqhwpuzXZVvC5/ec/+f////4NBUJ5fAFAYkFoGgobZEnKp+vATc/xxpf1d/uf5Zf//////////////////////e1lnULnP/5L0DgcDr8fj8DgcDgcDiMVYNSPb1o/+A1ijwUse7/geamjVF34NQg5Ym0RgpBYNiAOIQ1g4xzh2m5ugAcQLhg3wrGQuOtrkEIKJ/D5BGCJOFwzKn4gAmISC4RYxCiRfQOof5ESfFzkueIgXGu63/5mXTcvjsUxn2//0lmZMIkXOE2Tfb///NzZFIwTIoUEycNy+oAAGzcBR4GLRkCCAwLij6DQ6YQ8mcoRsqAbGRmJCJgpUZSvHEiZggMkAAtpb6e6JDBYHIbAM0nUvdwqi0kxkUnmjrxOVZ24MVymYZnJVUl12W3JdvH8cccaWl5la3jZq0tLjjvLLeOO8cqbHHGrj+W+Y//caS1jEaedxy7V5vHV/WeOv3Z/98xxw+r3HHXatnHHu+Y/9XDLCmtUuFNds6wy3jvH8f/+dw3juzlWtZZBovKLloElXf+B3IaGwRYqAkINWqURwAg+paLEpOnsrGgo6PImZwFyMqIRcSmtMjY2Hc4dztJcqLmwku0knYPaRONjY1bt5aamqRsbHnOiXN7mnOmGpPrh7D0mpqa6NXDFTVpq01ai5I8690HknJOdNJHoXqEra1rouHOv+nO9zv+2tqUb/mnOc01qL81wUUSaxQiVJqz/+7RgAgyEXUtPm280IGnn+hdkwqlQbUE8beTLKZehZw2WChn4RQ0kEMVJDWXwydIFhEzMeNMqWVGdi5m8gEFIOUFXBhQYaOGWmh0YcWREYiwBChbUQHYznMkGM/Gl68ZWGJjlFreVU1Y7Puvkol/KnE4MOY51L3c1+cOVdonFlUxpLUi7aFtZj0TSd6Mq4fJRmstSWs5yMGo3WzcPMqb1VVtyWChEVuA5B79AAS3GhIEEpZispuhst4eHMEopSAgYXCZVFgSMcqwQEBKzgDfF8pdLZx6twzPSi1QBWkBKbwNGFnFEMzJbf9NlrRLTvqBEwttIIQpYloS7q5X3u6f///9jGO6lYpwyOYtjFosdWLizvo0r0hFNOAppjKjIBE5g5WEAAOT2GmYJYJDjaQ44ZLMqAZcrCZ5Be4s2cYUAlsU6Yo8yWrNYesRutSExowu5fGqH9FK3HwtJE2qO3v/mESJQcrU5q+UudwtM02SPljSazSDaSpuzW6FtSJeVzVYa1ZHdUye221uXM1EN5Q2vlrrs6uqZSiNOES29Q08Giu2ODrBNuBmSJYpWEIRhAuiuNLZNNoCNpfF/lgWSlwPieOpPKjUKy5q5T2IHZOdfyqMU6ESUuazKWpUWEHQzZ1dtSlXTR0+unoy7dwkG584qSQZQlEnyLd+zm6Oubrv1CkTigBZkYqbhyZtYig4YEl8IBQSUNfpROdLLiXsAKOseibi5EtNIkSJqKMyVsy27tHeJTh2JApr+oizmKSOZN/T/+5RgIIiDsVLPG3kweELjSho95gcOnUtBrTDKoTydJg2DCej7tdpWlvCfHMdiThMxO0sJWwzN04rXV9NlHJLj1r3sRt/q75n8RkY1pxRtEbdoncuMMc7WpQAABSaxSAGgNJdn4X1UD6JOSaImOwMdQkbeT3mSKDTpHKMWd5p2LxjgLVJq04OBQHQm0CgJDCQkJLa7/7qn8Wp5VAwGVSWuOQBqsUBKxAAQgnT5ZCmi/C92EXz4QgJMH6wX3eGqQOSH+k70mRwsK1kk7VRVEiaGTqJXMjGDhk/0mt80p+y5ZiZFDERYyEp89FxSsHU+RL1blQ31nn72PnlLlFL1psOzm7MVMycllu/JV6bsS25yZpYSDFSAgGaGwMYTC0l0rQUDauv2Com/Msm5RFqJaaFmoJJa98qW6vmWNIxrvPlad5C3qhKtNM1DhBCoQQVJ9P/sxHRZJiAzv8RsaRRMub+SWqnAGtGfI6SgJQEYSZT9h0twLGEgv5PQ5CIchuHUxnX/+6RgEATDpVHNE3gwalMkqUJrBgwOwUMzreDBySeSpUmWGKBYkHCgM0pIs0CNgxMw51EiMOQMN8zPQPTe7N2thEhCMI7lJozkox+xFoPh063qteQ2JpbWloRTfykxjmNETGf2963ztv7n6QQw1PDJ/M00ntNO30YAjLocwMakcg8KbD8QKKmf1r0SVzIcJyy7r72QYsCDVmHBZu2g0yaxd3lF0pN9S1o9HrgorN+RlY5m6gtFRQDHR9iCmL30Jet0vBcLHz08Fnge9awABQWk5MCczNDPmCgWo9kecmW6iAhocEPxg1iWPlLs6K9HSCBgUchpNzaVOZN7EFdluhOKKTIZtcua3C7+7ttvUk6MuahRmm1D+Yf5tASOF7RfYv3haq6b0rzKOeqfy2U9a9VvO0OWEpGkjseDjQkjn5FEjrCQWgcD7A1FVJVUZDZcKh0NSQcPjgHA6Doh+rmnBjkjiFE4xBNcMjBr2Tg9m2IovAxM+b9zlwlFd2uOF8JtbYEPX//+zEoxTKbVFloKakCXwehLUhwVVBIpkMsdh4FmUwhEQbACKhMAwuGXERZWOXglQtqLQ0ilLPWfEXaY2ZDESoRAPOAzkRAjSriwRs/IeYWw8ChQOYt0qmiBhza8DPL/+5RgKgzDLj3Mk0ka+lMneVNgwoxN1R8ubRhxyUaTJImEmTCaAxpqJmWrCWy8O2XVab/l3nAEUZAA6ID/PNGSKl7/N0nN1IVXoGDt7FrESn4OLYlhpsCQx/F6C6v1VXOybmH1AUSS8esRObOdKy4Lbzj7KXSy//mSyyqR3LO2ykHWelK6qtEJJiNxtwH9DHTFyBAY2NQS0vZfTSmQzzexprL+tJlEtpZwVQ8QFJIkMTZjXcneOg1o5bjIJ6P3AO4QCACPUkVVkSRtf0dcQ1TM6QFKPJ+CY6kYhHXrhE65p+iEcPvnDR90hGLMiFnYIVSeS0qiWgjptBTgFrGyDI2WETHymHSWEnozHSUSHngQqMnm1T7mjmG4ETZ1B7Ypfd7SaNTP2ZKZmJY4UEE8k4pJjveyjqir5eU6xxxQOB0cPUf6jK1hcWAKiVUAAHr/qgX7O4R4m5N1hOnbjV4Qly2IIrIB+tWHZ6fWWRrjxtxv3e59nI/4v7uF92OOpI9maSz/+5RgGwiDlk3MyywyelfF2UNlJgYMtOUxTLzBYTQRJR2HpBjSOEjQNEwkk7iaxyJyVll90lWaR06S1aYSjAXWfHZpmNZmjy+ZPOJHVNL/RI57kvC8+/f7qqqnokFAsyVkJJ2NAfeHERCFQTSVRkwdglqhKCQJBhZR4s8m6nxJ8n/XIxRiTsZswi6Y0w+VpVFQrDoRf6yTFK6OJh14xyyWTPxTuIgaoRl0kCar0NaFThEVJChK5avUoCm5E0iB/Yw1SyEjRXNhcnUyLLa8VqdQNWpgo80rb2KwieQO6dJpzScs4mRpYHQzCJqOuqvmwvzhJzTkZVjosSSjMYtRTS6MJayzc5yVGtqKqquZoJhIPDhCEhM8sBgiBrYaEf6liabTjINsS8ykSJbrG5OU1XaZ0fSXM6uiVSuWZslWSZGrkY5Wyf2ZLaiLJKD821msuO/wTl1u4MA0kXXa6YjythUkPNhpzUM6ytCGr80qFa4DhRAxFwAoEuJ/SICa0vUDw4D/+4RgCg0TCDZIk2wx0j8k2VphJgELuOUiTTzByO0SpWjzGAQXAxQ8A8uFJ8OzmmkKYxCSGuUnXpwMKjwWyGrvNU5udszGw2cYUnZbm4XmQpyqqMRhtl14iUzPREuiJG6eH5cqxbFE/GFD2nm6/rvd/AAiRTchIAERC/oxQKYKCA4QTSnMso8bOfdZPC60jjrLZHSoY3WiK1PmfCN1sYlSWmtAC5KTNHasmoNY7/56xqzDZM308AMj4GGYQs2UUdA/X8I7zdmWlIqZJyJibWSsjZB0EcsgVGwlVCkDV2QQTmmp35Atut3Ktqx6/5ab/MdeMeVMEKfCRE64eHYw9JcSx9MaVYy1XS3AtL5//3oAnhGONEgFRgwmghwbCqOMBcJ+MzUXf3OG9nlociFZpGQlEnTpFloJoYqb0vullcA3kWdCwcb/ytdzdNUAAAjGm0T/+4RgAwgS6jLIU0ky4DtkSQk8w18KxL0cTTDEwPKTY+WEjXwAGXOeiSJEkL/Ndgp2o02LriCIVmS54pJWarbqUNo2CZ0e/FhGtEVsIgS1HV4oStJ59HakWzeWZN52CgL6+UXCEbN7jOSrPmY/9LeAoVOZux8WXMt9v/uAAIKpAABmg8S4vGaGrmKK7v8ZELNM7EDEzZ+1qIWSKCZ0xyiB8gsLRKc2BhrNEalFVaWEhERHYaRYrG1VIBqSR4jYclS1d1XRKBZDGoM1ZSFZMKBwlSFFAgLsASdYphAKuBZiekwSgQlqcWRVN58NbljpLw9ykTLhCNrUd2c3unBbqQJ51gQUJngwcTt/t+sPoAQAlvCHzBoq6tNNTk/T9zrImg6zmTxydn3RdIzGk72U1ieo0umI2HOecIiemqauNWRjHyVw87Kopwk/bQoIBJ5ZJWj/+4RgAwASsC/JUykycEGk6QpgyREJjLshVYMAAM4Qo2awYAEAzIbCg9XUQqw1YoZYQMocBnGGGV1ILKNoEY09TF7afchSHyFYi1kskcVGLT0+LZKq6EvkPm6W26yR9H/u5xw9EodAKXzsc0ApOkyMhf096ACkhUcZAAKjxJEIjEjECNchSHYqxpqlJKM5uIfX+zcnayompEdJWWUTmUMH4mysVZXhuZP7HPGsRJM0d1pDILVZWACOTTcaAABKdgKas0lHY5ejVmPWKHdSxWnTAFbOqDyNbYtE0CoUbPYltORSJFOX08bHyKJWSRpIrO3jnb+W9biNN2r072sy8WINH+gAABguFZAFLd861+HKajq37NerO6puoQ7szlCdu8zv/Pbf/7Ox8g1DeWUXVP0bg6cezi8KAAAIZAcSgdRYCAAAAAOE2NAkSBwgeHnc7Ob/+5RgDQAE4V1J7mXgADsDSX3EmAAKYL8fXYMAALmOY6eeMAXlMgt9z9yMt2n8z3ysZ2LE2e57pmqJbfK9vNTqxTqBSmClnsR8+VryJEmxp2Mk0ILCdCtm3CV1//jW8Gg4IWl36mc9XfuEjEzf///USHf7vmDFgZzjeMX9/rf/7yNuFDjz73eEnlK6bYTNasn3j////+0KfNNUxA1e8e1fmSNbL2DOgBNtqOSTW3OMBAAAAACbQN8PUlgqXZddwqtej3W7buO27tmpNe1Xb/PQacWaNuJiAfRazyFrjv///8qAgx8cbZACNZVQ1itDeolSWb3K2pVrGlpmdHVF2mouYc15KTR+mbJxKsSKuBSRJJ2qnd7eZ/z/DdrpbB0kdc2UWrX9YaREpZ08o9K885PBr0f/EQAANs4AAwS6oSxxJ2rW9YmtO+98atXXAHFGmejbGYoVKtaMdLPYhNaFGVJ+6f8qACRTVu2rQACHBDQkkjYdEtMnCRcLZcb4UKMjSen/+1RgDoGR2RrJaeYwCi1iWLc9JgJFqFkdR5hjaGwLo+iQjHypgTnBaNWmEuxktO4Se1lLBmwJBsMf63u9mz4XDv6AmNpAAABSHUPUdYASaY+8T1BM3KjNt32qjDC3IwdgS9iaXkBL9uVtvQuVZ/5QACbkbJTiWHCyhIMnNhRaKJyyjtOydeiYxgxIQcAcOmRagzcza3aZeX9+9M/pS3IwuIULKzjhSRfNUbd+67ItPrAgRJYKUEY6AH/IAC+ACRf/+zRgBA2Q6gNGMg8YABpAOLY8wgEC1B8WR7BgYEsBo2hgiASZoUQ1ONAkZLgY1idRsDVniqPp02KAGygAD+GcEhM6LrDICCIKMYCrqEvhvCWlWVGQeokwYGTMZHtFxyTHgYUCVHXx7WW0A43EDAwIWE1I6kHW6brObWJGURoLAAoAAAFoAImRom//+kAIQAD/+xRgCYGQegHJ0MIICBYgOHYwIwECKAkfQIggIECBIdjxCAQB04GWEoUHIctguyb1s8tJNHVgAF5KKCGAuz1Pbt20L/rpK1I+gW1oAZyU0/2KEdYCS7apAAAIgAAYEMb/+yRgBAmQagNDSMEYCBFgCIoMQQECeAUBQwxgIDwAH+gwjAQlf/Jv+oAIABtAAABE3v//UpZwAmbwmybjAFhgZAU8oDA0t+VbLEiuWXLUA4wAUCp08vI/6dLlLK1KACAAKNOBhRIShUt+6Gv/JMAAH//uiUJDwFj/+xRgDQWQfwK5KMYQDAhgF2IAIwGBfACZQYQgIDeA0qggiARAAFQyZFhcz//1AGIgAIGA0a/7PhUVFRVMQU1FMy45OC4yqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xRgEg/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpUQUcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/w=="),Et=new Audio("data:audio/mpeg;base64,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");$((function(){$('[data-bs-toggle="tooltip"]').tooltip()})),$("#version").text("Version: 2.0.1");var Mt=A.get("theme");void 0!==Mt&&$("#colortheme").attr("href","www/css/themes/"+Mt+".css"),$("#colortheme-default").on("click",(function(e){$("#colortheme").attr("href","www/css/themes/default.css"),A.set("theme","default",{expires:365})})),$("#colortheme-green").on("click",(function(e){$("#colortheme").attr("href","www/css/themes/green.css"),A.set("theme","green",{expires:365})})),$("#colortheme-yellow").on("click",(function(e){$("#colortheme").attr("href","www/css/themes/yellow.css"),A.set("theme","yellow",{expires:365})})),$("#colortheme-gray").on("click",(function(e){$("#colortheme").attr("href","www/css/themes/gray.css"),A.set("theme","gray",{expires:365})}));var Vt=A.get("text-size");void 0!==Vt&&($(".tab-content").css("font-size",Vt+"em"),$("#textsize-range").val(parseInt(Vt,10))),$("#textsize-range").on("change",(function(e){$(".tab-content").css("font-size",String($(e.target).val())+"em"),A.set("text-size",String($(e.target).val()),{expires:365})}));var St,qt,Bt,It,Yt=A.get("piece");void 0!==Yt&&$("#piece").attr("href","www/css/pieces/"+Yt+".css"),$("#pieces-merida").on("click",(function(e){$("#piece").attr("href","www/css/pieces/default.css"),A.set("piece","default",{expires:365})})),$("#pieces-cburnett").on("click",(function(e){$("#piece").attr("href","www/css/pieces/cburnett.css"),A.set("piece","cburnett",{expires:365})}));var Dt,Gt,Qt,Tt="false"!==A.get("sound"),Rt=0,xt=0,Nt=!1,Ut=0,Ot=!1,Kt=0,Ft=1,Jt=!1,Wt=[],Lt=0,jt=!1;function Zt(){Rt=0,xt=0,Nt=!1,Ut=0,Ot=!1,Jt=!1,jt=!1,Wt=[],Dt=void 0,$("#stop-observing").hide(),$("#stop-examining").hide(),Pt(),$("#playing-game-buttons").hide(),gt.history.length()>0&&$("#viewing-game-buttons").show(),gt.wclock&&clearInterval(gt.wclock),gt.bclock&&clearInterval(gt.bclock),gt.watchers&&clearInterval(gt.watchers),gt.watchers=null,$("#game-watchers").empty(),gt.id=0,delete gt.chess,gt.chess=null,gt.role=ht,_t.cancelMove(),un()}function zt(e){$("#pills-play *").prop("disabled",e),$("#pills-examine *").prop("disabled",e),$("#pills-observe *").prop("disabled",e),$("#chan-dropdown *").prop("disabled",e),$("#input-form *").prop("disabled",e)}function Pt(){$("#close-game-panel").hide(),kn()}function Ht(){$("#close-game-panel").show(),kn()}function $t(){$("#left-panel-bottom").show(),kn()}function Xt(e){if(gt.isExamining()){var t=gt.history.get(e),n=gt.history.get(),o=e,r=e;if(!n.subvariation&&t.subvariation)do{r=o,o=gt.history.prev(o)}while(gt.history.get(o).subvariation);for(var A=0,i=gt.history.index();i>e||!t.subvariation&&gt.history.get(i).subvariation;)i=gt.history.prev(i),A++;i>o&&A++,A>0&&St.send("back "+A);for(var s=0;i<o&&!gt.history.scratch()&&(!n.subvariation||!t.subvariation);)i=gt.history.next(i),s++;if(s>0&&St.send("for "+s),!n.subvariation&&t.subvariation){i=r;var a=gt.history.get(i);St.send(a.move.from+a.move.to)}for(;i<e;)i=gt.history.next(i),a=gt.history.get(i),St.send(a.move.from+a.move.to)}else gt.history.display(e)}$("#move-history").on("click",".selectable",(function(){Xt($("#move-history .selectable").index(this)+1)}));var _t=function(e,t){const n={pieces:ne(_),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},prevSvgHash:""},hold:g()};function o(){const t="dom"in n?n.dom.unbind:void 0,o=function(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const n of i)e.classList.toggle("orientation-"+n,t.orientation===n);e.classList.toggle("manipulable",!t.viewOnly);const n=E("cg-container");e.appendChild(n);const o=E("cg-board");let r,A,l,c;if(n.appendChild(o),t.drawable.visible&&(r=Te(Be("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),r.appendChild(Be("defs")),r.appendChild(Be("g")),A=Te(Be("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),A.appendChild(Be("g")),l=E("cg-auto-pieces"),n.appendChild(r),n.appendChild(A),n.appendChild(l)),t.coordinates){const e="black"===t.orientation?" black":"",o="left"===t.ranksPosition?" left":"";n.appendChild(Ke(a,"ranks"+e+o)),n.appendChild(Ke(s,"files"+e))}return t.draggable.enabled&&t.draggable.showGhost&&(c=E("piece","ghost"),y(c,!1),n.appendChild(c)),{board:o,container:n,wrap:e,ghost:c,svg:r,customSvg:A,autoPieces:l}}(e,n),r=function(e){let t;const n=()=>(void 0===t&&(t=o.board.getBoundingClientRect()),t);return n.clear=()=>{t=void 0},n}(),A=e=>{(function(e){const t=X(e),n=v(e.dom.bounds()),o=e.dom.elements.board,r=e.pieces,A=e.animation.current,i=A?A.plan.anims:new Map,s=A?A.plan.fadings:new Map,a=e.draggable.current,l=function(e){var t;const n=new Map;if(e.lastMove&&e.highlight.lastMove)for(const t of e.lastMove)$e(n,t,"last-move");if(e.check&&e.highlight.check&&$e(n,e.check,"check"),e.selected&&($e(n,e.selected,"selected"),e.movable.showDests)){const o=null===(t=e.movable.dests)||void 0===t?void 0:t.get(e.selected);if(o)for(const t of o)$e(n,t,"move-dest"+(e.pieces.has(t)?" oc":""));const r=e.premovable.dests;if(r)for(const t of r)$e(n,t,"premove-dest"+(e.pieces.has(t)?" oc":""))}const o=e.premovable.current;if(o)for(const e of o)$e(n,e,"current-premove");else e.predroppable.current&&$e(n,e.predroppable.current.key,"current-premove");const r=e.exploding;if(r)for(const e of r.keys)$e(n,e,"exploding"+r.stage);return n}(e),c=new Set,u=new Set,h=new Map,g=new Map;let d,m,f,w,y,k,C,M,V,S;for(m=o.firstChild;m;){if(d=m.cgKey,je(m))if(f=r.get(d),y=i.get(d),k=s.get(d),w=m.cgPiece,!m.cgDragging||a&&a.orig===d||(m.classList.remove("dragging"),b(m,n(p(d),t)),m.cgDragging=!1),!k&&m.cgFading&&(m.cgFading=!1,m.classList.remove("fading")),f){if(y&&m.cgAnimating&&w===He(f)){const e=p(d);e[0]+=y[2],e[1]+=y[3],m.classList.add("anim"),b(m,n(e,t))}else m.cgAnimating&&(m.cgAnimating=!1,m.classList.remove("anim"),b(m,n(p(d),t)),e.addPieceZIndex&&(m.style.zIndex=Pe(p(d),t)));w!==He(f)||k&&m.cgFading?k&&w===He(k)?(m.classList.add("fading"),m.cgFading=!0):Xe(h,w,m):c.add(d)}else Xe(h,w,m);else if(Ze(m)){const e=m.className;l.get(d)===e?u.add(d):Xe(g,e,m)}m=m.nextSibling}for(const[e,r]of l)if(!u.has(e)){V=g.get(r),S=V&&V.pop();const A=n(p(e),t);if(S)S.cgKey=e,b(S,A);else{const t=E("square",r);t.cgKey=e,b(t,A),o.insertBefore(t,o.firstChild)}}for(const[A,s]of r)if(y=i.get(A),!c.has(A))if(C=h.get(He(s)),M=C&&C.pop(),M){M.cgKey=A,M.cgFading&&(M.classList.remove("fading"),M.cgFading=!1);const o=p(A);e.addPieceZIndex&&(M.style.zIndex=Pe(o,t)),y&&(M.cgAnimating=!0,M.classList.add("anim"),o[0]+=y[2],o[1]+=y[3]),b(M,n(o,t))}else{const r=He(s),i=E("piece",r),a=p(A);i.cgPiece=r,i.cgKey=A,y&&(i.cgAnimating=!0,a[0]+=y[2],a[1]+=y[3]),b(i,n(a,t)),e.addPieceZIndex&&(i.style.zIndex=Pe(a,t)),o.appendChild(i)}for(const t of h.values())ze(e,t);for(const t of g.values())ze(e,t)})(c),o.autoPieces&&function(e,t){qe(e.drawable.autoShapes.filter((e=>e.piece)).map((e=>({shape:e,hash:_e(e),current:!1}))),t,(t=>function(e,{shape:t,hash:n},o){var r,A,i;const s=t.orig,a=null===(r=t.piece)||void 0===r?void 0:r.role,l=null===(A=t.piece)||void 0===A?void 0:A.color,c=null===(i=t.piece)||void 0===i?void 0:i.scale,u=E("piece",`${a} ${l}`);return u.setAttribute("cgHash",n),u.cgKey=s,u.cgScale=c,w(u,v(o)(p(s),X(e)),c),u}(e,t,e.dom.bounds())))}(c,o.autoPieces),!e&&o.svg&&function(e,t,n){const o=e.drawable,r=o.current,A=r&&r.mouseSq?r:void 0,i=new Map,s=e.dom.bounds(),a=o.autoShapes.filter((e=>!e.piece));for(const e of o.shapes.concat(a).concat(A?[A]:[]))e.dest&&i.set(e.dest,(i.get(e.dest)||0)+1);const l=o.shapes.concat(a).map((e=>({shape:e,current:!1,hash:Ie(e,i,!1,s)})));A&&l.push({shape:A,current:!0,hash:Ie(A,i,!0,s)});const c=l.map((e=>e.hash)).join(";");if(c===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=c;const u=t.querySelector("defs"),p=t.querySelector("g"),h=n.querySelector("g");!function(e,t,n){const o=new Map;let r;for(const n of t)n.shape.dest&&(r=e.brushes[n.shape.brush],n.shape.modifiers&&(r=xe(r,n.shape.modifiers)),o.set(r.key,r));const A=new Set;let i=n.firstChild;for(;i;)A.add(i.getAttribute("cgKey")),i=i.nextSibling;for(const[e,t]of o.entries())A.has(e)||n.appendChild(Qe(t))}(o,l,u),qe(l.filter((e=>!e.shape.customSvg)),p,(t=>Ge(e,t,o.brushes,i,s))),qe(l.filter((e=>e.shape.customSvg)),h,(t=>Ge(e,t,o.brushes,i,s)))}(c,o.svg,o.customSvg)},l=()=>{Le(c),function(e){const t=X(e),n=v(e.dom.bounds());let o=e.dom.elements.board.firstChild;for(;o;)(je(o)&&!o.cgAnimating||Ze(o))&&b(o,n(p(o.cgKey),t)),o=o.nextSibling}(c),o.autoPieces&&function(e){var t;const n=X(e),o=v(e.dom.bounds());let r=null===(t=e.dom.elements.autoPieces)||void 0===t?void 0:t.firstChild;for(;r;)w(r,o(p(r.cgKey),n),r.cgScale),r=r.nextSibling}(c)},c=n;return c.dom={elements:o,bounds:r,redraw:et(A),redrawNow:A,unbind:t},c.drawable.prevSvgHash="",Le(c),A(!1),function(e,t){const n=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),e.viewOnly)return;const o=Je(e);n.addEventListener("touchstart",o,{passive:!1}),n.addEventListener("mousedown",o,{passive:!1}),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",(e=>e.preventDefault()))}(c,l),t||(c.dom.unbind=function(e,t){const n=[];if("ResizeObserver"in window||n.push(Fe(document.body,"chessground.resize",t)),!e.viewOnly){const t=We(e,ke,me),o=We(e,Ce,fe);for(const e of["touchmove","mousemove"])n.push(Fe(document,e,t));for(const e of["touchend","mouseup"])n.push(Fe(document,e,o));const r=()=>e.dom.bounds.clear();n.push(Fe(document,"scroll",r,{capture:!0,passive:!0})),n.push(Fe(window,"resize",r,{passive:!0}))}return()=>n.forEach((e=>e()))}(c,l)),c.events.insert&&c.events.insert(o),c}return re(n,t||{}),function(e,t){function n(){!function(e){e.orientation=d(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}(e),t()}return{set(t){t.orientation&&t.orientation!==e.orientation&&n(),oe(e,t),(t.fen?se:ae)((e=>re(e,t)),e)},state:e,getFen:()=>{return t=e.pieces,l.map((e=>s.map((n=>{const o=t.get(n+e);if(o){let e=te[o.role];return"white"===o.color&&(e=e.toUpperCase()),o.promoted&&(e+="~"),e}return"1"})).join(""))).join("/").replace(/1{2,}/g,(e=>e.length.toString()));var t},toggleOrientation:n,setPieces(t){se((e=>function(e,t){for(const[n,o]of t)o?e.pieces.set(n,o):e.pieces.delete(n)}(e,t)),e)},selectSquare(t,n){t?se((e=>O(e,t,n)),e):e.selected&&(F(e),e.dom.redraw())},move(t,n){se((e=>T(e,t,n)),e)},newPiece(t,n){se((e=>R(e,t,n)),e)},playPremove(){if(e.premovable.current){if(se(Z,e))return!0;e.dom.redraw()}return!1},playPredrop(t){if(e.predroppable.current){const n=function(e,t){const n=e.predroppable.current;let o=!1;return!!n&&(t(n)&&R(e,{role:n.role,color:e.movable.color},n.key)&&(D(e.movable.events.afterNewPiece,n.role,n.key,{premove:!1,predrop:!0}),o=!0),Q(e),o)}(e,t);return e.dom.redraw(),n}return!1},cancelPremove(){ae(G,e)},cancelPredrop(){ae(Q,e)},cancelMove(){ae((e=>{z(e),Ee(e)}),e)},stop(){ae((e=>{P(e),Ee(e)}),e)},explode(t){!function(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout((()=>{Se(e,2),setTimeout((()=>Se(e,void 0)),120)}),120)}(e,t)},setAutoShapes(t){ae((e=>e.drawable.autoShapes=t),e)},setShapes(t){ae((e=>e.drawable.shapes=t),e)},getKeyAtDomPos:t=>H(t,X(e),e.dom.bounds()),redrawAll:t,dragNewPiece(t,n,o){!function(e,t,n,o){const r="a0";e.pieces.set(r,t),e.dom.redraw();const A=k(n);e.draggable.current={orig:r,piece:t,origPos:A,pos:A,started:!0,element:()=>Ve(e,r),originTarget:n.target,newPiece:!0,force:!!o,keyHasChanged:!1},ye(e)}(e,t,n,o)},destroy(){P(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}(o(),o)}(document.getElementById("board"),{movable:{free:!1,color:void 0,events:{after:function(e,n,o){(gt.isExamining()||gt.isPlaying()&&gt.chess.turn()===gt.color)&&St.send(e+"-"+n);var r="",A=null;if(gt.isPlaying()||gt.isExamining())A=gt.chess.move({from:e,to:n,promotion:"q"}),r=gt.chess.fen();else if(gt.role===ht){var i=new(t())(gt.history.get().fen);A=i.move({from:e,to:n,promotion:"q"}),r=i.fen()}null!==A&&nn(A,r),$("#pills-game-tab").tab("show"),gt.role===ht&&$("#viewing-game-buttons").show()}}}});function en(e){var t=new Map;return e.SQUARES.forEach((function(n){var o=e.moves({square:n,verbose:!0});o.length&&t.set(n,o.map((function(e){return e.to})))})),t}function tn(e){return"w"===e.turn()?"white":"black"}function nn(e,t){t||(t=gt.chess.fen()),(gt.isPlaying()||gt.isObserving())&&gt.history.ply()<gt.history.length()&&gt.history.display(gt.history.length()),cn(e,t),_t.playPremove()}function on(e){$t(),$("#game-status").html(e+"<br/>")}function rn(e,t,n,o,r,A,i){void 0===A&&(A=!1),void 0===i&&(i=!0);var s="modal"+Kt++,a='\n  <div id="'+s+'" class="toast" data-bs-autohide="false" role="status" aria-live="polite" aria-atomic="true">\n    <div class="toast-header"><strong class="me-auto">'+e+'</strong>\n    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button></div>\n    <div class="toast-body"><div class="d-flex align-items-center">\n    <strong class="text-primary my-auto">'+t+" "+n+"</strong>";A&&(a+='<div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>'),a+='</div><div class="mt-2 pt-2 border-top center">';var l=r[0],c=o[0];i&&(l="sessionSend('"+r[0]+"');",c="sessionSend('"+o[0]+"');"),void 0!==r&&2===r.length&&(a+='<button type="button" id="btn-success" onclick="'+l+'" class="btn btn-sm btn-outline-success me-4" data-bs-dismiss="toast">\n        <span class="fa fa-check-circle-o" aria-hidden="false"></span> '+r[1]+"</button>"),void 0!==o&&2===o.length&&(a+='<button type="button" id="btn-failure" onclick="'+c+'" class="btn btn-sm btn-outline-danger" data-bs-dismiss="toast">\n        <span class="fa fa-times-circle-o" aria-hidden="false"></span> '+o[1]+"</button>"),a+="</div></div></div>",$("#game-requests").append(a),$("#"+s).toast("show")}function An(e){if(null!=e)switch(function(e){return void 0!==e.fen?3:void 0!==e.control?0:void 0!==e.player_one?4:void 0!==e.winner?5:void 0!==e.channel?1:void 0!==e.user&&void 0!==e.message?2:6}(e)){case 0:St.isConnected()||1!==e.command?2===e.command&&(St.isConnected()&&St.disconnect(),rn("Authentication Failure","",e.control,[],[])):(Zt(),zt(!1),St.setUser(e.control),qt||(qt=new it(e.control)),qt.setUser(e.control),St.send("set seek 0"),St.send("set echo 1"),St.send("set style 12"),St.send("set interface www.freechess.club"),St.send("=ch"));break;case 1:qt.newMessage(e.channel,e);break;case 2:qt.newMessage(e.user,e);break;case 3:if((gt.isExamining()||gt.isObserving())&&gt.id!==e.id){gt.isExamining()?St.send("unex"):gt.isObserving()&&St.send("unobs "+gt.id),Jt=!0;break}Object.assign(gt,e);var n=gt.bname===St.getUser();if(gt.wname,St.getUser(),null===gt.chess&&(gt.chess=new(t()),gt.wclock=gt.bclock=null,_t.cancelMove(),_t.set({orientation:n?"black":"white"}),$("#exit-subvariation").hide(),$("#player-captured").text(""),$("#opponent-captured").text(""),$("#player-status").css("background-color",""),$("#opponent-status").css("background-color",""),(gt.isPlaying()||gt.isExamining())&&(St.send("allobs "+gt.id),gt.isPlaying()?gt.watchers=setInterval((function(){("b"===gt.color?gt.btime:gt.wtime)>60&&St.send("allobs "+gt.id)}),9e4):gt.watchers=setInterval((function(){St.send("allobs "+gt.id)}),5e3)),-1===e.role||n?(gt.color="b",$("#player-name").text(gt.bname),$("#opponent-name").text(gt.wname)):(gt.color="w",$("#player-name").text(gt.wname),$("#opponent-name").text(gt.bname)),gt.history=new dt(gt.fen,_t),It.terminate(),It=new ct(gt.history),un(),(gt.role===ht||gt.isObserving()||gt.isExamining())&&(Vn()||Ht(),gt.isExamining()?($("#stop-examining").show(),St.send("games "+gt.id),gt.wname===gt.bname?gt.history.scratch(!0):(1!==ln(gt.fen)&&St.send("back 999"),St.send("for 999"))):$("#stop-observing").show(),$("#playing-game").hide(),$("#pills-game-tab").tab("show"),$("#playing-game-buttons").hide(),$("#viewing-game-buttons").show()),$t(),sn()),e.role===ht||e.role>=-2){("w"===(Y=gt).color?$("#player-time"):$("#opponent-time")).text(st(Y.wtime)),function(e){("b"===e.color?$("#player-time"):$("#opponent-time")).text(st(e.btime))}(gt);var o=null,r=ln(gt.chess.fen()),A=ln(e.fen);(gt.isPlaying()||0===e.role)&&(A>=2&&!gt.wclock?gt.wclock=function(e){return setInterval((function(){if("b"!==e.chess.turn()){e.wtime=e.wtime-1;var t="w"===e.color?$("#player-time"):$("#opponent-time");e.wtime<20&&"red"!==t.css("color")&&t.css("color","red"),e.wtime>20&&t.css("color",""),t.text(st(e.wtime))}}),1e3)}(gt):A>=3&&!gt.bclock&&(gt.bclock=function(e){return setInterval((function(){if("w"!==e.chess.turn()){e.btime=e.btime-1;var t="w"===e.color?$("#opponent-time"):$("#player-time");e.btime<20&&"red"!==t.css("color")&&t.css("color","red"),e.btime>20&&t.css("color",""),t.text(st(e.btime))}}),1e3)}(gt))),"none"!==e.move&&A===r+1&&null!==(o=gt.chess.move(e.move))&&nn(o),("none"===e.move||null===o&&gt.chess.fen()!==e.fen)&&(gt.chess.load(e.fen),cn())}break;case 4:Wt=[],Dt=void 0,gn(),$("#viewing-game-buttons").hide(),$("#game-requests").empty(),$("#playing-game").hide(),$("#playing-game-buttons").show(),$("#pills-game-tab").tab("show"),e.player_one===St.getUser()?qt.createTab(e.player_two):qt.createTab(e.player_one);break;case 5:e.reason<=4&&$("#player-name").text()===e.winner?($("#player-status").css("background-color","#d4f9d9"),$("#opponent-status").css("background-color","#f9d4d4"),Tt&&Et.play()):e.reason<=4&&$("#player-name").text()===e.loser?($("#player-status").css("background-color","#f9d4d4"),$("#opponent-status").css("background-color","#d4f9d9"),Tt&&yt.play()):($("#player-status").css("background-color","#fcddae"),$("#opponent-status").css("background-color","#fcddae")),on(e.message);var i=[];$("#player-name").text()===St.getUser()&&2!==e.reason&&7!==e.reason&&(i=["rematch","Rematch"]),rn("Match Result","",e.message,i,[]),Zt();break;case 6:default:var s=e.message,a=s.match(/(\w+) (\w+) the takeback request\./);if(null!==a&&a.length>1)return;if(null!==(a=s.match(/You (\w+) the takeback request from (\w+)\./))&&a.length>1)return;if(a=s.match(/(?:Observing|Examining)\s+(\d+) [\(\[].+[\)\]]: (.+) \(\d+ users?\)/),$("#game-watchers").empty(),null!=a&&a.length>1){if(+a[1]===gt.id){a[2]=a[2].replace(/\(U\)/g,"");for(var l=a[2].split(" "),c="",u=0,p=0;p<l.length;p++)if(l[p].replace("#","")!==St.getUser()&&(1==++u&&(c="Watchers:"),c+='<span class="ms-1 badge rounded-pill bg-secondary noselect">'+l[p]+"</span>",u>5)){c+=" + "+(l.length-p)+" more.";break}$("#game-watchers").html(c)}return}if(null!=(a=s.match(/(\w+) would like to take back (\d+) half move\(s\)\./))&&a.length>1)return void(a[1]===$("#opponent-name").text()&&rn("Takeback Request",a[1],"would like to take back "+a[2]+" half move(s).",["decline","Decline"],["accept","Accept"]));if(null!=(a=s.match(/.*\d+\s[0-9\+]+\s\w+\s+[0-9\+]+\s\w+\s+\[\s*[bsl]r.*\]\s+\d+:\d+\s\-\s+\d+:\d+\s\(\s*\d+\-\s*\d+\)\s+[BW]:\s+\d+\s*\d+ games displayed./g))&&a.length>0)return function(e){if($("#pills-observe").hasClass("show")){$("#observe-pane-status").hide();for(var t=0,n=e.split("\n").slice(0,-2).reverse();t<n.length;t++){var o=n[t].trim(),r=o.split(" ")[0];o.match(/\[\s*p/)||$("#games-table").append('<button type="button" class="w-100 btn btn-outline-secondary" onclick="observeGame(\''+r+"');\">"+o+"</button>")}}}(e.message),void(Nt?Nt=!1:qt.newMessage("console",e));if(null!=(a=s.match(/^History for (\w+):.*/m))&&a.length>1)return void(Rt?--Rt||($("#examine-username").val(a[1]),function(e,t){if($("#pills-examine").hasClass("show")&&($("#examine-pane-status").hide(),$("#history-table").html(""),0===fn("#examine-username").localeCompare(e,void 0,{sensitivity:"accent"})))for(var n=function(e){var t=e.split("\n");return t.splice(0,2),t}(t),o=n.length-1;o>=0;o--){var r=n[o].slice(0,n[o].indexOf(":"));$("#history-table").append('<button type="button" class="w-100 btn btn-outline-secondary" onclick="sessionSend(\'ex '+e+" "+ +r+"'); showGameTab();\">"+n[o]+"</button>")}}(a[1],e.message)):qt.newMessage("console",e));if((a=s.match(/^(There is no player matching the name (\w+)\.)/m))||(a=s.match(/^('(\S+(?='))' is not a valid handle\.)/m)),a||(a=s.match(/^((\w+) has no history games\.)/m)),a||(a=s.match(/^(You need to specify at least two characters of the name\.)/m)),a||(a=s.match(/^(Ambiguous name ([^s:]+):)/m)),a||(a=s.match(/^((\w+) is not logged in\.)/m)),a||(a=s.match(/^((\w+) is not playing a game\.)/m)),a||(a=s.match(/^(Sorry, game \d+ is a private game\.)/m)),a||(a=s.match(/^((\w+) is playing a game\.)/m)),a||(a=s.match(/^((\w+) is examining a game\.)/m)),a||(a=s.match(/^(You can't match yourself\.)/m)),a||(a=s.match(/^(You cannot challenge while you are (?:examining|playing) a game\.)/m)),null!=a){if(Rt||xt||Dt){var h,g="";if(Rt?(g=fn("#examine-username"),h=$("#examine-pane-status")):xt?(g=fn("#observe-username"),h=$("#observe-pane-status")):Dt&&(g=fn("#opponent-player-name"),h=$("#play-pane-status")),a.length>=2){if(Rt){if(--Rt)return;$("#history-table").html("")}else if(xt&&--xt)return;return h.show(),a[1].startsWith("Ambiguous name")?h.text("There is no player matching the name "+g+"."):h.text(a[1]),void(Dt=void 0)}}return void qt.newMessage("console",e)}if(a=s.match(/^You are now observing game \d+\./m))return xt&&(xt--,$("#observe-pane-status").hide(),$("#pills-game-tab").tab("show")),void qt.newMessage("console",e);if((a=s.match(/^Your seek has been posted with index \d+\./m))||(a=s.match(/^Issuing: \w+ \([-\d]+\) \w+ \([-\d]+\)/m)),a||(a=s.match(/^Updating offer already made to "\w+"\./m)),a){if(Dt){var d=!1;for(p=Wt.length-1;p>=0;p--)0===Wt[p].opponent.localeCompare(Dt.opponent,void 0,{sensitivity:"accent"})&&(Wt[p].min===Dt.min&&Wt[p].sec===Dt.sec?d=!0:""!=Dt.opponent&&Wt.splice(p,1));if(!d){Wt.push(Dt),$("#game-requests").empty();for(var m="",f=0,v=Wt;f<v.length;f++){var b=v[f];b.opponent.length?0===b.min&&0===b.sec?m+="Challenging "+b.opponent+" to an untimed game...<br>":m+="Challenging "+b.opponent+" to a "+b.min+" "+b.sec+" game...<br>":0===b.min&&0===b.sec?m+="Seeking an untimed game...<br>":m+="Seeking a "+b.min+" "+b.sec+" game...<br>"}rn("Game Request","",m,["cancelMatchRequests();","Cancel"],[],!0,!1)}Dt=void 0,$("#play-pane-status").hide()}return void qt.newMessage("console",e)}if((a=s.match(/\d+\s+\(\s*Exam\.\s+(\d+)\s+(\w+)\s+(\d+)\s+(\w+)\s*\)\s+\[\s*p?(\w)(\w)\s+(\d+)\s+(\d+)\s*\]/))&&a.length>8){var w=gt.wrating=a[1],y=a[2],k=gt.brating=a[3],C=a[4],E=a[5],M="r"===a[6]?"rated":"unrated",V=a[7],S=a[8],q=new Map([["b","blitz"],["l","lightning"],["u","untimed"],["e","examined"],["s","standard"],["w","wild"],["x","atomic"],["z","crazyhouse"],["B","Bughouse"],["L","losers"],["S","Suicide"],["n","nonstandard"]]);"0"===w&&(w=""),"0"===k&&(k=""),$("#player-rating").text(C===St.getUser()?k:w),$("#opponent-rating").text(C===St.getUser()?w:k),""===w&&(w=(a=y.match(/Guest[A-Z]{4}/))?"++++":"----"),""===k&&(k=(a=C.match(/Guest[A-Z]{4}/))?"++++":"----");var B=" "+V+" "+S;return"u"===E&&(B=""),void on(y+" ("+w+") "+C+" ("+k+") "+M+" "+q.get(E)+B)}if(null!=(a=s.match(/^Movelist for game (\d+):.*/m))&&a.length>1)return void(+a[1]===gt.id&&(0===Ut?qt.newMessage("console",e):0==--Ut&&function(e){var n=[""],o=1,r=t()();for(gt.history.reset(r.fen());null!==n;)if(null!==(n=e.match(new RegExp(o+"\\.\\s*(\\S*)\\s*(?:\\(\\d+:\\d+\\))\\s*(?:(\\S*)\\s*(?:\\(\\d+:\\d+\\)))?.*","m")))&&n.length>1){var A=n[1].trim();if(gt.history.add(r.move(A),r.fen()),n.length>2&&n[2]){var i=n[2].trim();gt.history.add(r.move(i),r.fen())}o++,e+=e[n.index]}gt.isExamining()?St.send("back 999"):gt.history.display()}(s)));if(null!=(a=s.match(/Game\s\d+: \w+ backs up (\d+) moves?\./))&&a.length>1)return;if(null!=(a=s.match(/Game\s\d+: \w+ goes forward (\d+) moves?\./))&&a.length>1)return;if(null!=(a=s.match(/(Creating|Game\s(\d+)): (\w+) \(([\d\+\-\s]+)\) (\w+) \(([\d\-\+\s]+)\).+/))&&a.length>4)return gt.wrating=a[4],gt.brating=a[6],on(a[0].substring(a[0].indexOf(":")+1)),void(a[3]===St.getUser()||a[1].startsWith("Game")?(0===gt.id&&(gt.id=+a[2]),isNaN(a[4])?$("#player-rating").text(""):$("#player-rating").text(a[4]),isNaN(a[6])?$("#opponent-rating").text(""):$("#opponent-rating").text(a[6])):a[5]===St.getUser()&&(isNaN(a[4])?$("#opponent-rating").text(""):$("#opponent-rating").text(a[4]),isNaN(a[6])?$("#player-rating").text(""):$("#player-rating").text(a[6])));if(null!=(a=s.match(/Challenge: (\w+) \(([\d\+\-\s]{4})\) (\[(?:white|black)\] )?(\w+) \(([\d\+\-\s]{4})\)\s((?:.+))You can "accept" or "decline", or propose different parameters./ms))&&a.length>4){var I=a[1]===St.getUser()?a.slice(4,6):a.slice(1,3);return void rn("Match Request",I[0]+"("+I[1]+")"+(a[3]?" "+a[3]:""),a[6],["decline","Decline"],["accept","Accept"])}if(null!=(a=s.match(/(\w+) would like to abort the game; type "abort" to accept./))&&a.length>1)return void(a[1]===$("#opponent-name").text()&&rn("Abort Request",a[1],"would like to abort the game.",["decline","Decline"],["accept","Accept"]));if(null!=(a=s.match(/(\w+) offers you a draw./))&&a.length>1)return void(a[1]===$("#opponent-name").text()&&rn("Draw Request",a[1],"offers you a draw.",["decline","Decline"],["accept","Accept"]));if(null!=(a=s.match(/Removing game (\d+) from observation list./))&&a.length>1)return Jt&&St.send("refresh"),hn(),void Zt();if(null!=(a=s.match(/You are no longer examining game (\d+)./))&&a.length>1)return Jt&&St.send("refresh"),hn(),void Zt();if(null!=(a=s.match(/^Notification: .*/m))&&a.length>0)return void qt.newNotification(a[0]);if(null!=(a=s.match(/^\w+ is not logged in./m))&&a.length>0)return void qt.newNotification(a[0]);if(null!=(a=s.match(/^Player [a-zA-Z\"]+ is censoring you./m))&&a.length>0)return void qt.newNotification(a[0]);if(null!==(a=s.match(/-- channel list: \d+ channels --([\d\s]*)/))&&a.length>1)return qt.addChannels(a[1].split(/\s+/));if(Ot)return a=s.match(/.*\<(s|sc|sr)\>.*/g),void function(e){for(var t=0,n=e.split("\n");t<n.length;t++){var o=n[t].trim();if(o.startsWith("<sc>"))$("#lobby-table").html("");else if(o.startsWith("<s>")){var r=o.split(" ").slice(1),A=r.slice(1).map((function(e){return e.split("=")[1]})).slice(0,-3);A[0]=A[0]+In[+A[1]],"0P"!==A[2]&&(A[0]=A[0]+"("+A[2]+")"),A.splice(1,2),Bn.set(r[0],A.join(" "))}else if(o.startsWith("<sr>"))for(var i=0,s=o.split(" ").slice(1);i<s.length;i++){var a=s[i];Bn.delete(a)}$("#lobby-table").html(""),Bn.forEach((function(e,t){$("#lobby-table").append('<button type="button" class="btn btn-outline-secondary" onclick="sessionSend(\'play '+ +t+"'); showGameTab();\">"+e+"</button>")}))}}(e.message);if("You are muted."===s)return void qt.newNotification(s);if("Style 12 set."===s||"You will not see seek ads."===s||"You will now hear communications echoed."===s||"seekinfo unset."===s||"seekremove unset."===s||s.startsWith("No one is observing game "))return;qt.newMessage("console",e)}var Y}function sn(){Vn()&&$(document).scrollTop($("#left-panel-footer").offset().top)}function an(){Vn()&&$(document).scrollTop($("#left-panel-header").offset().top)}function ln(e){var t=e.split(/\s+/)[1];return 2*+e.split(/\s+/).pop()-("w"===t?1:0)}function cn(e,t){t||(t=gt.chess.fen());var n=gt.history.find(t);if(e&&!n){var o=!1;(gt.role===ht||gt.isExamining())&&(0===gt.history.length()&&gt.history.scratch(!0),(o=!gt.history.scratch())&&$("#exit-subvariation").show()),gt.history.add(e,t,o),$("#playing-game").hide()}else{if(ln(t)-1>gt.history.length()&&(Ut++,St.send("moves "+gt.id)),n===gt.history.index())return;if(gt.isPlaying()||gt.isObserving())for(;n<gt.history.length();)gt.history.removeLast()}gt.history.display(n,void 0!==e),jt&&!gt.history.get(n).subvariation&&(gt.history.removeSubvariation(),$("#exit-subvariation").hide(),jt=!1)}function un(e){void 0===e&&(e=!1);var n=gt.history.get().move,o=gt.history.get().fen;e?(_t.move(n.from,n.to),"n"!==n.flags&&_t.set({fen:o})):_t.set({fen:o});var r,A,i,s,a=new(t())(o);n?(_t.set({animation:{enabled:!1}}),_t.move(n.to,n.from),_t.move(n.from,n.to),_t.set({animation:{enabled:!0}})):_t.set({lastMove:!1}),gt.isObserving()?i=tn(gt.chess):gt.isPlaying()?(A="w"===gt.color?"white":"black",r=en(gt.chess),i=tn(gt.chess)):(gt.isExamining(),A=tn(a),r=en(a),i=tn(a)),s={color:A,dests:r},_t.set({turnColor:i,movable:s,check:a.in_check(),blockTouchScroll:!!gt.isPlaying()}),function(e){for(var t={P:0,R:0,B:0,N:0,Q:0,K:0},n=e.split(/\s+/)[0],o=0;o<n.length;o++)t.hasOwnProperty(n[o].toUpperCase())&&(t[n[o].toUpperCase()]=t[n[o].toUpperCase()]+(n[o]===n[o].toUpperCase()?1:-1));for(var r in $("#player-captured").empty(),$("#opponent-captured").empty(),t)if(0!==t[r]){var A="",i=0,s=void 0;t[r]>0?(A="b"+r,i=t[r],s="w"===gt.color?$("#player-captured"):$("#opponent-captured")):t[r]<0&&(A="w"+r,i=-t[r],s="b"===gt.color?$("#player-captured"):$("#opponent-captured")),s.append('<img id="'+A+'" src="www/css/images/pieces/merida/'+A+'.svg"/><small>'+i+"</small>")}}(o),e&&Tt&&(clearTimeout(Qt),Qt=setTimeout((function(){var e=gt.history.get();new(t())(e.fen).in_check()?(wt.pause(),wt.currentTime=0,wt.play()):e.move.captured?(Ct.pause(),Ct.currentTime=0,Ct.play()):(kt.pause(),kt.currentTime=0,kt.play())}),50)),null!=Bt&&(hn(),pn()),It.evaluate()}function pn(){$("#start-engine").text("Stop"),$("#engine-pvs").empty();for(var e=0;e<Ft;e++)$("#engine-pvs").append("<li>&nbsp;</li>");Bt=new ut(_t,Ft),0==Ut?Bt.move(gt.history.get().fen):Bt.move(gt.fen)}function hn(){$("#start-engine").text("Go"),Bt&&(Bt.terminate(),Bt=null,_t.setAutoShapes([]))}function gn(){$("#hide-analysis").hide(),$("#analyze").show(),hn(),_t.setAutoShapes([]),dn($("#engine-tab")),dn($("#eval-graph-tab")),$("#left-panel-bottom").hide(),kn()}function dn(e){$("#status-tab").tab("show"),e.hide(),1===$("#left-bottom-tabs li:visible").length&&$("#left-bottom-tabs").css("visibility","hidden")}function mn(e){e.show(),$("#left-bottom-tabs").css("visibility","visible")}function fn(e){return $(e).val()}function vn(){zt(!0),gt.role=ht,gt.history=new dt((new(t())).fen(),_t);var e=A.get("user"),n=A.get("pass");St=void 0!==e&&void 0!==n?new bt(An,e,atob(n)):new bt(An),$("#opponent-time").text("00:00"),$("#player-time").text("00:00"),Lt=$(window).innerWidth(),Vn()?(wn(),$("#collapse-chat").collapse("hide"),$("#collapse-history").collapse("hide")):($("#pills-play-tab").tab("show"),$("#collapse-history").removeClass("collapse-init"),$("#collapse-chat").removeClass("collapse-init"),$("#chat-toggle-btn").toggleClass("toggle-btn-selected")),kn(),bn($("#opponent-player-name")),bn($("#custom-control-min")),bn($("#custom-control-sec")),bn($("#observe-username")),bn($("#examine-username")),It=new ct(gt.history),un()}function bn(e){$(e).on("focus",(function(e){$(this).one("mouseup",(function(){return $(this).trigger("select"),!1})).trigger("select")}))}function wn(){yn(),$("#chat-maximize-btn").hide(),$("#stop-observing").appendTo($("#viewing-game-buttons").last()),$("#stop-examining").appendTo($("#viewing-game-buttons").last()),Pt()}function yn(){var e=$("#left-panel-header").children();$("#right-panel-header").children().appendTo($("#left-panel-header")),e.appendTo($("#right-panel-header"));var t=$("#left-panel-header").attr("class"),n=$("#right-panel-header").attr("class");$("#left-panel-header").attr("class",n),$("#right-panel-header").attr("class",t),Vn()?($("#chat-toggle-btn").appendTo($("#chat-collapse-toolbar").last()),$("#history-toggle-btn").appendTo($("#left-panel-header .btn-toolbar").last())):($("#chat-toggle-btn").appendTo($("#right-panel-header .btn-toolbar").last()),$("#history-toggle-btn").appendTo($("#navigation-toolbar").last()))}function kn(){Vn()&&void 0===Gt&&(Gt=$(window).height()-window.innerHeight);var e=$("#left-panel-header").height();if(Vn()){var t=$("#mid-card").outerHeight()-$("#mid-card").height()+Math.round(parseFloat($("#left-card").css("border-bottom-width")))+Math.round(parseFloat($("#right-card").css("border-top-width"))),n=$("#player-status").outerHeight()-$("#player-status").height(),o=($(window).height()-Gt-$("#board-card").outerHeight()-$("#left-panel-footer").outerHeight()-$("#right-panel-header").outerHeight()-t)/2-n;o=Math.min(Math.max(o,e-20),e)}else o=e;$("#player-status").height(o),$("#opponent-status").height(o);var r=$("#board").innerHeight();if(r){var A=0;$("#collapse-history").siblings().each((function(){$(this).is(":visible")&&(A+=$(this).outerHeight())}));var i=$("#left-panel").outerHeight()-$("#left-panel").height();Vn()?$("#left-panel").height(430):$("#left-panel").height(r-i-A),A=0,$("#collapse-chat").siblings().each((function(){$(this).is(":visible")&&(A+=$(this).outerHeight())}));var s=$("#right-panel").outerHeight()-$("#right-panel").height();Vn()?$("#right-panel").height($(window).height()-Gt-s-A-$("#right-panel-header").outerHeight()-$("#right-panel-footer").outerHeight()):$("#right-panel").height(r-s-A)}}function Cn(e,t){var n=fn("#opponent-player-name");n=n.trim().split(/\s+/)[0],$("#opponent-player-name").val(n),Dt={opponent:n,min:e,sec:t};var o=""!==n?"match "+n:"seek";St.send(o+" "+e+" "+t)}function En(){gt.history&&(gt.isExamining()?St.send("back"):gt.history.backward()),$("#pills-game-tab").tab("show")}function Mn(){if(gt.history)if(gt.isExamining()){var e=gt.history.next();if(void 0!==e){var t=gt.history.get(e);t.subvariation||gt.history.scratch()?St.send(t.move.from+t.move.to):St.send("for")}}else gt.history.forward();$("#pills-game-tab").tab("show")}function Vn(){return window.innerWidth<768}function Sn(e){St&&St.isConnected()&&(0===(e=e.trim().split(/\s+/)[0]).length&&(e=St.getUser()),$("#examine-username").val(e),Rt++,St.send("hist "+e))}function qn(e){if(gt.isPlaying())return $("#observe-pane-status").text("You're already playing a game."),$("#observe-pane-status").show(),!1;e||(e=(e=fn("#observe-username")).trim().split(/\s+/)[0],$("#observe-username").val(e)),e.length>0&&(xt++,St.send("obs "+e))}$("#engine-tab .closeTab").on("click",(function(e){gn()})),$("#eval-graph-tab .closeTab").on("click",(function(e){gn()})),$("#collapse-history").on("hidden.bs.collapse",(function(e){$("#history-toggle-icon").removeClass("fa-toggle-up").addClass("fa-toggle-down"),$("#pills-tab button").each((function(){$(this).removeClass("active")})),$("#collapse-history").removeClass("collapse-init")})),$("#collapse-history").on("shown.bs.collapse",(function(e){$("#history-toggle-icon").removeClass("fa-toggle-down").addClass("fa-toggle-up");var t=$("#left-menu > .tab-content > .tab-pane").index($("#left-menu > .tab-content > .tab-pane:visible"));$("#pills-tab button").eq(t).addClass("active"),an()})),$("#pills-tab button").on("click",(function(e){$("#collapse-history").collapse("show"),an()})),$("#flip-toggle").on("click",(function(e){_t.toggleOrientation();var t=$("#player-name").html(),n=$("#player-rating").html(),o=$("#player-captured").html(),r=$("#player-time").html(),A=($("#player-status").html(),$("#opponent-name").html()),i=$("#opponent-rating").html(),s=$("#opponent-captured").html(),a=$("#opponent-time").html();$("#opponent-status").html(),$("#player-name").html(A),$("#player-rating").html(i),$("#player-captured").html(s),$("#player-time").html(a),$("#opponent-name").html(t),$("#opponent-rating").html(n),$("#opponent-captured").html(o),$("#opponent-time").html(r),$("#player-name").prop("id","tmp-player-name"),$("#player-rating").prop("id","tmp-player-rating"),$("#player-captured").prop("id","tmp-player-captured"),$("#player-time").prop("id","tmp-player-time"),$("#player-status").prop("id","tmp-player-status"),$("#opponent-name").prop("id","player-name"),$("#opponent-rating").prop("id","player-rating"),$("#opponent-captured").prop("id","player-captured"),$("#opponent-time").prop("id","player-time"),$("#opponent-status").prop("id","player-status"),$("#tmp-player-name").prop("id","opponent-name"),$("#tmp-player-rating").prop("id","opponent-rating"),$("#tmp-player-captured").prop("id","opponent-captured"),$("#tmp-player-time").prop("id","opponent-time"),$("#tmp-player-status").prop("id","opponent-status")})),window.sessionSend=function(e){St.send(e)},$("#input-form").on("submit",(function(e){var t;e.preventDefault();var n=fn("#input-text");if(""!==(n=(n=n.replace(/[â€œâ€˜â€]/g,"'")).replace(/[^ -~]+/g,"#"))&&"\n"!==n){var o=qt.currentTab(),r=(t="console"!==o?"@"!==n.charAt(0)?o.startsWith("game-")?"kib "+n:"t "+o+" "+n:n.substr(1):"@"!==n.charAt(0)?n:n.substr(1)).split(" ");r.length>2&&("t"===r[0]||r[0].startsWith("te"))&&!/^\d+$/.test(r[1])&&qt.newMessage(r[1],{type:2,user:St.getUser(),message:r.slice(2).join(" ")}),St.send(t),$("#input-text").val("")}})),$(document).ready((function(){void 0!==window.cordova?document.addEventListener("deviceready",vn,!1):vn()})),$(window).on("load",(function(){$("#left-panel-header").css("visibility","visible"),$("#right-panel-header").css("visibility","visible")})),$("#resign").on("click",(function(e){null!==gt.chess?St.send("resign"):on("You are not playing a game.")})),$("#abort").on("click",(function(e){null!==gt.chess?St.send("abort"):on("You are not playing a game.")})),$("#takeback").on("click",(function(e){null!==gt.chess?gt.chess.turn()===gt.color?St.send("take 2"):St.send("take 1"):on("You are not playing a game.")})),$("#draw").on("click",(function(e){null!==gt.chess?St.send("draw"):on("You are not playing a game.")})),$("#analyze").on("click",(function(e){!function(){$t(),$("#analyze").hide(),$("#hide-analysis").show(),mn($("#engine-tab")),mn($("#eval-graph-tab")),$("#eval-graph-tab").find(".nav-link").tab("show"),$("#engine-pvs").empty();for(var e=0;e<Ft;e++)$("#engine-pvs").append("<li>&nbsp;</li>");$("#engine-pvs").css("white-space",1===Ft?"normal":"nowrap"),Vn()&&$(document).scrollTop($("#left-panel-bottom").offset().top),It.evaluate()}()})),$("#hide-analysis").on("click",(function(e){gn()})),$("#start-engine").on("click",(function(e){Bt?hn():pn()})),$("#add-pv").on("click",(function(e){Ft++,$("#engine-pvs").css("white-space",1===Ft?"normal":"nowrap"),$("#engine-pvs").append("<li>&nbsp;</li>"),Bt&&(hn(),pn())})),$("#remove-pv").on("click",(function(e){1!=Ft&&(Ft--,$("#engine-pvs").css("white-space",1===Ft?"normal":"nowrap"),$("#engine-pvs li").last().remove(),Bt&&Bt.setNumPVs(Ft))})),window.getGame=Cn,window.cancelMatchRequests=function(){St.send("unseek"),St.send("withdraw t all"),Wt=[],Dt=void 0},$("#input-text").on("focus",(function(){$("#board").on("touchstart",(function(){$("#input-text").trigger("blur"),$("#board").off("touchstart")}))})),$("#new-game").on("click",(function(e){null===gt.chess&&St.send("getga")})),$("#stop-observing").on("click",(function(e){St.send("unobs")})),$("#stop-examining").on("click",(function(e){St.send("unex")})),$("#custom-control").on("submit",(function(e){return e.preventDefault(),$("#custom-control-go").trigger("focus"),Cn(+fn("#custom-control-min"),+fn("#custom-control-sec")),!1})),$("#fast-backward").off("click"),$("#fast-backward").on("click",(function(){gt.isExamining()?St.send("back 999"):gt.history&&gt.history.beginning(),$("#pills-game-tab").tab("show")})),$("#backward").off("click"),$("#backward").on("click",(function(){En()})),$("#forward").off("click"),$("#forward").on("click",(function(){Mn()})),$("#fast-forward").off("click"),$("#fast-forward").on("click",(function(){if(gt.isExamining())if(gt.history.scratch())for(;gt.history.next();)Mn();else gt.history.get().subvariation&&St.send("back 999"),St.send("for 999");else gt.history&&gt.history.end();$("#pills-game-tab").tab("show")})),$("#exit-subvariation").off("click"),$("#exit-subvariation").on("click",(function(){if(gt.isExamining()){for(var e=gt.history.index(),t=gt.history.get(e),n=0;t.subvariation;)n++,e=gt.history.prev(e),t=gt.history.get(e);n>0?(St.send("back "+n),jt=!0):(gt.history.removeSubvariation(),$("#exit-subvariation").hide())}else gt.history.removeSubvariation(),$("#exit-subvariation").hide();$("#pills-game-tab").tab("show")})),$(document).on("keydown",(function(e){$(e.target).closest("input")[0]||("ArrowLeft"===e.key?En():"ArrowRight"===e.key&&Mn())})),Tt||$("#sound-toggle").html('<span id="sound-toggle-icon" class="dropdown-icon fa fa-volume-off" aria-hidden="false"></span>Sounds OFF'),$("#sound-toggle").on("click",(function(e){var t="dropdown-icon fa fa-volume-"+((Tt=!Tt)?"up":"off");$("#sound-toggle").html('<span id="sound-toggle-icon" class="'+t+'" aria-hidden="false"></span>Sounds '+(Tt?"ON":"OFF")),A.set("sound",String(Tt),{expires:365})})),$("#disconnect").on("click",(function(e){St&&(St.disconnect(),St=null)})),$("#login-user").on("change",(function(){return $("#login-user").removeClass("is-invalid")})),$("#login-form").on("submit",(function(e){var t=fn("#login-user");if(St&&t===St.getUser())return $("#login-user").addClass("is-invalid"),e.preventDefault(),e.stopPropagation(),!1;var n=fn("#login-pass");return St&&St.disconnect(),St=new bt(An,t,n),$("#remember-me").prop("checked")?(A.set("user",t,{expires:365}),A.set("pass",btoa(n),{expires:365})):(A.remove("user"),A.remove("pass")),$("#login-screen").modal("hide"),e.stopPropagation(),e.preventDefault(),!1})),$("#login-screen").on("show.bs.modal",(function(e){var t=A.get("user");void 0!==t&&$("#login-user").val(t);var n=A.get("pass");void 0!==n&&($("#login-pass").val(atob(n)),$("#remember-me").prop("checked",!0))})),$("#sign-in").on("click",(function(e){$("#login-screen").modal("show")})),$("#connect-user").on("click",(function(e){$("#login-screen").modal("show")})),$("#connect-guest").on("click",(function(e){St&&St.disconnect(),St=new bt(An)})),$("#login-as-guest").on("click",(function(e){$("#login-as-guest").is(":checked")?($("#login-user").val("guest"),$("#login-user").prop("disabled",!0),$("#login-pass").val(""),$("#login-pass").prop("disabled",!0)):($("#login-user").val(""),$("#login-user").prop("disabled",!1),$("#login-pass").val(""),$("#login-pass").prop("disabled",!1))})),$(window).on("resize",(function(){Vn()&&Lt>=768?wn():!Vn()&&Lt<768&&(yn(),$("#chat-maximize-btn").show(),$("#stop-observing").appendTo($("#close-game-panel").last()),$("#stop-examining").appendTo($("#close-game-panel").last()),(gt.isObserving()||gt.isExamining())&&Ht()),Lt=window.innerWidth,kn(),It&&It.redraw()})),$(window).on("beforeunload",(function(){if(gt.chess)return!0})),window.showGameTab=function(){$("#pills-game-tab").tab("show")},$(document).on("shown.bs.tab",'button[data-bs-target="#pills-examine"]',(function(e){Rt=0,$("#history-table").html("");var t=fn("#examine-username");void 0!==t&&""!==t||St&&(t=St.getUser(),$("#examine-username").val(t)),Sn(t)})),$("#examine-user").on("submit",(function(e){return e.preventDefault(),$("#examine-go").trigger("focus"),Sn(fn("#examine-username")),!1})),$("#observe-user").on("submit",(function(e){return e.preventDefault(),$("#observe-go").trigger("focus"),qn(),!1})),window.observeGame=function(e){qn(e)},$(document).on("shown.bs.tab",'button[data-bs-target="#pills-observe"]',(function(e){xt=0,$("#games-table").html(""),St&&St.isConnected()&&(Nt=!0,St.send("games /bsl"))})),$("#puzzlebot").on("click",(function(e){St.send("t puzzlebot getmate"),$("#pills-game-tab").tab("show")})),$(document).on("shown.bs.tab",'button[href="#eval-graph-panel"]',(function(e){It.redraw()})),$(document).on("shown.bs.tab",'button[data-bs-target="#pills-lobby"]',(function(e){$("#lobby-table").html(""),St&&St.isConnected()&&(Ot=!0,St.send("iset seekremove 1"),St.send("iset seekinfo 1"))})),$(document).on("hidden.bs.tab",'button[data-bs-target="#pills-play"]',(function(e){Ot&&($("#lobby-table").html(""),St.send("iset seekremove 0"),St.send("iset seekinfo 0"),Ot=!1)})),$(document).on("hidden.bs.tab",'button[data-bs-target="#pills-lobby"]',(function(e){$("#lobby-table").html(""),St&&St.isConnected()&&(St.send("iset seekremove 0"),St.send("iset seekinfo 0"),Ot=!1)}));var Bn=new Map,In={0:"",1:"(U)",2:"(C)",4:"(GM)",8:"(IM)",16:"(FM)",32:"(WGM)",64:"(WIM)",128:"(WFM)"}})()})();