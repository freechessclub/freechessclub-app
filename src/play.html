<!DOCTYPE html>
<html lang="en">
<head>
  <title>Free Chess Club: Play Online Chess on the Free Internet Chess Server</title>
  <meta charset="utf-8">
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="description" content="Free Chess Club. Play chess on the Free Internet Chess Server (FICS) using a modern web-based client. No downloads, no hassles—maximum chess guaranteed!" >
  <meta property="og:title" content="Free Chess Club: Play Online Chess on the Free Internet Chess Server"/>
  <meta property="og:description" content="Free Chess Club. Play chess on the Free Internet Chess Server (FICS) using a modern web-based client. No downloads, no hassles—maximum chess guaranteed!"/>
  <meta property="og:url" content="http://www.freechess.club"/>
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="freechess.club"/>
  <meta property="og:image" content="https://www.freechess.club/assets/img/tfcc.png"/>
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:title" content="Free Chess Club: Play Online Chess on the Free Internet Chess Server"/>
  <meta name="twitter:description" content="Free Chess Club. Play chess on the Free Internet Chess Server (FICS) using a modern web-based client. No downloads, no hassles—maximum chess guaranteed!"/>
  <meta name="twitter:site" content="@freechessclub"/>
  <meta name="twitter:image" content="https://www.freechess.club/assets/img/tfcc.png"/>
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
  <link href="assets/css/chessground.css" rel="stylesheet">
  <link href="assets/css/pieces/default.css" rel="stylesheet" id="piece">
  <link href="assets/css/main.css" rel="stylesheet">
  <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Math&family=Noto+Sans+Symbols+2&display=swap" rel="stylesheet">
</head>
<body>
  <div class="status-shim"></div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
    <symbol id="icon-info" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
      <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
      <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
    </symbol>
  </svg>
  <div id="sign-in-alert" class="banner-alert fade" role="alert">Signing in...</div>
  <div id="notifications" style="z-index: 2000; position: fixed; top: env(safe-area-inset-top); right: 0; width: 100%">
    <div class="toast notification-panel" data-bs-animation="false" data-bs-autohide="false" role="status" aria-live="polite" aria-atomic="true" id="notifications-header">
      <div class="toast-body position-relative d-flex">
        <span class="mx-auto">Notifications</span>
        <button type="button" class="btn-close" style="background: transparent; position: absolute; right: 6px; top: 50%; transform: translateY(-50%);" aria-label="Hide">
          <span id="notifications-close-icon" class="fa-solid fa-chevron-down" aria-hidden="false"></span>
        </button>
      </div>
    </div>
    <div class="toast notification-panel" data-bs-animation="false" data-bs-autohide="false" role="status" aria-live="polite" aria-atomic="true" id="notifications-footer">
      <div class="toast-body">
        <div class="d-flex">
          <a class="me-auto" id="notifications-clear-all" style="cursor: pointer; text-decoration: none; font-style: italic">Clear all</a>
          <a class="ms-auto" id="notifications-show-all" style="cursor: pointer; text-decoration: none; font-style: italic">Show all >></a>
        </div>
      </div>
    </div>
  </div>
  <div class="feature3 p-0 position-relative">
    <div class="row m-0" id="main-row">
      <div class="card-group p-0">
        <div id="left-col" class="main-col col-sm-12 col-md-3 col-lg-3 col-xl-3" style="min-width: 340px">
          <div class="card bg-transparent" id="left-card">
            <div class="card-header top-panel d-flex" id="left-panel-header" style="visibility: hidden">
              <div id="navigation-toolbar" class="btn-toolbar m-auto">
                <button type="button" id="fast-backward" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" data-fallback-placements="left,right" title="Beginning">
                  <span class="fa fa-fast-backward" aria-hidden="false"></span>
                </button>
                <button type="button" id="backward" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" data-fallback-placements="left,right" title="Back">
                  <span class="fa fa-backward" aria-hidden="false"></span>
                </button>
                <button type="button" id="forward" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" data-fallback-placements="right,left" title="Forward">
                  <span class="fa fa-forward" aria-hidden="false"></span>
                </button>
                <button type="button" id="fast-forward" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" data-fallback-placements="right,left" title="End">
                  <span class="fa fa-fast-forward" aria-hidden="false"></span>
                </button>
                <button type="button" id="exit-subvariation" style="display: none" class="btn btn-outline-secondary btn-md position-relative" aria-label="Exit Subvariation">
                  <div class="tooltip-overlay" style="pointer-events: auto" data-bs-toggle="tooltip" data-bs-placement="top" data-fallback-placements="right,left" title="Exit Subvariation"></div>
                  <span class="fa fa-eject" aria-hidden="false"></span>
                </button>
              </div>
              <div id="chat-collapse-toolbar" class="btn-toolbar d-md-none my-auto align-self-end">
              </div>
            </div>
            <div id="inner-left-panels">
              <div id="left-panel-setup-board" class="card-header top-panel center" style="display: none">
                <div class="btn-toolbar center w-100">
                  <button type="button" id="setup-done" class="btn btn-outline-success btn-md" title="Setup Done"><span class="fa fa-check-circle me-2" aria-hidden="false"></span>Setup Done</button>
                  <button type="button" id="cancel-setup" class="btn btn-outline-secondary btn-md" title="Cancel Setup"><span class="fa fa-times-circle me-2" aria-hidden="false"></span>Cancel Setup</button>
                </div>
              </div>
              <div id="left-panel-header-2" class="card-header top-panel center" style="display: none">
                <button type="button" id="stop-observing" style="display: none" class="btn btn-outline-secondary btn-md" title="Stop Observing"><span class="fa fa-times-circle me-2" aria-hidden="false"></span>Stop Observing</button>
                <button type="button" id="stop-examining" style="display: none" class="btn btn-outline-secondary btn-md" title="Stop Examining"><span class="fa fa-times-circle me-2" aria-hidden="false"></span>Stop Examining</button>
              </div>
              <div class="card-body p-0">
                <ul class="nav nav-pills nav-fill user-select-none" id="pills-tab" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button class="nav-link py-2" id="pills-play-tab" data-bs-toggle="pill" data-bs-target="#pills-play" type="button" role="tab" aria-controls="pills-play" aria-selected="true">Play</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link py-2" id="pills-observe-tab" data-bs-toggle="pill" data-bs-target="#pills-observe" type="button" role="tab" aria-controls="pills-observe" aria-selected="false">Observe</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link py-2" id="pills-history-tab" data-bs-toggle="pill" data-bs-target="#pills-history" type="button" role="tab" aria-controls="pills-history" aria-selected="false">History</button>
                  </li>
                  <li class="nav-item active" role="presentation">
                    <button class="nav-link py-2" id="pills-game-tab" data-bs-toggle="pill" data-bs-target="#pills-game" type="button" role="tab" aria-controls="pills-game" aria-selected="false">Game</button>
                  </li>
                  <li class="nav-item d-none" role="presentation" aria-hidden="true">
                    <button class="nav-link active" id="pills-placeholder-tab" type="button" role="tab"></button>
                  </li>
                </ul>
              </div>
              <div id="collapse-menus" class="collapse show collapse-init">
                <div class="card-body noselect p-0" id="left-panel">
                  <div class="h-100 d-flex flex-column" id="left-menu">
                    <div class="tab-content flex-grow-1" style="overflow: hidden; min-height: 0">
                      <div class="tab-pane pt-2 fade h-100" id="pills-play" role="tabpanel" aria-labelledby="pills-play-tab">
                        <div class="d-flex flex-column h-100">
                          <div class="modal fade" id="play-computer-modal" tabindex="-1" aria-labelledby="play-computer-modal-label" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <form id="play-computer-form">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="play-computer-modal-label"><span class="fa-solid fa-desktop me-2" aria-hidden="false"></span>Play Computer</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="mb-3" id="difficulty-selector">
                                      <label class="form-heading">Difficulty Level:</label>
                                      <div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level1" checked>
                                          <label class="form-check-label" for="play-computer-level1">1</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level2">
                                          <label class="form-check-label" for="play-computer-level2">2</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level3">
                                          <label class="form-check-label" for="play-computer-level3">3</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level4">
                                          <label class="form-check-label" for="play-computer-level4">4</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level5">
                                          <label class="form-check-label" for="play-computer-level5">5</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level6">
                                          <label class="form-check-label" for="play-computer-level6">6</label>
                                        </div>
                                      </div>
                                      <div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level7">
                                          <label class="form-check-label" for="play-computer-level7">7</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level8">
                                          <label class="form-check-label" for="play-computer-level8">8</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level9">
                                          <label class="form-check-label" for="play-computer-level9">9</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level10">
                                          <label class="form-check-label" for="play-computer-level10">10</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level11">
                                          <label class="form-check-label" for="play-computer-level11">11</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-level" id="play-computer-level12">
                                          <label class="form-check-label" for="play-computer-level12">12</label>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="mb-3">
                                      <label class="form-heading">Player Time:</label>
                                      <div class="input-group">
                                        <input type="number" min="0" max="999" class="form-control text-center blur-on-enter" id="play-computer-min" value="0">
                                        <span class="input-group-text"> min </span>
                                        <input type="number" min="0" max="999" class="form-control text-center blur-on-enter" id="play-computer-inc" value="0">
                                        <span class="input-group-text"> inc </span>
                                      </div>
                                    </div>
                                    <div class="mb-3">
                                      <label class="form-heading">Player Color:</label>
                                      <div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-color" id="play-computer-color-any" checked>
                                          <label class="form-check-label" for="play-computer-color-any">Any</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-color" id="play-computer-color-white">
                                          <label class="form-check-label" for="play-computer-color-white">White</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-color" id="play-computer-color-black">
                                          <label class="form-check-label" for="play-computer-color-black">Black</label>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="mb-4">
                                      <label class="form-heading">Type:</label>
                                      <div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-type" id="play-computer-type-standard" checked>
                                          <label class="form-check-label" for="play-computer-type-standard">Standard</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-type" id="play-computer-type-chess960">
                                          <label class="form-check-label" for="play-computer-type-chess960">Chess960</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="play-computer-type" id="play-computer-type-crazyhouse">
                                          <label class="form-check-label" for="play-computer-type-crazyhouse">Crazyhouse</label>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="form-check mb-2 position-relative">
                                      <label class="form-check-label" for="play-computer-start-from-pos">Start from current board position</label>
                                      <input class="form-check-input" id="play-computer-start-from-pos" type="checkbox">
                                      <div class="invalid-tooltip">
                                        Starting position does not match game type!
                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-footer center">
                                    <button type="submit" class="btn btn-primary me-4">Play</button>
                                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                          <div class="mb-2 border-bottom border-top py-2 btn-toolbar center w-100">
                            <button type="button" class="btn btn-outline-secondary btn-block btn-md" aria-expanded="false" id="quick-game">Quick Game</button>
                            <button type="button" class="btn btn-outline-secondary btn-block btn-md" data-bs-toggle="modal" data-bs-target="#play-computer-modal" aria-expanded="false" id="play-computer"><span class="me-2 fa-solid fa-desktop" aria-hidden="false"></span>Play Computer</button>
                          </div>
                          <ul class="nav nav-tabs nav-fill" id="pills-play-subtab" role="tablist">
                            <li class="nav-item" role="presentation">
                              <button class="nav-link active" id="pills-pairing-tab" data-bs-toggle="tab" data-bs-target="#pills-pairing" type="button" role="tab" aria-controls="pills-pairing" aria-selected="true">Pairing</button>
                            </li>
                            <li class="nav-item" role="presentation">
                              <button class="nav-link" id="pills-lobby-tab" data-bs-toggle="tab" data-bs-target="#pills-lobby" type="button" role="tab" aria-controls="pills-lobby" aria-selected="false">Lobby</button>
                            </li>
                            <li class="nav-item" role="presentation">
                              <button class="nav-link" id="pills-tournaments-tab" data-bs-toggle="tab" data-bs-target="#pills-tournaments" type="button" role="tab" aria-controls="pills-tournaments" aria-selected="false">Tournaments</button>
                            </li>
                          </ul>
                          <div id="play-pane-subcontent" class="tab-content flex-grow-1 overflow-auto" style="min-height: 0">
                            <div class="tab-pane fade show active" id="pills-pairing" role="tabpanel" aria-labelledby="pills-pairing-tab">
                              <div class="btn-group-vertical btn-block center position-static" role="group" aria-label="New Game Menu">
                                <div class="pane-status" id="sent-offers-status" style="display: none"></div>
                                <div class="pane-status" id="pairing-pane-status" style="display: none"></div>
                                <div class="input-group">
                                  <span class="input-group-text" id="opponent-player-label">Play against</span>
                                  <input type="text" class="form-control blur-on-enter" id="opponent-player-name" placeholder="Anyone" aria-describedby="opponent-player-label" spellcheck="false">
                                </div>
                                <label class="form-heading" style="margin-bottom: 2px;"><span class="me-2 fa fa-bolt" aria-hidden="false"></span>Lightning</label>
                                <div class="btn-group" role="group" aria-label="Lightning">
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(1,0);">1 min</button>
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(2,0);">2 min</button>
                                </div>
                                <label class="form-heading" style="margin-bottom: 2px;"><span class="me-2 fa fa-rocket" aria-hidden="false"></span>Blitz</label>
                                <div class="btn-group" role="group" aria-label="Blitz">
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(3,0);">3 min</button>
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(5,0);">5 min</button>
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(10,0);">10 min</button>
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(2,12);">2 + 12</button>
                                </div>
                                <label class="form-heading" style="margin-bottom: 2px;"><span class="me-2 fa fa-gears" aria-hidden="false"></span>Standard</label>
                                <div class="btn-group" role="group" aria-label="Standard">
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(15,0);">15 min</button>
                                  <button type="button" class="w-100 btn btn-outline-secondary btn-md" href="#" onclick="getGame(20,0);">20 min</button>
                                </div>
                                <label class="form-heading" style="margin-bottom: 2px;"><span class="me-2 fa fa-clock-o" aria-hidden="false"></span>Custom</a></label>
                                <form id="custom-control" class="w-100">
                                  <div class="input-group">
                                    <input type="number" min="0" max="999" class="form-control text-center blur-on-enter" id="custom-control-min" value="0">
                                    <span class="input-group-text"> min </span>
                                    <input type="number" min="0" max="999" class="form-control text-center blur-on-enter" id="custom-control-inc" value="0">
                                    <span class="input-group-text"> inc </span>
                                    <span class="input-group-append">
                                      <button class="btn btn-outline-secondary btn-md" type="submit" id="custom-control-go">Go</button>
                                    </span>
                                  </div>
                                </form>
                                <div class="btn-group dropdown position-static" role="group" aria-label="Custom-2">
                                  <button class="btn btn-outline-secondary dropdown-toggle w-100" id="player-color-button" type="button" data-bs-toggle="dropdown" aria-expanded="false">Any color</button>
                                  <ul class="dropdown-menu" id="player-color-menu">
                                    <li><a class="dropdown-item" onclick="setNewGameColor('Any color');">Any color</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameColor('White');">White</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameColor('Black');">Black</a></li>
                                  </ul>
                                  <button class="btn btn-outline-secondary dropdown-toggle w-100" id="rated-unrated-button" type="button" data-bs-toggle="dropdown" aria-expanded="false">Unrated</button>
                                  <ul class="dropdown-menu" id="rated-unrated-menu">
                                    <li><a class="dropdown-item" onclick="setNewGameRated('Rated');">Rated</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameRated('Unrated');">Unrated</a></li>
                                  </ul>
                                  <button class="btn btn-outline-secondary dropdown-toggle w-100" id="variants-button" type="button" data-bs-toggle="dropdown" aria-expanded="false">Variants</button>
                                  <ul class="dropdown-menu" id="variants-menu">
                                    <li><a class="dropdown-item" onclick="setNewGameVariant('Standard', '');">Standard</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameVariant('Chess960', 'wild fr');">Chess960</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameVariant('Bughouse', 'bughouse');">Bughouse (4 player)</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameVariant('Crazyhouse', 'crazyhouse');">Crazyhouse</a></li>
                                    <li class="dropend">
                                      <a class="dropdown-item dropdown-toggle" aria-expanded="false" id="play-variant-wild">Wild</a>
                                      <ul class="dropdown-menu dropdown-submenu" aria-labelledby="play-variant-wild">
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 0', 'wild 0');">Wild 0</a></li>
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 1', 'wild 1');">Wild 1</a></li>
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 2', 'wild 2');">Wild 2</a></li>
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 3', 'wild 3');">Wild 3</a></li>
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 4', 'wild 4');">Wild 4</a></li>
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 5', 'wild 5');">Wild 5</a></li>
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 8', 'wild 8');">Wild 8</a></li>
                                        <li><a class="dropdown-item" onclick="setNewGameVariant('Wild 8a', 'wild 8a');">Wild 8a</a></li>
                                      </ul>
                                    </li>
                                    <li><a class="dropdown-item" onclick="setNewGameVariant('Losers', 'losers');">Losers</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameVariant('Atomic', 'atomic');">Atomic</a></li>
                                    <li><a class="dropdown-item" onclick="setNewGameVariant('Suicide', 'suicide');">Suicide</a></li>
                                  </ul>
                                </div>
                                <div class="d-flex center py-2">
                                  <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" id="formula-toggle" checked disabled>
                                    <label class="form-check-label" for="formula-toggle">Use formula when seeking a game</label>
                                  </div>
                                  <svg class="ms-3 info-icon" data-bs-placement="top" data-bs-trigger="hover focus" data-bs-toggle="popover" data-bs-content="Setting a formula allows you to filter opponents. For example, you could set a maximum rating difference. For more information on how to set a formula, type 'help formula' in the Console, which is in the Chat Panel." role="button">
                                    <use href="#icon-info" />
                                  </svg>
                                </div>
                                <div class="btn-group dropdown position-static" role="group" aria-label="Study">
                                  <button type="button" class="btn btn-outline-secondary btn-md" id="puzzlebot">Puzzle</button>
                                  <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Endgames</button>
                                  <ul class="dropdown-menu dropdown-menu-end" id="endgamebot">
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play kpk'); showGameTab();">kpk</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play kbnk'); showGameTab();">kbnk</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play kbbk'); showGameTab();">kbbk</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play kqk'); showGameTab();">kqk</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play krpkr'); showGameTab();">krpkr</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play krk'); showGameTab();">krk</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play kqkr'); showGameTab();">kqkr</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play kpkp'); showGameTab();">kpkp</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play kqpkq'); showGameTab();">kqpkq</a></li>
                                    <li><a class="dropdown-item" onclick="sessionSend('t endgamebot play knnkp'); showGameTab();">knnkp</a></li>
                                  </ul>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane fade h-100" id="pills-lobby" role="tabpanel" aria-labelledby="pills-lobby-tab">
                              <div class="d-flex flex-column h-100">
                                <div class="pane-status" id="lobby-pane-status" style="display: none"></div>
                                <div id="lobby" class="flex-grow-1" style="min-height: 0">
                                  <div class="d-flex flex-column h-100">
                                    <div class="center p-2 justify-content-around">
                                      <div>
                                        <input type="checkbox" class="btn-check" id="lobby-show-computers" autocomplete="off">
                                        <label class="btn btn-default border-0" for="lobby-show-computers">
                                          <span id="lobby-show-computers-icon" class="fa-regular fa-eye me-2" aria-hidden="false"></span>Computers
                                        </label>
                                      </div>
                                      <div>
                                        <input type="checkbox" class="btn-check" id="lobby-show-unrated" autocomplete="off">
                                        <label class="btn btn-default border-0" for="lobby-show-unrated">
                                          <span id="lobby-show-unrated-icon" class="fa-regular fa-eye me-2" aria-hidden="false"></span>Unrated
                                        </label>
                                      </div>
                                    </div>
                                    <div class="flex-grow-1 overflow-auto" id="lobby-table-container" style="min-height: 0;">
                                      <div class="btn-group-vertical w-100" id="lobby-table"></div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane fade h-100" id="pills-tournaments" role="tabpanel" aria-labelledby="pills-tournaments-tab">
                              <div class="pane-status" id="tournaments-pane-status" style="display: none;"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="tab-pane pt-2 fade h-100" id="pills-observe" role="tabpanel" aria-labelledby="pills-observe-tab">
                        <div class="d-flex flex-column h-100">
                          <div class="pane-status" id="observe-pane-status" style="display: none"></div>
                          <form id="observe-user">
                            <div class="input-group">
                              <span class="input-group-text" id="observe-user-group">Observe</span>
                              <input type="text" class="form-control" id="observe-username" placeholder="Player name" aria-describedby="observe-user" spellcheck="false">
                              <button type="submit" class="btn btn-outline-secondary btn-md" id="observe-go">Go</button>
                            </div>
                          </form>
                          <div class="flex-grow-1 overflow-auto" style="min-height: 0" id="games-table"></div>
                        </div>
                      </div>
                      <div class="tab-pane pt-2 fade h-100" id="pills-history" role="tabpanel" aria-labelledby="pills-history-tab">
                        <div class="d-flex flex-column h-100">
                          <div class="pane-status" id="history-pane-status" style="display: none"></div>
                          <form id="history-user">
                            <div class="input-group" id="history-user-group">
                              <span class="input-group-text" id="history-user-label">History</span>
                              <input type="text" class="form-control" id="history-username" placeholder="Player name" aria-describedby="history-user-label" spellcheck="false">
                              <button type="submit" class="btn btn-outline-secondary btn-md" id="history-go">Go</button>
                            </div>
                          </form>
                          <div class="flex-grow-1 overflow-auto" style="min-height: 0" id="history-table"></div>
                        </div>
                      </div>
                      <div class="tab-pane h-100 fade" id="pills-game" role="tabpanel" aria-labelledby="pills-game-tab">
                        <div class="d-flex flex-column h-100">
                          <button id="game-list-button" style="display: none" class="mt-1 w-100 btn btn-outline-secondary btn-md dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="label"></span>
                          </button>
                          <ul class="dropdown-menu" id="game-list-dropdown">
                            <li class="px-2 pb-2"><input type="text" class="form-control blur-on-enter" id="game-list-filter" placeholder="Filter games..." aria-label="Game list filter" spellcheck="false"></li>
                            <li id="game-list-scroll-container"><ul id="game-list-menu"></ul></li>
                          </ul>
                          <div class="modal fade" id="open-games-modal" tabindex="-1" aria-labelledby="open-games-modal-label" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <form id="open-games-form">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="open-games-modal-label"><span class="fa-solid fa-file-import me-2" aria-hidden="false"></span>Open Games (PGN/FEN)</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-header center">
                                    <button type="button" id="open-files" class="btn btn-outline-secondary"><span class="fa-solid fa-floppy-disk me-2" aria-hidden="false"></span>Open File(s)</button>
                                  </div>
                                  <div class="modal-body center flex-column">
                                    <textarea style="resize: none" id="add-games-input" class="form-control mb-3" data-select-on-focus="true" rows="10" type="text" placeholder="Paste PGNs or FENs here." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
                                    <button type="button" id="add-games-button" class="btn btn-outline-secondary"><span class="fa-solid fa-plus me-2" aria-hidden="false"></span>Add Game(s)</button>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                          <div class="modal fade" id="save-game-modal" tabindex="-1" aria-labelledby="save-game-modal-label" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <form id="save-game-form">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="save-game-modal-label"><span class="fa-solid fa-file-export me-2" aria-hidden="false"></span>Save Game (PGN/FEN)</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    <label class="form-heading" style="margin-bottom: 1px">FEN:</label>
                                    <div class="mb-3 position-relative">
                                      <input type="text" class="form-control" id="save-fen-output" style="padding-right: 2.5rem;" spellcheck="false" readonly>
                                      <button type="button" id="save-fen-copy" class="btn btn-outline-secondary btn-transparent" style="position: absolute; top: 0; right: 0;" data-bs-toggle="tooltip" title="Copy to Clipboard"><span class="fa-regular fa-clone"></span></button>
                                    </div>
                                    <label class="form-heading" style="margin-bottom: 1px">PGN:</label>
                                    <div class="mb-3 position-relative">
                                      <textarea style="resize: none" id="save-pgn-output" class="form-control" data-select-on-focus="true" style="padding-right: 2.5rem;" rows="10" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" readonly></textarea>
                                      <button type="button" id="save-pgn-copy" class="btn btn-outline-secondary btn-transparent" style="position: absolute; top: 0; right: 0;" data-bs-toggle="tooltip" title="Copy to Clipboard"><span class="fa-regular fa-clone"></span></button>
                                    </div>
                                    <div class="d-flex justify-content-center">
                                      <button type="button" id="save-pgn-button" class="btn btn-outline-secondary"><span class="fa-solid fa-floppy-disk me-2" aria-hidden="false"></span>Save PGN</button>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                          <div id="game-toolbar" class="d-flex justify-content-end" style="gap: 14px">
                            <div class="btn-group">
                              <input type="radio" checked class="btn-check" name="view-mode" id="game-table-view" autocomplete="off">
                              <label class="btn btn-outline-secondary btn-sm btn-transparent" for="game-table-view" data-bs-toggle="tooltip" data-bs-placement="top" data-fallback-placements="left,right" title="Table View">
                                <span class="fa-solid fa-table-columns" aria-hidden="false"></span>
                              </label>
                              <input type="radio" class="btn-check" name="view-mode" id="game-list-view" autocomplete="off">
                              <label class="btn btn-outline-secondary btn-sm btn-transparent" for="game-list-view" data-bs-toggle="tooltip" data-bs-placement="top" data-fallback-placements="right,left" title="List View">
                                <span class="fa-solid fa-align-justify" aria-hidden="false"></span>
                              </label>
                            </div>
                            <input type="checkbox" class="btn-check" id="game-edit-mode" autocomplete="off" aria-checked="false">
                            <label class="btn btn-outline-secondary btn-sm btn-transparent" for="game-edit-mode" data-bs-toggle="tooltip" data-bs-placement="top" title="Edit Mode" data-description="Add multiple sub-variations and annotations.">
                              <span class="fa-solid fa-pen-to-square" aria-hidden="false"></span>
                            </label>
                            <input type="checkbox" class="btn-check" id="game-preserved" autocomplete="off" aria-checked="false">
                            <label class="btn btn-outline-secondary btn-sm btn-transparent" for="game-preserved" data-bs-toggle="tooltip" data-bs-placement="top" title="Preserve Game" data-description="Stop this game being over-written when starting a new game.">
                              <span class="fa-solid fa-unlock" aria-hidden="false"></span>
                            </label>
                            <div>
                              <button type="button" id="more-game-tools" class="btn btn-outline-secondary btn-sm btn-transparent dropdown-toggle hide-caret position-relative" data-bs-toggle="dropdown" aria-expanded="false" aria-label="More game tools">
                                <div class="tooltip-overlay" data-tooltip-hover-only data-bs-toggle="tooltip" title="More game tools"></div>
                                <span class="fa-solid fa-ellipsis-vertical" aria-hidden="false"></span>
                              </button>
                              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="more-game-tools">
                                <li><a class="dropdown-item noselect" id="game-tools-new"><span class="menu-icon fa-solid fa-file-circle-plus dropdown-icon" aria-hidden="false"></span>New Game</a></li>
                                <li class="dropend">
                                  <a class="dropdown-item dropdown-toggle noselect" id="game-tools-new-variant"><span class="menu-icon fa-solid fa-file-circle-plus dropdown-icon" aria-hidden="false"></span>New Variant Game</a>
                                  <ul class="dropdown-menu dropdown-submenu" id="new-variant-game-submenu" aria-labelledby="game-tools-new-variant">
                                    <li><a class="dropdown-item noselect">Chess960</a></li>
                                    <li><a class="dropdown-item noselect">Crazyhouse</a></li>
                                    <li><a class="dropdown-item noselect">Losers</a></li>
                                  </ul>
                                </li>
                                <li><a class="dropdown-item noselect" id="game-tools-open-games" data-bs-toggle="modal" data-bs-target="#open-games-modal"><span class="menu-icon fa-solid fa-file-import dropdown-icon" aria-hidden="false"></span>Open Games (PGN/FEN)</a></li>
                                <li><a class="dropdown-item noselect" id="game-tools-save-game" data-bs-toggle="modal" data-bs-target="#save-game-modal"><span class="menu-icon fa-solid fa-file-export dropdown-icon" aria-hidden="false"></span>Save Game (PGN/FEN)</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item noselect" id="game-tools-clone"><span class="menu-icon fa-solid fa-copy dropdown-icon" aria-hidden="false"></span>Duplicate Game</a></li>
                                <li><a class="dropdown-item noselect" id="game-tools-examine"><span class="menu-icon fa-brands fa-slideshare dropdown-icon" aria-hidden="false"></span>Examine Mode (Shared)</a></li>
                                <li><a class="dropdown-item noselect" id="game-tools-setup-board"><span class="menu-icon fa-solid fa-chess-board dropdown-icon" aria-hidden="false"></span>Setup Board</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item noselect" id="game-tools-properties"><span class="menu-icon fa-solid fa-file-pen dropdown-icon" aria-hidden="false"></span>Game Properties</a></li>
                                <li style="display: none"><a class="dropdown-item noselect" id="game-tools-close"><span class="menu-icon fa-solid fa-xmark dropdown-icon" aria-hidden="false"></span>Close Game</a></li>
                              </ul>
                            </div>
                          </div>
                          <span id="game-pane-status" class="pane-status">You're not playing a game.</span>
                          <div id="movelist-container" class="flex-grow-1 overflow-auto" style="min-height: 0">
                            <table id="move-table" class="table table-sm mb-0">
                              <tbody></tbody>
                            </table>
                            <div id="movelists">
                              <div class="movelist px-2 pt-2 pb-1"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer p-0" id="left-panel-bottom" style="display: none">
                <div class="d-flex flex-column h-100 w-100 position-relative">
                  <button id="close-status" class="btn btn-default position-absolute">&times;</button>
                  <ul class="nav nav-tabs pt-2" id="left-bottom-tabs" style="visibility: hidden" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="status-tab" data-bs-toggle="tab" data-bs-target="#status-panel" type="button" role="tab" aria-controls="status-panel" aria-selected="true">Status</button>
                    </li>
                    <li class="nav-item" role="presentation" style="position: relative; display: none">
                      <button class="nav-link" id="engine-tab" style="padding-right: 30px" data-bs-toggle="tab" href="#engine-panel" role="tab" aria-controls="engine-panel" aria-selected="false">Engine</button>
                      <container class="h-100 d-flex" style="position: absolute; top: 0; right: 12px; z-index: 10">
                        <span class="closeTab align-self-center btn btn-default btn-sm">×</span>
                      </container>
                    </li>
                    <li class="nav-item" role="presentation" style="position: relative; display: none">
                      <button class="nav-link" id="eval-graph-tab" style="padding-right: 30px" data-bs-toggle="tab" href="#eval-graph-panel" role="tab" aria-controls="eval-graph-panel" aria-selected="false">Eval Graph</button>
                      <container class="h-100 d-flex" style="position: absolute; top: 0; right: 12px; z-index: 10">
                        <span class="closeTab align-self-center btn btn-default btn-sm">×</span>
                      </container>
                    </li>
                  </ul>
                  <div class="tab-content flex-grow-1" style="min-height: 0">
                    <div class="tab-pane fade show active p-1 h-100" id="status-panel" role="tabpanel" aria-labelledby="status-panel">
                      <div id="game-status-list" class="d-flex flex-column overflow-auto center h-100">
                        <div class="px-2 w-100 h-100">
                          <div class="center py-1" style="text-align: center"><span class="game-status"></span></div>
                          <div class="opening-name center py-1 border-top" style="display: none"></div>
                          <div class="game-watchers center flex-wrap pt-2 pb-1 border-top"></div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade h-100 w-100 p-1" id="engine-panel" role="tabpanel" aria-labelledby="engine-panel">
                      <div class="d-flex flex-column h-100 w-100">
                        <div style="display: flex; margin-top: 0.125rem; align-items: center;">
                          <button type="button" id="start-engine" class="me-2 btn btn-engine btn-outline-secondary btn-sm p-0" style="width: 50px;" title="Start Engine">Go</button>
                          <div id="pv-button-group" class="btn-group" style="width: 50px">
                            <button type="button" id="remove-pv" class="btn btn-engine btn-outline-secondary btn-sm p-0" title="Remove Engine Line">-</button>
                            <button type="button" id="add-pv" class="btn btn-engine btn-outline-secondary btn-sm p-0" title="Add Engine Line">+</button>
                          </div>
                          <div class="d-flex flex-grow-1 ms-auto align-items-center justify-content-between" style="max-width: 280px;">
                            <input type="checkbox" class="btn-check" id="best-move-arrow-toggle" autocomplete="off">
                            <label class="btn btn-default ms-1 py-1 px-1 border-0" style="display: block; line-height: 1; white-space: nowrap" for="best-move-arrow-toggle">
                              <span id="best-move-arrow-toggle-icon" class="fa-regular fa-eye me-2" aria-hidden="false"></span>Best Arrow
                            </label>
                            <input type="checkbox" class="btn-check" id="eval-bar-toggle" autocomplete="off">
                            <label class="btn btn-default py-1 px-1 border-0" style="display: block; line-height: 1; white-space: nowrap" for="eval-bar-toggle">
                              <span id="eval-bar-toggle-icon" class="fa-regular fa-eye me-2" style="display: inline-block; width: 18px;" aria-hidden="false"></span>Eval Bar
                            </label>
                            <button id="engine-settings-btn" type="button" style="line-height: 1;" class="btn btn-outline-secondary btn-transparent px-1 py-0" data-bs-toggle="tooltip" aria-haspopup="true" aria-expanded="false" title="Engine Settings" aria-label="Engine Settings">
                              <span class="fa-solid fa-gear" aria-hidden="false"></span>
                            </button>
                            <div class="modal fade" id="engine-settings-modal" tabindex="-1" aria-labelledby="engine-settings-modal-label" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="engine-settings-modal-label"><span class="fa fa-gear me-2" aria-hidden="false"></span><span id="engine-settings-title-text">Engine Settings</span></h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="align-items-center mb-3" style="display: flex;">
                                      <span class="me-2">Chess Engine:</span>
                                      <div class="btn-group">
                                        <button id="engine-selector-btn" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown"></button>
                                        <ul id="engine-selector-menu" class="dropdown-menu"></ul>
                                      </div>
                                    </div>
                                    <div class="align-items-center mb-3" style="display: flex;">
                                      <span class="me-2" style="white-space: nowrap">Maximum Time:</span>
                                      <input type="range" class="form-range me-2" style="margin-top: 0.125rem" id="engine-max-time-slider" min="0" max="5" value="0">
                                      <span id="engine-max-time-value" style="min-width: 9ch; white-space: nowrap;"></span>
                                    </div>
                                    <div class="align-items-center mb-3" style="display: flex;">
                                      <span class="me-2">Threads:</span>
                                      <input type="range" class="form-range me-2" style="margin-top: 0.125rem" id="engine-threads-slider" min="1" max="8" value="1">
                                      <span id="engine-threads-value" style="min-width: 9ch; white-space: nowrap;"></span>
                                    </div>
                                    <div class="align-items-center mb-3" style="display: flex;">
                                      <span class="me-2">Memory:</span>
                                      <input type="range" class="form-range me-2" style="margin-top: 0.125rem" id="engine-memory-slider" min="0" max="5" value="0">
                                      <span id="engine-memory-value" style="min-width: 9ch; white-space: nowrap;"></span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="flex-grow-1 w-100" style="min-height: 0">
                          <ul class="list-striped" id="engine-pvs"></ul>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade h-100 w-100" id="eval-graph-panel" role="tabpanel" aria-labelledby="eval-graph-panel">
                      <div class="d-flex h-100 w-100">
                        <div class="pane-status m-auto" style="font-style: italic; display: none;" id="eval-graph-status">Awaiting moves...</div>                     
                        <div id="eval-graph-container" class="h-100 w-100" style="display: none"></div>
                        <div id="eval-progress" class="center h-100 w-100" style="display: none">
                          <div class="progress h-100 w-100">
                            <div class="progress-bar" role="progressbar" aria-label="Loading Eval Graph" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">100%</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer bottom-panel" id="left-panel-footer">
              <div id="playing-game-buttons" class="btn-toolbar m-auto" style="display: none">
                <button type="button" id="takeback" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" title="Takeback">
                  <span class="fa fa-undo" aria-hidden="false"></span>
                </button>
                <button type="button" id="adjourn" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" title="Adjourn">
                  <span class="fa fa-solid fa-person-running" aria-hidden="false"></span>
                </button>
                <button type="button" id="draw" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" title="Draw">
                  <span class="fa fa-handshake-o" aria-hidden="false"></span>
                </button>
                <button type="button" id="abort" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" title="Abort">
                  <span class="fa fa-times-circle" aria-hidden="false"></span>
                </button>
                <button type="button" id="resign" class="btn btn-outline-secondary btn-md" data-bs-toggle="tooltip" data-bs-placement="top" title="Resign">
                  <span class="fa fa-flag-o" aria-hidden="false"></span>
                </button>
              </div>
              <div id="viewing-game-buttons" class="btn-toolbar center w-100">
                <button type="button" id="show-status-panel" class="btn btn-outline-secondary btn-md" title="Analyze Game" style="display: none">Analyze</button>
              </div>
            </div>
          </div>
        </div>
        <div id="mid-col" class="main-col col-sm-12 col-md-auto position-relative align-self-center">
          <div class="toast-container h-100 w-100" style="z-index: 100;">
            <div id="game-requests" aria-live="polite" aria-atomic="true"></div>
          </div>
          <div id="main-board-area">
            <div class="card game-card bg-transparent">
              <div class="card-header title-bar">
                <div class="d-flex align-items-center">
                  <button type="button" class="me-auto btn btn-outline-secondary btn-transparent" title="Maximize" aria-label="Maximize">
                    <span class="game-maximize-icon fa-regular fa-window-maximize" aria-hidden="false"></span>
                  </button>
                  <span class="title-bar-text mx-auto"></span>
                  <button type="button" class="ms-auto btn btn-outline-secondary btn-transparent" title="Close" aria-label="Close">
                    <span class="game-close-icon fa-solid fa-xmark" aria-hidden="false"></span>
                  </button>
                </div>
              </div>
              <div class="top-panel card-header p-0">
                <div class="setup-board setup-board-top h-100 w-100 justify-content-between align-items-center noselect" style="display: none">
                  <div class="setup-board-buttons">
                    <button type="button" class="reset-board btn btn-outline-secondary btn-transparent" data-bs-toggle="tooltip" title="Reset to initial position" data-bs-placement="top" data-fallback-placements="left, right">
                      <span class="fa-solid fa-rotate-left" aria-hidden="false"></span>
                    </button>
                    <button type="button" class="clear-board btn btn-outline-secondary btn-transparent" data-bs-toggle="tooltip" title="Clear board" data-bs-placement="top" data-fallback-placements="right, left">
                      <span class="fa-solid fa-trash-can" aria-hidden="false"></span>
                    </button>
                  </div>
                  <div class="cg-wrap flex-grow-1 h-100 d-flex flex-grow-1 justify-content-end align-items-center setup-board-black">
                    <div class="can-castle">
                      <div class="m-0 form-check" style="min-height: 0;" data-bs-toggle="tooltip" title="Can black castle king-side?" data-bs-placement="top" data-fallback-placements="right, left">
                        <label class="form-check-label">
                          <input class="form-check-input can-kingside-castle-black" type="checkbox" checked>
                          O-O
                        </label>
                      </div>
                      <div class="m-0 form-check" style="min-height: 0;" data-bs-toggle="tooltip" title="Can black castle queen-side?" data-bs-placement="top" data-fallback-placements="right, left">
                        <label class="form-check-label">
                          <input class="form-check-input can-queenside-castle-black" type="checkbox" checked>
                          O-O-O
                        </label>
                      </div>
                    </div>
                    <piece class="black king setup-board-piece" data-drag-piece="bK"></piece>
                    <piece class="black queen setup-board-piece" data-drag-piece="bQ"></piece>
                    <piece class="black rook setup-board-piece" data-drag-piece="bR"></piece>
                    <piece class="black bishop setup-board-piece" data-drag-piece="bB"></piece>
                    <piece class="black knight setup-board-piece" data-drag-piece="bN"></piece>
                    <piece class="black pawn setup-board-piece" data-drag-piece="bP"></piece>
                  </div>
                </div>
                <div class="h-100 w-100 justify-content-between align-items-center status noselect black-status" style="display: flex">
                  <div class="d-flex flex-grow-1 overflow-hidden align-items-center">
                    <div class="d-flex flex-grow-1 overflow-hidden align-items-center name-rating">
                      <div class="name"></div>
                      <span class="badge bg-secondary rating"></span>
                    </div>
                    <div class="captured"></div>
                  </div>
                  <div class="clock d-flex">
                    <div class="clock-time"></div>
                    <div class="fractional-clock-time" style="display: none;"></div>
                  </div>
                </div>
              </div>
              <div class="card-body p-0 noselect d-flex" id="board-card">
                <div class="eval-bar flex-column">
                  <div class="eval-bar-segment eval-bar-black d-flex flex-column">
                    <div class="eval-bar-text mx-auto"></div>
                  </div>
                  <div class="eval-bar-segment eval-bar-white d-flex flex-column">
                    <div class="eval-bar-text mx-auto"></div>
                  </div>
                </div>
                <div class="board-container flex-grow-1 position-relative" style="min-width: 0">
                  <div class="cg-wrap mw-100 board"></div>
                </div>
              </div>
              <div class="bottom-panel card-footer p-0">
                <div class="setup-board setup-board-bottom h-100 w-100 justify-content-between align-items-center noselect" style="display: none">
                  <button class="btn btn-outline-secondary dropdown-toggle color-to-move-button" type="button" data-bs-toggle="dropdown" aria-expanded="false">White's move</button>
                  <ul class="dropdown-menu" class="color-to-move-menu">
                    <li><a class="dropdown-item" onclick="setupBoardColorToMove('w');">White to move</a></li>
                    <li><a class="dropdown-item" onclick="setupBoardColorToMove('b');">Black to move</a></li>
                  </ul>
                  <div class="cg-wrap flex-grow-1 h-100 d-flex justify-content-end align-items-center setup-board-white">
                    <div class="can-castle">
                      <div class="m-0 form-check" style="min-height: 0;" data-bs-toggle="tooltip" title="Can white castle king-side?" data-bs-placement="top" data-fallback-placements="right, left">
                        <label class="form-check-label">
                          <input class="form-check-input can-kingside-castle-white" type="checkbox" checked>
                          O-O
                        </label>
                      </div>
                      <div class="m-0 form-check" style="min-height: 0;" data-bs-toggle="tooltip" title="Can white castle queen-side?" data-bs-placement="top" data-fallback-placements="right, left">
                        <label class="form-check-label">
                          <input class="form-check-input can-queenside-castle-white" type="checkbox" checked>
                          O-O-O
                        </label>
                      </div>
                    </div>
                    <piece class="white king setup-board-piece" data-drag-piece="wK"></piece>
                    <piece class="white queen setup-board-piece" data-drag-piece="wQ"></piece>
                    <piece class="white rook setup-board-piece" data-drag-piece="wR"></piece>
                    <piece class="white bishop setup-board-piece" data-drag-piece="wB"></piece>
                    <piece class="white knight setup-board-piece" data-drag-piece="wN"></piece>
                    <piece class="white pawn setup-board-piece" data-drag-piece="wP"></piece>
                  </div>
                </div>
                <div class="h-100 w-100 justify-content-between align-items-center status noselect white-status" style="display: flex">
                  <div class="d-flex flex-grow-1 overflow-hidden align-items-center">
                    <div class="d-flex flex-grow-1 overflow-hidden align-items-center name-rating">
                      <div class="name"></div>
                      <span class="badge bg-secondary rating"></span>
                    </div>
                    <div class="captured"></div>
                  </div>
                  <div class="clock d-flex">
                    <div class="clock-time"></div>
                    <div class="fractional-clock-time" style="display: none;"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="right-col" class="main-col col-sm-12 col-md-12 col-lg position-relative">
          <div class="card bg-transparent" id="right-card">
            <div class="top-panel card-header" id="right-panel-header" style="visibility: hidden">
              <div id="user-dropdown" class="dropdown btn-toolbar my-auto me-auto position-relative" style="max-width: 42%">
                <button class="w-100 btn btn-outline-secondary btn-md dropdown-toggle hide-caret" type="button" id="connectButton" data-bs-toggle="dropdown" aria-label="Connect/Disconnect" aria-expanded="false">
                  <div class="tooltip-overlay" data-tooltip-hover-only data-bs-toggle="tooltip" title="Connect/Disconnect"></div>
                  <div id="session-status" class="w-100"></div>
                </button>
                <div class="dropdown-menu" aria-labelledby="connectButton">
                  <a class="dropdown-item noselect" id="disconnect"><span class="fa fa-unlink dropdown-icon" aria-hidden="false"></span>Disconnect</a>
                  <a class="dropdown-item noselect" id="connect-guest"><span class="fa fa-user-secret dropdown-icon" aria-hidden="false"></span>Connect as Guest</a>
                  <a class="dropdown-item noselect" id="connect-user"><span class="fa fa-user dropdown-icon" aria-hidden="false"></span>Connect as User</a>
                </div>
              </div>
              <div class="btn-toolbar my-auto ms-auto">
                <button id="users-btn" class="btn btn-outline-secondary btn-md" type="button" aria-label="Users" data-bs-toggle="tooltip" data-fallback-placements="left, right" title="Users">
                  <span id="users-icon" class="fa-solid fa-users" aria-hidden="false"></span>
                </button>
                <div class="modal fade" id="settings-modal" tabindex="-1" aria-labelledby="settings-modal-label" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="settings-modal-label"><span class="fa fa-gear me-2" aria-hidden="false"></span><span id="settings-title-text">Settings</span></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <form id="basic-settings" class="settings-pane">
                          <div class="form-group row">
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="autopromote-toggle" checked>
                                <label class="form-check-label" for="autopromote-toggle"><span id="autopromote-toggle-icon" class="fa fa-chess-queen dropdown-icon" aria-hidden="false"></span>Queen Auto-promote</label>
                              </div>
                            </div>
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="wakelock-toggle" checked>
                                <label class="form-check-label" for="wakelock-toggle"><span id="wakelock-toggle-icon" class="fa fa-lock dropdown-icon" aria-hidden="false"></span>Wake Lock</label>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row">
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="notifications-toggle" checked>
                                <label class="form-check-label" for="notifications-toggle"><span id="notifications-toggle-icon" class="fa fa-bell dropdown-icon" aria-hidden="false"></span>Notifications</label>
                              </div>
                            </div>
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="timestamp-toggle" checked>
                                <label class="form-check-label" for="timestamp-toggle"><span id="timestamp-toggle-icon" class="fa fa-clock-o dropdown-icon" aria-hidden="false"></span>Timestamp</label>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row">
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="chattabs-toggle" checked>
                                <label class="form-check-label" for="chattabs-toggle"><span id="chattabs-toggle-icon" class="fa-solid fa-comments dropdown-icon" aria-hidden="false"></span>Chat Tabs</label>
                              </div>
                            </div>
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="multiboard-toggle" checked>
                                <label class="form-check-label" for="multiboard-toggle"><span id="multiboard-toggle-icon" class="fa fa-window-restore dropdown-icon" aria-hidden="false"></span>Multi-board Mode</label>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row">
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="multiple-premoves-toggle" checked>
                                <label class="form-check-label" for="multiple-premoves-toggle"><span id="multiple-premoves-toggle-icon" class="fa-solid fa-arrows-turn-to-dots dropdown-icon" aria-hidden="false"></span>Multiple Premoves
                                  <svg class="ms-1 info-icon" data-bs-placement="top" data-bs-trigger="hover focus" data-bs-toggle="popover" data-bs-content="To cancel multiple premoves, use double click or right click." role="button"><use href="#icon-info"/></svg>
                                </label>
                              </div>
                            </div>
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="smartmove-toggle" checked>
                                <label class="form-check-label" for="smartmove-toggle"><span id="smartmove-toggle-icon" class="fa-solid fa-brain dropdown-icon" aria-hidden="false"></span>Smart Move
                                  <svg class="ms-1 info-icon" data-bs-placement="top" data-bs-trigger="hover focus" data-bs-toggle="popover" data-bs-content="Move a piece by clicking only its destination square. Only works if there is a single piece that can legally move there. Warning: Use with care." role="button"><use href="#icon-info"/></svg>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div id="advanced-settings-link" class="form-group pt-1">
                            <a href="javascript:void(0)">Advanced >></a>
                          </div>
                          <hr/>
                          <div class="form-group row">
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="piece-glyphs-toggle" checked>
                                <label class="form-check-label" for="piece-glyphs-toggle"><span id="piece-glyphs-toggle-icon" class="fa-solid fa-chess dropdown-icon" aria-hidden="false"></span>Movelist Piece Glyphs</label>
                              </div>
                            </div>
                            <div class="col">
                              <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="highlights-toggle" checked>
                                <label class="form-check-label" for="highlights-toggle"><span id="highlights-toggle-icon" class="fa fa-arrows-spin dropdown-icon" aria-hidden="false"></span>Board Highlights</label>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row mt-1">
                            <div class="col d-flex" id="textsize-control">
                              <input type="range" class="custom-range me-2" value="1" min="0.8" max="1.4" step="0.2" id="textsize-range">
                              <label for="textsize-range">Text Size</label>
                            </div>
                          </div>
                          <div class="form-group row dropdown">
                            <div class="col">
                            <legend class="col-form-label">Themes</legend>  
                            <button id="themes-button" class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" style="width: 200px" aria-expanded="false"></button>
                            <ul class="dropdown-menu" id="themes-menu">
                              <li class="dropdown-item noselect" id="theme-default"><div class="color-box" style="border: 1px solid currentColor; background-color: #DDE3E6"></div>Arctic Blue</li>
                              <li class="dropdown-item noselect" id="theme-green"><div class="color-box" style="border: 1px solid currentColor; background-color: #E6FFEC"></div>Green Bean</li>
                              <li class="dropdown-item noselect" id="theme-yellow"><div class="color-box" style="border: 1px solid currentColor; background-color: #F5EDE2"></div>Coffee & Cream</li>
                              <li class="dropdown-item noselect" id="theme-gray"><div class="color-box" style="border: 1px solid currentColor; background-color: #424242"></div>Space Gray</li>
                              <li class="dropdown-item noselect" id="theme-purple"><div class="color-box" style="border: 1px solid currentColor; background-color: #E1CFED"></div>Purple Haze</li>
                              <li class="dropdown-item noselect" id="theme-ic"><div class="color-box" style="border: 1px solid currentColor; background-color: #ECECEC"></div>Stonewash</li>
                              <li class="dropdown-item noselect" id="theme-newspaper"><div class="color-box" style="border: 1px solid currentColor; background-color: #DCDCDC"></div>Pressroom</li>
                              <li class="dropdown-item noselect" id="theme-brown"><div class="color-box" style="border: 1px solid currentColor; background-color: #f0d9b5"></div>Brownie</li>
                              <li class="dropdown-item noselect" id="theme-red"><div class="color-box" style="border: 1px solid currentColor; background-color: #ffc8c8"></div>Red Velvet</li>
                            </ul>
                            </div>
                          </div>
                          <div class="form-group row">
                            <legend class="col-form-label">Boards</legend>
                            <div id="boards-menu" class="btn-group" role="group" aria-label="Boards">
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #dee3e6 50%, #8ca2ad 50%)" id="board-blue"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #eaffea 50%, #7aab80 50%)" id="board-green"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #f4ede1 50%, #c6ab8e 50%)" id="board-yellow"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #d3d3d3 50%, #555555 50%)" id="board-gray"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #decfef 50%, #b160ca 50%)" id="board-purple"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #ececec 50%, #c1c18e 50%)" id="board-ic"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #dcdcdc 50%, #c9c9c9 50%)" id="board-newspaper"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #f0d9b5 50%, #b58863 50%)" id="board-brown"></button>
                              <button type="button" class="btn btn-outline-dark col p-3" style="background: linear-gradient(to right, #ffc8c8 50%, #d94e4e 50%)" id="board-red"></button>
                            </div>
                          </div>
                          <div class="form-group row pe-2">
                            <legend class="col-form-label">Pieces</legend>
                            <div>
                              <div class="d-flex flex-wrap gap-1" id="pieces-menu" aria-label="Pieces">
                                <button type="button" class="btn btn-outline-secondary" id="pieces-merida" data-bs-toggle="tooltip" title="Merida"><img src="assets/css/images/pieces/merida/wK.svg" width="36"/></button>
                                <button type="button" class="btn btn-outline-secondary" id="pieces-cburnett" data-bs-toggle="tooltip" title="Cburnett"><img src="assets/css/images/pieces/cburnett/wK.svg" width="36"/></button>
                                <button type="button" class="btn btn-outline-secondary" id="pieces-alpha" data-bs-toggle="tooltip" title="Alpha"><img src="assets/css/images/pieces/alpha/wK.svg" width="36"/></button>
                                <button type="button" class="btn btn-outline-secondary" id="pieces-cardinal" data-bs-toggle="tooltip" title="Cardinal"><img src="assets/css/images/pieces/cardinal/wK.svg" width="36"/></button>
                                <button type="button" class="btn btn-outline-secondary" id="pieces-leipzig" data-bs-toggle="tooltip" title="Leipzig"><img src="assets/css/images/pieces/leipzig/wK.svg" width="36"/></button>
                                <button type="button" class="btn btn-outline-secondary" id="pieces-maestro" data-bs-toggle="tooltip" title="Maestro"><img src="assets/css/images/pieces/maestro/wK.svg" width="36"/></button>
                                <button type="button" class="btn btn-outline-secondary" id="pieces-pirouetti" data-bs-toggle="tooltip" title="Pirouetti"><img src="assets/css/images/pieces/pirouetti/wK.svg" width="36"/></button>
                                <button type="button" class="btn btn-outline-secondary" id="pieces-spatial" data-bs-toggle="tooltip" title="Spatial"><img src="assets/css/images/pieces/spatial/wK.svg" width="36"/></button>
                              </div>
                            </div>
                          </div>
                        </form>
                        <form id="advanced-settings" class="settings-pane" style="display: none;">
                          <div class="mb-5">
                            <button type="button" id="advanced-settings-back" class="settings-back btn btn-outline-secondary btn-transparent p-0" data-tooltip-hover-only data-bs-toggle="tooltip" title="Back to Basic Settings"><i class="fa-solid fa-arrow-left"></i></button>
                          </div>
                          <div class="d-flex justify-content-center">
                            <button type="button" id="custom-shortcuts-button" class="btn btn-outline-secondary" title="Custom Keyboard Shortcuts">Custom Keyboard Shortcuts</button>
                          </div>
                        </form>
                        <form id="custom-shortcuts-settings" class="settings-pane" style="display: none;">
                          <div class="d-flex flex-column h-100">
                            <div class="mb-2">
                              <button type="button" id="custom-shortcuts-back" class="settings-back btn btn-outline-secondary btn-transparent p-0" data-tooltip-hover-only data-bs-toggle="tooltip" title="Back to Advanced Settings"><i class="fa-solid fa-arrow-left"></i></button>
                            </div>
                            <label class="form-heading mb-1">Shortcuts:</label>
                            <div class="d-flex flex-grow-1" style="min-height: 0; gap: 20px;">
                              <ul id="shortcuts-list" class="dropdown-menu show">
                              </ul>
                              <div id="shortcut-settings-right-col" style="flex-shrink: 0;">
                                <div id="shortcut-buttons" class="mb-3" style="display: inline-block;">
                                  <button type="button" id="new-shortcut" class="btn btn-outline-secondary btn-sm" title="New Shortcut">New Shortcut</button>
                                  <button type="button" id="remove-shortcut" class="btn btn-outline-secondary btn-sm" title="Remove Shortcut">Remove Shortcut</button>
                                </div>
                                <div id="shortcut-input-group" class="input-group" style="margin-bottom: 0.75rem;">
                                  <label id="shortcut-modifier-label" class="input-group-text">Ctrl + Shift + </label>
                                  <input type="text" id="shortcut-key" class="form-control text-center" autocomplete="off" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" aria-label="shortcut key">
                                  <div id="shortcut-key-feedback" class="invalid-feedback"></div>
                                </div>
                                <textarea style="resize: none;" rows="10" id="shortcut-commands" class="form-control" type="text" placeholder="Enter server commands here" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
                                <div class="mt-2" id="macros-key">
                                  <div><span class="macros-key-name">%user%</span><span class="macros-key-description"> &ndash; Yourself</span></div>
                                  <div><span class="macros-key-name">%opponent%</span><span class="macros-key-description"> &ndash; Current or last opponent</span></div>
                                  <div><span class="macros-key-name">%game%</span><span class="macros-key-description"> &ndash; Game ID</span></div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="settings-dropdown" class="dropdown" data-bs-toggle="tooltip" data-bs-placement="left" title="Settings">
                  <button class="btn btn-outline-secondary btn-md dropdown-toggle hide-caret" type="button" id="settingsButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Settings">
                    <span class="fa fa-gear" aria-hidden="false"></span>
                  </button>
                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="settingsButton">
                    <div class="dropdown-item noselect" id="flip-toggle"><span id="flip-toggle-icon" class="fa fa-refresh dropdown-icon" aria-hidden="false"></span>Flip Board</div>
                    <div class="dropdown-item noselect" id="sound-toggle"><span id="sound-toggle-icon" class="fa fa-volume-up dropdown-icon" aria-hidden="false"></span>Sounds ON</div>
                    <div class="dropdown-item noselect" id="open-settings" data-bs-toggle="modal" data-bs-target="#settings-modal"><span id="open-settings-icon" class="fa-solid fa-gears dropdown-icon" aria-hidden="false"></span>Settings</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item disabled noselect" id="version"></div>
                  </div>
                </div>
                <span tabindex="0" data-bs-toggle="tooltip" data-bs-placement="left" data-tooltip-hover-only title="No notifications">
                  <button id="notifications-btn" style="position: relative" class="btn btn-outline-secondary btn-md" type="button" aria-label="Notifications" data-bs-toggle="button" disabled>
                    <span id="notifications-icon" class="fa fa-bell" aria-hidden="false"></span>
                    <svg id="notifications-bubble" class="counter-bubble h-100 w-100" style="display: none; position: absolute; top: 0; left: 0">
                      <circle cx="50%" cy="50%" transform="translate(6, -6)" r="6" />
                      <text id="notifications-number" class="counter-number" x="50%" y="50%" transform="translate(6, -5)" text-anchor="middle" alignment-baseline="middle"></text>
                    </svg>
                  </button>
                  <span></span> <!-- This tricks bootstrap into allowing the outer <span> wrapper in a btn-toolbar (so we can have a tooltip on a disabled button) -->
                </span>
                <div>
                  <button id="chat-toggle-btn" style="position: relative" class="btn btn-outline-secondary btn-md" type="button" data-bs-toggle="dropdown" data-bs-target="#chat-toggle-menu" aria-controls="chat-toggle-menu" aria-expanded="false" aria-label="Chat">
                    <div class="tooltip-overlay" data-tooltip-hover-only data-bs-toggle="tooltip" data-fallback-placements="left, right" title="Chat"></div>
                    <span id="chat-toggle-icon" class="fa fa-comment" aria-hidden="false"></span>
                    <svg id="chat-unviewed-bubble" class="counter-bubble h-100 w-100" style="display: none; position: absolute; top: 0; left: 0">
                      <circle cx="50%" cy="50%" transform="translate(6, -6)" r="6" />
                      <text id="chat-unviewed-number" class="counter-number" x="50%" y="50%" transform="translate(6, -5)" text-anchor="middle" alignment-baseline="middle"></text>
                    </svg>
                  </button>
                  <ul class="dropdown-menu noselect" id="chat-toggle-menu">
                    <li><a class="dropdown-item" data-action="maximize"><span class="menu-icon fa-solid fa-up-right-and-down-left-from-center dropdown-icon" aria-hidden="false"></span><span class="menu-label">Maximize Chat</span></a></li>
                    <li><a class="dropdown-item" data-action="show-hide"><span class="menu-icon fa-solid fa-eye-slash dropdown-icon" aria-hidden="false"></span><span class="menu-label">Hide Chat</span></a></li>
                  </ul>
                </div>
              </div>
              <div class="modal fade" id="users-modal" tabindex="-1" aria-labelledby="users-modal-label" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="users-modal-label"><span class="fa-solid fa-users me-2" aria-hidden="false"></span><span id="users-title-text">Users</span></h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <ul class="nav nav-tabs nav-justified">
                        <li class="nav-item" role="presentation">
                          <button class="nav-link active" id="friends-tab" data-bs-toggle="tab" data-bs-target="#friends-panel" type="button" role="tab" aria-controls="friends-panel" aria-selected="true">Friends</button>
                        </li>
                        <li class="nav-item" role="presentation">
                          <button class="nav-link" id="online-users-tab" data-bs-toggle="tab" data-bs-target="#online-users-panel" type="button" role="tab" aria-controls="online-users-panel" aria-selected="true">Online Users</button>
                        </li>
                        <li class="nav-item" role="presentation">
                          <button class="nav-link" id="top-players-tab" data-bs-toggle="tab" data-bs-target="#top-players-panel" type="button" role="tab" aria-controls="top-players-panel" aria-selected="true">Top Players</button>
                        </li>
                      </ul>
                      <div class="tab-content" id="users-content" style="height: 500px;">
                        <div class="tab-pane fade show active h-100 pt-3" id="friends-panel" role="tabpanel" aria-labelledby="friends-tab">
                          <div class="d-flex flex-column h-100">
                            <form id="add-friend">
                              <div class="input-group">
                                <input type="text" class="form-control" id="add-friend-input" placeholder="Friend's username" aria-describedby="add-friend" spellcheck="false" autocomplete="off">
                                <button type="submit" class="btn btn-outline-secondary btn-md" id="add-friend-btn">Add Friend</button>
                              </div>
                              <ul class="dropdown-menu" id="add-friend-suggestions">
                              </ul>
                            </form>
                            <div id="friends-table-container" class="mt-3 mb-1 flex-grow-1 overflow-auto" style="min-height: 0;">
                              <table id="friends-table" class="table table-sm table-borderless table-striped modal-table users-table">
                                <thead>
                                  <tr>
                                    <th scope="col" class="sortable-column" data-sort="asc" data-priority="2"><div class="sort-header-wrapper">Name<i class="fa fa-sort"></i></div></th>
                                    <th scope="col" class="sortable-column text-end" data-sort="desc" data-priority="3"><div class="sort-header-wrapper"><i class="fa fa-sort"></i>Rating</div></th>
                                    <th scope="col" class="sortable-column sort-primary" data-sort="asc" data-priority="1"><div class="sort-header-wrapper">Status<i class="fa fa-sort"></i></div></th>
                                  </tr>
                                </thead>
                                <tbody>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane fade h-100" id="online-users-panel" role="tabpanel" aria-labelledby="online-users-tab">
                          <div class="d-flex flex-column h-100 pt-3">
                            <div class="position-relative">
                              <i class="fa-solid fa-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                              <input type="text" class="form-control" id="search-online-users" placeholder="Username..." aria-label="Search online users" spellcheck="false" autocomplete="off" style="padding-left: 2.5rem;">
                            </div>                            
                            <div id="online-users-table-container" class="mt-3 mb-1 flex-grow-1 overflow-auto" style="min-height: 0;">
                              <table id="online-users-table" class="table table-sm table-borderless table-striped modal-table users-table">
                                <thead>
                                  <tr>
                                    <th scope="col" class="sortable-column" data-sort="asc" data-priority="2"><div class="sort-header-wrapper">Name<i class="fa fa-sort"></i></div></th>
                                    <th scope="col" class="sortable-column sort-primary text-end" data-sort="desc" data-priority="1"><div class="sort-header-wrapper"><i class="fa fa-sort"></i>Rating</div></th>
                                    <th scope="col">Status</th>
                                  </tr>
                                </thead>
                                <tbody>
                                </tbody>
                              </table>
                            </div>
                            <span id="online-users-count" class="mt-2" style="display: none; font-weight: bold"></span>
                          </div>
                        </div>
                        <div class="tab-pane fade h-100" id="top-players-panel" role="tabpanel" aria-labelledby="top-players-tab">
                          <div class="d-flex flex-column h-100 pt-3">
                            <button class="btn btn-outline-secondary dropdown-toggle" style="width: 15ch" id="top-players-category-btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">Blitz</button>
                            <ul class="dropdown-menu noselect" id="top-players-category-menu">
                              <li><a class="dropdown-item">Blitz</a></li>
                              <li><a class="dropdown-item">Standard</a></li>
                              <li><a class="dropdown-item">Lightning</a></li>
                              <li><a class="dropdown-item">Bughouse</a></li>
                              <li><a class="dropdown-item">Crazyhouse</a></li>
                              <li><a class="dropdown-item">Wild</a></li>
                              <li><a class="dropdown-item">Suicide</a></li>
                              <li><a class="dropdown-item">Losers</a></li>
                              <li><a class="dropdown-item">Atomic</a></li>
                            </ul>
                            <div id="top-players-table-container" class="mt-3 mb-1 flex-grow-1 overflow-auto" style="min-height: 0;">
                              <table id="top-players-table" class="table table-sm table-borderless table-striped modal-table users-table">
                                <thead>
                                  <tr>
                                    <th scope="col" class="sortable-column" data-sort="asc" data-priority="2"><div class="sort-header-wrapper">Name<i class="fa fa-sort"></i></div></th>
                                    <th scope="col" class="sortable-column sort-primary text-end" data-sort="desc" data-priority="1"><div class="sort-header-wrapper"><i class="fa fa-sort"></i>Rating</div></th>
                                    <th scope="col" class="sortable-column" data-sort="asc" data-priority="3"><div class="sort-header-wrapper">Status<i class="fa fa-sort"></i></div></th>
                                  </tr>
                                </thead>
                                <tbody>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div id="inner-right-panels">
              <div id="secondary-board-area" class="pt-1 ps-lg-2 pe-lg-1"></div>
              <div id="collapse-chat" class="collapse show collapse-init">
                <div id="chat-panel" class="d-flex flex-column position-relative">
                  <div class="card-body d-flex flex-column flex-grow-1" style="min-height: 0">
                    <div class="d-flex">
                      <ul class="nav nav-tabs d-flex flex-grow-1 flex-wrap justify-content-start user-select-none" role="tablist" id="tabs">
                        <div id="start-chat-dropdown" class="d-flex dropend">
                          <button class="btn btn-outline-secondary btn-sm dropdown-toggle hide-caret" type="button" id="start-chat-button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Start Chat">
                            <div class="tooltip-overlay" data-tooltip-hover-only data-bs-toggle="tooltip" data-bs-placement="top" title="Start Chat"></div>
                            <span class="fa fa-plus-square" aria-hidden="false"></span>
                          </button>
                          <div id="start-chat-menu" class="dropdown-menu" aria-labelledby="start-chat-button">
                            <li class="px-2 pb-2"><input type="text" class="form-control blur-on-enter" id="start-chat-input" placeholder="Start chat with..." aria-label="Start chat with..." spellcheck="false" autocomplete="off"></li>
                            <li id="add-remove-channels" class="center"><button class="btn btn-outline-secondary" type="button">Add or remove chat channels</button></li>
                            <li><ul id="start-chat-users-channels" class="p-0" style="list-style: none; overflow-y: auto; max-height: 500px;">
                              <li><ul id="subscribed-channels" class="p-0" style="list-style: none;">
                                <li class="dropdown-header">SUBSCRIBED CHANNELS</li>
                              </ul></li>
                              <li><ul id="start-chat-matching-users" class="p-0" style="list-style: none">
                                <li><h6 class="dropdown-header">USERS</h6></li>
                              </ul></li>
                              <li><ul id="start-chat-matching-channels" class="p-0 mt-2" style="list-style: none">
                                <li><h6 class="dropdown-header">CHANNELS</h6></li>
                              </ul></li>
                            </ul></li>
                          </div>
                          <div class="modal fade" id="channels-modal" tabindex="-1" aria-labelledby="channels-modal-label" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h5 class="modal-title" id="channels-modal-label">Add or Remove Chat Channels</h5>
                                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                  <div id="channels-modal-list" class="mb-1" style="height: 500px; overflow-y: scroll;">
                                    <table class="table table-sm table-borderless table-striped modal-table">
                                      <thead>
                                        <tr>
                                          <th scope="col">Channel</th>
                                          <th scope="col">Subscribed</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <li class="nav-item">
                          <button class="text-sm-center nav-link active" data-bs-toggle="tab" href="#content-console" id="tab-console" role="tab">Console</button>
                        </li>
                      </ul>
                      <button class="align-self-start btn btn-outline-secondary btn-sm" style="display: none" type="button" id="collapse-chat-arrow" aria-label="Close Chat">
                        <span class="fa-solid fa-arrow-up" aria-hidden="false"></span>
                      </button>
                    </div>
                    <div class="tab-content d-flex flex-column flex-grow-1 position-relative" style="min-height: 0" id="chat-tabContent">
                      <button id="chat-scroll-button" class="btn btn-info" title="Scroll to bottom">
                        <span class="fa-solid fa-arrow-down" aria-hidden="false"></span>
                      </button>
                      <div class="tab-pane show active" id="content-console" role="tabpanel">
                      </div>
                    </div>
                  </div>
                  <div id="right-panel-footer" class="bottom-panel card-footer widget">
                    <form id="input-form" class="form-inline d-flex h-100 w-100">
                      <div class="input-group input-group-md m-auto">
                        <div id="fake-input-text" class="form-control p-0 d-flex">
                          <textarea id="input-text" class="form-control" rows="1" type="text" placeholder="Type message here and press Enter to send!" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
                          <div id="emoji-button-container">
                            <button type="button" id="emoji-button" class="btn btn-outline-secondary btn-transparent" data-tooltip-hover-only data-bs-toggle="tooltip" title="Choose an emoji">
                              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>
                            </button>
                            <div id="emoji-panel">
                              <div class="emoji-panel-arrow"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal" id="login-screen" tabindex="-1" role="dialog" aria-labelledby="login-modal" aria-hidden="true">
            <div class="modal-dialog modal-sm" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="login-modal">Login to FICS</h5>
                  <button type="button" class="btn btn-outline-secondary close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <form id="login-form">
                    <div class="mb-2 form-check form-switch">
                      <input id="login-as-guest" class="form-check-input" type="checkbox" role="switch">
                      <label class="form-check-label" for="login-as-guest">
                        Login as Guest
                      </label>
                    </div>
                    <div class="mb-3">
                      <input id="login-user" type="text" class="form-control" placeholder="Username" autocomplete="username" required>
                      <div class="invalid-tooltip">
                        You're already logged in!
                      </div>
                    </div>
                    <div class="mb-3">
                      <input id="login-pass" type="password" class="form-control" placeholder="Password" autocomplete="current-password">
                    </div>
                    <div class="mb-1 form-check">
                      <input id="remember-me" type="checkbox" class="form-check-input">
                      <label class="form-check-label" for="remember-me">
                        Remember me
                      </label>
                    </div>
                    Not a member? <a href="https://www.freechess.org/cgi-bin/Register/FICS_register.cgi?Language=English" target="_blank">Register</a> here.
                    <div class="mt-2 mb-2 pt-3 border-top center justify-content-evenly">
                      <button type="submit" id="login" class="btn btn-primary">Login</button>
                      <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3@7.8.0/dist/d3.min.js" integrity="sha384-BfdMhEKmGjfIcPlLK2EXeY8IW+8aVgSwDo8P3DHR4+iceT2QW/ygYkMeZ2dZ77j4" crossorigin="anonymous"></script>
</body>
</html>
